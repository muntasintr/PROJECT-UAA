(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))l(r);new MutationObserver(r=>{for(const c of r)if(c.type==="childList")for(const h of c.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(r){const c={};return r.integrity&&(c.integrity=r.integrity),r.referrerPolicy&&(c.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?c.credentials="include":r.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function l(r){if(r.ep)return;r.ep=!0;const c=a(r);fetch(r.href,c)}})();var cu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zf(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}var gf={exports:{}},Nl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lp;function sv(){if(Lp)return Nl;Lp=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function a(l,r,c){var h=null;if(c!==void 0&&(h=""+c),r.key!==void 0&&(h=""+r.key),"key"in r){c={};for(var p in r)p!=="key"&&(c[p]=r[p])}else c=r;return r=c.ref,{$$typeof:o,type:l,key:h,ref:r!==void 0?r:null,props:c}}return Nl.Fragment=n,Nl.jsx=a,Nl.jsxs=a,Nl}var Pp;function lv(){return Pp||(Pp=1,gf.exports=sv()),gf.exports}var v=lv(),yf={exports:{}},Ke={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function rv(){if(Bp)return Ke;Bp=1;var o=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),h=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),A=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=A&&D[A]||D["@@iterator"],typeof D=="function"?D:null)}var M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,I={};function R(D,B,ce){this.props=D,this.context=B,this.refs=I,this.updater=ce||M}R.prototype.isReactComponent={},R.prototype.setState=function(D,B){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,B,"setState")},R.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function k(){}k.prototype=R.prototype;function z(D,B,ce){this.props=D,this.context=B,this.refs=I,this.updater=ce||M}var H=z.prototype=new k;H.constructor=z,b(H,R.prototype),H.isPureReactComponent=!0;var O=Array.isArray;function W(){}var J={H:null,A:null,T:null,S:null},de=Object.prototype.hasOwnProperty;function Z(D,B,ce){var re=ce.ref;return{$$typeof:o,type:D,key:B,ref:re!==void 0?re:null,props:ce}}function ge(D,B){return Z(D.type,B,D.props)}function Me(D){return typeof D=="object"&&D!==null&&D.$$typeof===o}function V(D){var B={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(ce){return B[ce]})}var se=/\/+/g;function w(D,B){return typeof D=="object"&&D!==null&&D.key!=null?V(""+D.key):B.toString(36)}function he(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(W,W):(D.status="pending",D.then(function(B){D.status==="pending"&&(D.status="fulfilled",D.value=B)},function(B){D.status==="pending"&&(D.status="rejected",D.reason=B)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function j(D,B,ce,re,pe){var Ue=typeof D;(Ue==="undefined"||Ue==="boolean")&&(D=null);var Oe=!1;if(D===null)Oe=!0;else switch(Ue){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(D.$$typeof){case o:case n:Oe=!0;break;case _:return Oe=D._init,j(Oe(D._payload),B,ce,re,pe)}}if(Oe)return pe=pe(D),Oe=re===""?"."+w(D,0):re,O(pe)?(ce="",Oe!=null&&(ce=Oe.replace(se,"$&/")+"/"),j(pe,B,ce,"",function(pt){return pt})):pe!=null&&(Me(pe)&&(pe=ge(pe,ce+(pe.key==null||D&&D.key===pe.key?"":(""+pe.key).replace(se,"$&/")+"/")+Oe)),B.push(pe)),1;Oe=0;var He=re===""?".":re+":";if(O(D))for(var Ve=0;Ve<D.length;Ve++)re=D[Ve],Ue=He+w(re,Ve),Oe+=j(re,B,ce,Ue,pe);else if(Ve=x(D),typeof Ve=="function")for(D=Ve.call(D),Ve=0;!(re=D.next()).done;)re=re.value,Ue=He+w(re,Ve++),Oe+=j(re,B,ce,Ue,pe);else if(Ue==="object"){if(typeof D.then=="function")return j(he(D),B,ce,re,pe);throw B=String(D),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function Q(D,B,ce){if(D==null)return D;var re=[],pe=0;return j(D,re,"","",function(Ue){return B.call(ce,Ue,pe++)}),re}function Ee(D){if(D._status===-1){var B=D._result;B=B(),B.then(function(ce){(D._status===0||D._status===-1)&&(D._status=1,D._result=ce)},function(ce){(D._status===0||D._status===-1)&&(D._status=2,D._result=ce)}),D._status===-1&&(D._status=0,D._result=B)}if(D._status===1)return D._result.default;throw D._result}var ye=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Re={map:Q,forEach:function(D,B,ce){Q(D,function(){B.apply(this,arguments)},ce)},count:function(D){var B=0;return Q(D,function(){B++}),B},toArray:function(D){return Q(D,function(B){return B})||[]},only:function(D){if(!Me(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Ke.Activity=S,Ke.Children=Re,Ke.Component=R,Ke.Fragment=a,Ke.Profiler=r,Ke.PureComponent=z,Ke.StrictMode=l,Ke.Suspense=y,Ke.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,Ke.__COMPILER_RUNTIME={__proto__:null,c:function(D){return J.H.useMemoCache(D)}},Ke.cache=function(D){return function(){return D.apply(null,arguments)}},Ke.cacheSignal=function(){return null},Ke.cloneElement=function(D,B,ce){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var re=b({},D.props),pe=D.key;if(B!=null)for(Ue in B.key!==void 0&&(pe=""+B.key),B)!de.call(B,Ue)||Ue==="key"||Ue==="__self"||Ue==="__source"||Ue==="ref"&&B.ref===void 0||(re[Ue]=B[Ue]);var Ue=arguments.length-2;if(Ue===1)re.children=ce;else if(1<Ue){for(var Oe=Array(Ue),He=0;He<Ue;He++)Oe[He]=arguments[He+2];re.children=Oe}return Z(D.type,pe,re)},Ke.createContext=function(D){return D={$$typeof:h,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},Ke.createElement=function(D,B,ce){var re,pe={},Ue=null;if(B!=null)for(re in B.key!==void 0&&(Ue=""+B.key),B)de.call(B,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(pe[re]=B[re]);var Oe=arguments.length-2;if(Oe===1)pe.children=ce;else if(1<Oe){for(var He=Array(Oe),Ve=0;Ve<Oe;Ve++)He[Ve]=arguments[Ve+2];pe.children=He}if(D&&D.defaultProps)for(re in Oe=D.defaultProps,Oe)pe[re]===void 0&&(pe[re]=Oe[re]);return Z(D,Ue,pe)},Ke.createRef=function(){return{current:null}},Ke.forwardRef=function(D){return{$$typeof:p,render:D}},Ke.isValidElement=Me,Ke.lazy=function(D){return{$$typeof:_,_payload:{_status:-1,_result:D},_init:Ee}},Ke.memo=function(D,B){return{$$typeof:m,type:D,compare:B===void 0?null:B}},Ke.startTransition=function(D){var B=J.T,ce={};J.T=ce;try{var re=D(),pe=J.S;pe!==null&&pe(ce,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(W,ye)}catch(Ue){ye(Ue)}finally{B!==null&&ce.types!==null&&(B.types=ce.types),J.T=B}},Ke.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},Ke.use=function(D){return J.H.use(D)},Ke.useActionState=function(D,B,ce){return J.H.useActionState(D,B,ce)},Ke.useCallback=function(D,B){return J.H.useCallback(D,B)},Ke.useContext=function(D){return J.H.useContext(D)},Ke.useDebugValue=function(){},Ke.useDeferredValue=function(D,B){return J.H.useDeferredValue(D,B)},Ke.useEffect=function(D,B){return J.H.useEffect(D,B)},Ke.useEffectEvent=function(D){return J.H.useEffectEvent(D)},Ke.useId=function(){return J.H.useId()},Ke.useImperativeHandle=function(D,B,ce){return J.H.useImperativeHandle(D,B,ce)},Ke.useInsertionEffect=function(D,B){return J.H.useInsertionEffect(D,B)},Ke.useLayoutEffect=function(D,B){return J.H.useLayoutEffect(D,B)},Ke.useMemo=function(D,B){return J.H.useMemo(D,B)},Ke.useOptimistic=function(D,B){return J.H.useOptimistic(D,B)},Ke.useReducer=function(D,B,ce){return J.H.useReducer(D,B,ce)},Ke.useRef=function(D){return J.H.useRef(D)},Ke.useState=function(D){return J.H.useState(D)},Ke.useSyncExternalStore=function(D,B,ce){return J.H.useSyncExternalStore(D,B,ce)},Ke.useTransition=function(){return J.H.useTransition()},Ke.version="19.2.0",Ke}var Gp;function Lf(){return Gp||(Gp=1,yf.exports=rv()),yf.exports}var fe=Lf();const Sg=zf(fe);var vf={exports:{}},Rl={},_f={exports:{}},Sf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vp;function uv(){return Vp||(Vp=1,(function(o){function n(j,Q){var Ee=j.length;j.push(Q);e:for(;0<Ee;){var ye=Ee-1>>>1,Re=j[ye];if(0<r(Re,Q))j[ye]=Q,j[Ee]=Re,Ee=ye;else break e}}function a(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var Q=j[0],Ee=j.pop();if(Ee!==Q){j[0]=Ee;e:for(var ye=0,Re=j.length,D=Re>>>1;ye<D;){var B=2*(ye+1)-1,ce=j[B],re=B+1,pe=j[re];if(0>r(ce,Ee))re<Re&&0>r(pe,ce)?(j[ye]=pe,j[re]=Ee,ye=re):(j[ye]=ce,j[B]=Ee,ye=B);else if(re<Re&&0>r(pe,Ee))j[ye]=pe,j[re]=Ee,ye=re;else break e}}return Q}function r(j,Q){var Ee=j.sortIndex-Q.sortIndex;return Ee!==0?Ee:j.id-Q.id}if(o.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;o.unstable_now=function(){return c.now()}}else{var h=Date,p=h.now();o.unstable_now=function(){return h.now()-p}}var y=[],m=[],_=1,S=null,A=3,x=!1,M=!1,b=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function H(j){for(var Q=a(m);Q!==null;){if(Q.callback===null)l(m);else if(Q.startTime<=j)l(m),Q.sortIndex=Q.expirationTime,n(y,Q);else break;Q=a(m)}}function O(j){if(b=!1,H(j),!M)if(a(y)!==null)M=!0,W||(W=!0,V());else{var Q=a(m);Q!==null&&he(O,Q.startTime-j)}}var W=!1,J=-1,de=5,Z=-1;function ge(){return I?!0:!(o.unstable_now()-Z<de)}function Me(){if(I=!1,W){var j=o.unstable_now();Z=j;var Q=!0;try{e:{M=!1,b&&(b=!1,k(J),J=-1),x=!0;var Ee=A;try{t:{for(H(j),S=a(y);S!==null&&!(S.expirationTime>j&&ge());){var ye=S.callback;if(typeof ye=="function"){S.callback=null,A=S.priorityLevel;var Re=ye(S.expirationTime<=j);if(j=o.unstable_now(),typeof Re=="function"){S.callback=Re,H(j),Q=!0;break t}S===a(y)&&l(y),H(j)}else l(y);S=a(y)}if(S!==null)Q=!0;else{var D=a(m);D!==null&&he(O,D.startTime-j),Q=!1}}break e}finally{S=null,A=Ee,x=!1}Q=void 0}}finally{Q?V():W=!1}}}var V;if(typeof z=="function")V=function(){z(Me)};else if(typeof MessageChannel<"u"){var se=new MessageChannel,w=se.port2;se.port1.onmessage=Me,V=function(){w.postMessage(null)}}else V=function(){R(Me,0)};function he(j,Q){J=R(function(){j(o.unstable_now())},Q)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(j){j.callback=null},o.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):de=0<j?Math.floor(1e3/j):5},o.unstable_getCurrentPriorityLevel=function(){return A},o.unstable_next=function(j){switch(A){case 1:case 2:case 3:var Q=3;break;default:Q=A}var Ee=A;A=Q;try{return j()}finally{A=Ee}},o.unstable_requestPaint=function(){I=!0},o.unstable_runWithPriority=function(j,Q){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var Ee=A;A=j;try{return Q()}finally{A=Ee}},o.unstable_scheduleCallback=function(j,Q,Ee){var ye=o.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?ye+Ee:ye):Ee=ye,j){case 1:var Re=-1;break;case 2:Re=250;break;case 5:Re=1073741823;break;case 4:Re=1e4;break;default:Re=5e3}return Re=Ee+Re,j={id:_++,callback:Q,priorityLevel:j,startTime:Ee,expirationTime:Re,sortIndex:-1},Ee>ye?(j.sortIndex=Ee,n(m,j),a(y)===null&&j===a(m)&&(b?(k(J),J=-1):b=!0,he(O,Ee-ye))):(j.sortIndex=Re,n(y,j),M||x||(M=!0,W||(W=!0,V()))),j},o.unstable_shouldYield=ge,o.unstable_wrapCallback=function(j){var Q=A;return function(){var Ee=A;A=Q;try{return j.apply(this,arguments)}finally{A=Ee}}}})(Sf)),Sf}var qp;function cv(){return qp||(qp=1,_f.exports=uv()),_f.exports}var Tf={exports:{}},sn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hp;function fv(){if(Hp)return sn;Hp=1;var o=Lf();function n(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(n(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function c(y,m,_){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:S==null?null:""+S,children:y,containerInfo:m,implementation:_}}var h=o.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,sn.createPortal=function(y,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(n(299));return c(y,m,null,_)},sn.flushSync=function(y){var m=h.T,_=l.p;try{if(h.T=null,l.p=2,y)return y()}finally{h.T=m,l.p=_,l.d.f()}},sn.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(y,m))},sn.prefetchDNS=function(y){typeof y=="string"&&l.d.D(y)},sn.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin),A=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?l.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:A,fetchPriority:x}):_==="script"&&l.d.X(y,{crossOrigin:S,integrity:A,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},sn.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=p(m.as,m.crossOrigin);l.d.M(y,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(y)},sn.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,S=p(_,m.crossOrigin);l.d.L(y,_,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},sn.preloadModule=function(y,m){if(typeof y=="string")if(m){var _=p(m.as,m.crossOrigin);l.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(y)},sn.requestFormReset=function(y){l.d.r(y)},sn.unstable_batchedUpdates=function(y,m){return y(m)},sn.useFormState=function(y,m,_){return h.H.useFormState(y,m,_)},sn.useFormStatus=function(){return h.H.useHostTransitionStatus()},sn.version="19.2.0",sn}var Op;function dv(){if(Op)return Tf.exports;Op=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),Tf.exports=fv(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function hv(){if(Fp)return Rl;Fp=1;var o=cv(),n=Lf(),a=dv();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(l(188))}function m(e){var t=e.alternate;if(!t){if(t=c(e),t===null)throw Error(l(188));return t!==e?null:e}for(var i=e,s=t;;){var f=i.return;if(f===null)break;var g=f.alternate;if(g===null){if(s=f.return,s!==null){i=s;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===i)return y(f),e;if(g===s)return y(f),t;g=g.sibling}throw Error(l(188))}if(i.return!==s.return)i=f,s=g;else{for(var C=!1,N=f.child;N;){if(N===i){C=!0,i=f,s=g;break}if(N===s){C=!0,s=f,i=g;break}N=N.sibling}if(!C){for(N=g.child;N;){if(N===i){C=!0,i=g,s=f;break}if(N===s){C=!0,s=g,i=f;break}N=N.sibling}if(!C)throw Error(l(189))}}if(i.alternate!==s)throw Error(l(190))}if(i.tag!==3)throw Error(l(188));return i.stateNode.current===i?e:t}function _(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=_(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,A=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),M=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),z=Symbol.for("react.context"),H=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),de=Symbol.for("react.lazy"),Z=Symbol.for("react.activity"),ge=Symbol.for("react.memo_cache_sentinel"),Me=Symbol.iterator;function V(e){return e===null||typeof e!="object"?null:(e=Me&&e[Me]||e["@@iterator"],typeof e=="function"?e:null)}var se=Symbol.for("react.client.reference");function w(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===se?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case b:return"Fragment";case R:return"Profiler";case I:return"StrictMode";case O:return"Suspense";case W:return"SuspenseList";case Z:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case M:return"Portal";case z:return e.displayName||"Context";case k:return(e._context.displayName||"Context")+".Consumer";case H:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return t=e.displayName||null,t!==null?t:w(e.type)||"Memo";case de:t=e._payload,e=e._init;try{return w(e(t))}catch{}}return null}var he=Array.isArray,j=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},ye=[],Re=-1;function D(e){return{current:e}}function B(e){0>Re||(e.current=ye[Re],ye[Re]=null,Re--)}function ce(e,t){Re++,ye[Re]=e.current,e.current=t}var re=D(null),pe=D(null),Ue=D(null),Oe=D(null);function He(e,t){switch(ce(Ue,t),ce(pe,e),ce(re,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ap(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ap(t),e=sp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(re),ce(re,e)}function Ve(){B(re),B(pe),B(Ue)}function pt(e){e.memoizedState!==null&&ce(Oe,e);var t=re.current,i=sp(t,e.type);t!==i&&(ce(pe,e),ce(re,i))}function ft(e){pe.current===e&&(B(re),B(pe)),Oe.current===e&&(B(Oe),El._currentValue=Ee)}var qt,en;function E(e){if(qt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);qt=t&&t[1]||"",en=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+qt+e+en}var ve=!1;function le(e,t){if(!e||ve)return"";ve=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var s={DetermineComponentFrameRoot:function(){try{if(t){var Se=function(){throw Error()};if(Object.defineProperty(Se.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Se,[])}catch(ae){var ie=ae}Reflect.construct(e,[],Se)}else{try{Se.call()}catch(ae){ie=ae}e.call(Se.prototype)}}else{try{throw Error()}catch(ae){ie=ae}(Se=e())&&typeof Se.catch=="function"&&Se.catch(function(){})}}catch(ae){if(ae&&ie&&typeof ae.stack=="string")return[ae.stack,ie.stack]}return[null,null]}};s.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(s.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(s.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=s.DetermineComponentFrameRoot(),C=g[0],N=g[1];if(C&&N){var q=C.split(`
`),te=N.split(`
`);for(f=s=0;s<q.length&&!q[s].includes("DetermineComponentFrameRoot");)s++;for(;f<te.length&&!te[f].includes("DetermineComponentFrameRoot");)f++;if(s===q.length||f===te.length)for(s=q.length-1,f=te.length-1;1<=s&&0<=f&&q[s]!==te[f];)f--;for(;1<=s&&0<=f;s--,f--)if(q[s]!==te[f]){if(s!==1||f!==1)do if(s--,f--,0>f||q[s]!==te[f]){var me=`
`+q[s].replace(" at new "," at ");return e.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",e.displayName)),me}while(1<=s&&0<=f);break}}}finally{ve=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?E(i):""}function G(e,t){switch(e.tag){case 26:case 27:case 5:return E(e.type);case 16:return E("Lazy");case 13:return e.child!==t&&t!==null?E("Suspense Fallback"):E("Suspense");case 19:return E("SuspenseList");case 0:case 15:return le(e.type,!1);case 11:return le(e.type.render,!1);case 1:return le(e.type,!0);case 31:return E("Activity");default:return""}}function P(e){try{var t="",i=null;do t+=G(e,i),i=e,e=e.return;while(e);return t}catch(s){return`
Error generating stack: `+s.message+`
`+s.stack}}var K=Object.prototype.hasOwnProperty,Te=o.unstable_scheduleCallback,Ce=o.unstable_cancelCallback,ne=o.unstable_shouldYield,be=o.unstable_requestPaint,Ne=o.unstable_now,we=o.unstable_getCurrentPriorityLevel,ze=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,Je=o.unstable_NormalPriority,Ht=o.unstable_LowPriority,dn=o.unstable_IdlePriority,rn=o.log,Kt=o.unstable_setDisableYieldValue,ut=null,Ut=null;function un(e){if(typeof rn=="function"&&Kt(e),Ut&&typeof Ut.setStrictMode=="function")try{Ut.setStrictMode(ut,e)}catch{}}var Tt=Math.clz32?Math.clz32:bs,Ho=Math.log,Qi=Math.LN2;function bs(e){return e>>>=0,e===0?32:31-(Ho(e)/Qi|0)|0}var Qe=256,Ti=262144,hn=4194304;function tn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ma(e,t,i){var s=e.pendingLanes;if(s===0)return 0;var f=0,g=e.suspendedLanes,C=e.pingedLanes;e=e.warmLanes;var N=s&134217727;return N!==0?(s=N&~g,s!==0?f=tn(s):(C&=N,C!==0?f=tn(C):i||(i=N&~e,i!==0&&(f=tn(i))))):(N=s&~g,N!==0?f=tn(N):C!==0?f=tn(C):i||(i=s&~e,i!==0&&(f=tn(i)))),f===0?0:t!==0&&t!==f&&(t&g)===0&&(g=f&-f,i=t&-t,g>=i||g===32&&(i&4194048)!==0)?t:f}function $i(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ll(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ct(){var e=hn;return hn<<=1,(hn&62914560)===0&&(hn=4194304),e}function Wi(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function eo(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pl(e,t,i,s,f,g){var C=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var N=e.entanglements,q=e.expirationTimes,te=e.hiddenUpdates;for(i=C&~i;0<i;){var me=31-Tt(i),Se=1<<me;N[me]=0,q[me]=-1;var ie=te[me];if(ie!==null)for(te[me]=null,me=0;me<ie.length;me++){var ae=ie[me];ae!==null&&(ae.lane&=-536870913)}i&=~Se}s!==0&&Oo(e,s,0),g!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=g&~(C&~t))}function Oo(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var s=31-Tt(t);e.entangledLanes|=t,e.entanglements[s]=e.entanglements[s]|1073741824|i&261930}function Bl(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var s=31-Tt(i),f=1<<s;f&t|e[s]&t&&(e[s]|=t),i&=~f}}function ws(e,t){var i=t&-t;return i=(i&42)!==0?1:ga(i),(i&(e.suspendedLanes|t))!==0?0:i}function ga(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function to(){var e=Q.p;return e!==0?e:(e=window.event,e===void 0?32:Rp(e.type))}function Ci(e,t){var i=Q.p;try{return Q.p=e,t()}finally{Q.p=i}}var Ot=Math.random().toString(36).slice(2),zt="__reactFiber$"+Ot,jt="__reactProps$"+Ot,no="__reactContainer$"+Ot,ya="__reactEvents$"+Ot,Gl="__reactListeners$"+Ot,va="__reactHandles$"+Ot,Vl="__reactResources$"+Ot,si="__reactMarker$"+Ot;function Ns(e){delete e[zt],delete e[jt],delete e[ya],delete e[Gl],delete e[va]}function wn(e){var t=e[zt];if(t)return t;for(var i=e.parentNode;i;){if(t=i[no]||i[zt]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=hp(e);e!==null;){if(i=e[zt])return i;e=hp(e)}return t}e=i,i=e.parentNode}return null}function io(e){if(e=e[zt]||e[no]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function li(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function ri(e){var t=e[Vl];return t||(t=e[Vl]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function bt(e){e[si]=!0}var Rs=new Set,zn={};function ui(e,t){Nn(e,t),Nn(e+"Capture",t)}function Nn(e,t){for(zn[e]=t,e=0;e<t.length;e++)Rs.add(t[e])}var Ms=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ln={},Is={};function _a(e){return K.call(Is,e)?!0:K.call(Ln,e)?!1:Ms.test(e)?Is[e]=!0:(Ln[e]=!0,!1)}function Yo(e,t,i){if(_a(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var s=t.toLowerCase().slice(0,5);if(s!=="data-"&&s!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Ai(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function Pn(e,t,i,s){if(s===null)e.removeAttribute(i);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+s)}}function Zt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ds(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function ql(e,t,i){var s=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var f=s.get,g=s.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return f.call(this)},set:function(C){i=""+C,g.call(this,C)}}),Object.defineProperty(e,t,{enumerable:s.enumerable}),{getValue:function(){return i},setValue:function(C){i=""+C},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Sa(e){if(!e._valueTracker){var t=Ds(e)?"checked":"value";e._valueTracker=ql(e,t,""+e[t])}}function Ta(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),s="";return e&&(s=Ds(e)?e.checked?"true":"false":e.value),e=s,e!==i?(t.setValue(e),!0):!1}function Ca(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Hl=/[\n"\\]/g;function cn(e){return e.replace(Hl,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function wt(e,t,i,s,f,g,C,N){e.name="",C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"?e.type=C:e.removeAttribute("type"),t!=null?C==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Zt(t)):e.value!==""+Zt(t)&&(e.value=""+Zt(t)):C!=="submit"&&C!=="reset"||e.removeAttribute("value"),t!=null?Jo(e,C,Zt(t)):i!=null?Jo(e,C,Zt(i)):s!=null&&e.removeAttribute("value"),f==null&&g!=null&&(e.defaultChecked=!!g),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"?e.name=""+Zt(N):e.removeAttribute("name")}function oo(e,t,i,s,f,g,C,N){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),t!=null||i!=null){if(!(g!=="submit"&&g!=="reset"||t!=null)){Sa(e);return}i=i!=null?""+Zt(i):"",t=t!=null?""+Zt(t):i,N||t===e.value||(e.value=t),e.defaultValue=t}s=s??f,s=typeof s!="function"&&typeof s!="symbol"&&!!s,e.checked=N?e.checked:!!s,e.defaultChecked=!!s,C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(e.name=C),Sa(e)}function Jo(e,t,i){t==="number"&&Ca(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function Bn(e,t,i,s){if(e=e.options,t){t={};for(var f=0;f<i.length;f++)t["$"+i[f]]=!0;for(i=0;i<e.length;i++)f=t.hasOwnProperty("$"+e[i].value),e[i].selected!==f&&(e[i].selected=f),f&&s&&(e[i].defaultSelected=!0)}else{for(i=""+Zt(i),t=null,f=0;f<e.length;f++){if(e[f].value===i){e[f].selected=!0,s&&(e[f].defaultSelected=!0);return}t!==null||e[f].disabled||(t=e[f])}t!==null&&(t.selected=!0)}}function Aa(e,t,i){if(t!=null&&(t=""+Zt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Zt(i):""}function Xt(e,t,i,s){if(t==null){if(s!=null){if(i!=null)throw Error(l(92));if(he(s)){if(1<s.length)throw Error(l(93));s=s[0]}i=s}i==null&&(i=""),t=i}i=Zt(t),e.defaultValue=i,s=e.textContent,s===i&&s!==""&&s!==null&&(e.value=s),Sa(e)}function Gn(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var Ea=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function xa(e,t,i){var s=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?s?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":s?e.setProperty(t,i):typeof i!="number"||i===0||Ea.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function ks(e,t,i){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,i!=null){for(var s in i)!i.hasOwnProperty(s)||t!=null&&t.hasOwnProperty(s)||(s.indexOf("--")===0?e.setProperty(s,""):s==="float"?e.cssFloat="":e[s]="");for(var f in t)s=t[f],t.hasOwnProperty(f)&&i[f]!==s&&xa(e,f,s)}else for(var g in t)t.hasOwnProperty(g)&&xa(e,g,t[g])}function ba(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ol=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Fl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xn(e){return Fl.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function pn(){}var wa=null;function ao(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Ei=null,xi=null;function bi(e){var t=io(e);if(t&&(e=t.stateNode)){var i=e[jt]||null;e:switch(e=t.stateNode,t.type){case"input":if(wt(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+cn(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var s=i[t];if(s!==e&&s.form===e.form){var f=s[jt]||null;if(!f)throw Error(l(90));wt(s,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(t=0;t<i.length;t++)s=i[t],s.form===e.form&&Ta(s)}break e;case"textarea":Aa(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&Bn(e,!!i.multiple,t,!1)}}}var Qn=!1;function Na(e,t,i){if(Qn)return e(t,i);Qn=!0;try{var s=e(t);return s}finally{if(Qn=!1,(Ei!==null||xi!==null)&&(Hr(),Ei&&(t=Ei,e=xi,xi=Ei=null,bi(t),e)))for(t=0;t<e.length;t++)bi(e[t])}}function Ko(e,t){var i=e.stateNode;if(i===null)return null;var s=i[jt]||null;if(s===null)return null;i=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(e=e.type,s=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!s;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(l(231,t,typeof i));return i}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ra=!1;if(Vn)try{var so={};Object.defineProperty(so,"passive",{get:function(){Ra=!0}}),window.addEventListener("test",so,so),window.removeEventListener("test",so,so)}catch{Ra=!1}var ci=null,Ma=null,jo=null;function Ia(){if(jo)return jo;var e,t=Ma,i=t.length,s,f="value"in ci?ci.value:ci.textContent,g=f.length;for(e=0;e<i&&t[e]===f[e];e++);var C=i-e;for(s=1;s<=C&&t[i-s]===f[g-s];s++);return jo=f.slice(e,1<s?1-s:void 0)}function Zo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function nn(){return!0}function Xo(){return!1}function Ft(e){function t(i,s,f,g,C){this._reactName=i,this._targetInst=f,this.type=s,this.nativeEvent=g,this.target=C,this.currentTarget=null;for(var N in e)e.hasOwnProperty(N)&&(i=e[N],this[N]=i?i(g):g[N]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?nn:Xo,this.isPropagationStopped=Xo,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lo=Ft(wi),Qo=S({},wi,{view:0,detail:0}),Us=Ft(Qo),$o,zs,Ni,Da=S({},Qo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ea,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ni&&(Ni&&e.type==="mousemove"?($o=e.screenX-Ni.screenX,zs=e.screenY-Ni.screenY):zs=$o=0,Ni=e),$o)},movementY:function(e){return"movementY"in e?e.movementY:zs}}),ka=Ft(Da),Nu=S({},Da,{dataTransfer:0}),Ru=Ft(Nu),Ls=S({},Qo,{relatedTarget:0}),Ua=Ft(Ls),Yl=S({},wi,{animationName:0,elapsedTime:0,pseudoElement:0}),Ri=Ft(Yl),Jl=S({},wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ro=Ft(Jl),Mu=S({},wi,{data:0}),mn=Ft(Mu),Wo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ps={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Du(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Ps[e])?!!t[e]:!1}function ea(){return Du}var Mi=S({},Qo,{key:function(e){if(e.key){var t=Wo[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Zo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Iu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ea,charCode:function(e){return e.type==="keypress"?Zo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Zo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),$n=Ft(Mi),ta=S({},Da,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),za=Ft(ta),La=S({},Qo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ea}),Ii=Ft(La),uo=S({},wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Kl=Ft(uo),jl=S({},Da,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),ku=Ft(jl),Bs=S({},wi,{newState:0,oldState:0}),Ye=Ft(Bs),gn=[9,13,27,32],qn=Vn&&"CompositionEvent"in window,fi=null;Vn&&"documentMode"in document&&(fi=document.documentMode);var Pa=Vn&&"TextEvent"in window&&!fi,Zl=Vn&&(!qn||fi&&8<fi&&11>=fi),di=" ",Xl=!1;function Gs(e,t){switch(e){case"keyup":return gn.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ql(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Wn=!1;function Vs(e,t){switch(e){case"compositionend":return Ql(t);case"keypress":return t.which!==32?null:(Xl=!0,di);case"textInput":return e=t.data,e===di&&Xl?null:e;default:return null}}function Uu(e,t){if(Wn)return e==="compositionend"||!qn&&Gs(e,t)?(e=Ia(),jo=Ma=ci=null,Wn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Zl&&t.locale!=="ko"?null:t.data;default:return null}}var qs={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!qs[e.type]:t==="textarea"}function co(e,t,i,s){Ei?xi?xi.push(s):xi=[s]:Ei=s,t=Zr(t,"onChange"),0<t.length&&(i=new lo("onChange","change",null,i,s),e.push({event:i,listeners:t}))}var Di=null,Ba=null;function Yt(e){Wh(e,0)}function $e(e){var t=li(e);if(Ta(t))return e}function ue(e,t){if(e==="change")return t}var Ga=!1;if(Vn){var fo;if(Vn){var Hs="oninput"in document;if(!Hs){var $l=document.createElement("div");$l.setAttribute("oninput","return;"),Hs=typeof $l.oninput=="function"}fo=Hs}else fo=!1;Ga=fo&&(!document.documentMode||9<document.documentMode)}function Wl(){Di&&(Di.detachEvent("onpropertychange",Os),Ba=Di=null)}function Os(e){if(e.propertyName==="value"&&$e(Ba)){var t=[];co(t,Ba,e,ao(e)),Na(Yt,t)}}function zu(e,t,i){e==="focusin"?(Wl(),Di=t,Ba=i,Di.attachEvent("onpropertychange",Os)):e==="focusout"&&Wl()}function Lu(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return $e(Ba)}function Pu(e,t){if(e==="click")return $e(t)}function Bu(e,t){if(e==="input"||e==="change")return $e(t)}function er(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Qt=typeof Object.is=="function"?Object.is:er;function na(e,t){if(Qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),s=Object.keys(t);if(i.length!==s.length)return!1;for(s=0;s<i.length;s++){var f=i[s];if(!K.call(t,f)||!Qt(e[f],t[f]))return!1}return!0}function tr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function nr(e,t){var i=tr(e);e=0;for(var s;i;){if(i.nodeType===3){if(s=e+i.textContent.length,e<=t&&s>=t)return{node:i,offset:t-e};e=s}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=tr(i)}}function ir(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ir(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function or(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ca(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=Ca(e.document)}return t}function Fs(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var ar=Vn&&"documentMode"in document&&11>=document.documentMode,ho=null,Va=null,po=null,Ys=!1;function qa(e,t,i){var s=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;Ys||ho==null||ho!==Ca(s)||(s=ho,"selectionStart"in s&&Fs(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),po&&na(po,s)||(po=s,s=Zr(Va,"onSelect"),0<s.length&&(t=new lo("onSelect","select",null,t,i),e.push({event:t,listeners:s}),t.target=ho)))}function hi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var mo={animationend:hi("Animation","AnimationEnd"),animationiteration:hi("Animation","AnimationIteration"),animationstart:hi("Animation","AnimationStart"),transitionrun:hi("Transition","TransitionRun"),transitionstart:hi("Transition","TransitionStart"),transitioncancel:hi("Transition","TransitionCancel"),transitionend:hi("Transition","TransitionEnd")},Ha={},sr={};Vn&&(sr=document.createElement("div").style,"AnimationEvent"in window||(delete mo.animationend.animation,delete mo.animationiteration.animation,delete mo.animationstart.animation),"TransitionEvent"in window||delete mo.transitionend.transition);function ki(e){if(Ha[e])return Ha[e];if(!mo[e])return e;var t=mo[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in sr)return Ha[e]=t[i];return e}var lr=ki("animationend"),Oa=ki("animationiteration"),rr=ki("animationstart"),Gu=ki("transitionrun"),go=ki("transitionstart"),Vu=ki("transitioncancel"),ur=ki("transitionend"),Js=new Map,Ks="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ks.push("scrollEnd");function yn(e,t){Js.set(e,t),ui(t,[e])}var Fa=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},vn=[],yo=0,js=0;function ia(){for(var e=yo,t=js=yo=0;t<e;){var i=vn[t];vn[t++]=null;var s=vn[t];vn[t++]=null;var f=vn[t];vn[t++]=null;var g=vn[t];if(vn[t++]=null,s!==null&&f!==null){var C=s.pending;C===null?f.next=f:(f.next=C.next,C.next=f),s.pending=f}g!==0&&cr(i,f,g)}}function Ya(e,t,i,s){vn[yo++]=e,vn[yo++]=t,vn[yo++]=i,vn[yo++]=s,js|=s,e.lanes|=s,e=e.alternate,e!==null&&(e.lanes|=s)}function Zs(e,t,i,s){return Ya(e,t,i,s),Ja(e)}function pi(e,t){return Ya(e,null,null,t),Ja(e)}function cr(e,t,i){e.lanes|=i;var s=e.alternate;s!==null&&(s.lanes|=i);for(var f=!1,g=e.return;g!==null;)g.childLanes|=i,s=g.alternate,s!==null&&(s.childLanes|=i),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(f=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,f&&t!==null&&(f=31-Tt(i),e=g.hiddenUpdates,s=e[f],s===null?e[f]=[t]:s.push(t),t.lane=i|536870912),g):null}function Ja(e){if(50<yl)throw yl=0,Gc=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var vo={};function qu(e,t,i,s){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,i,s){return new qu(e,t,i,s)}function Xs(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rn(e,t){var i=e.alternate;return i===null?(i=on(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&65011712,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function fr(e,t){e.flags&=65011714;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function oa(e,t,i,s,f,g){var C=0;if(s=e,typeof e=="function")Xs(e)&&(C=1);else if(typeof e=="string")C=jy(e,i,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Z:return e=on(31,i,t,f),e.elementType=Z,e.lanes=g,e;case b:return Ui(i.children,f,g,t);case I:C=8,f|=24;break;case R:return e=on(12,i,t,f|2),e.elementType=R,e.lanes=g,e;case O:return e=on(13,i,t,f),e.elementType=O,e.lanes=g,e;case W:return e=on(19,i,t,f),e.elementType=W,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:C=10;break e;case k:C=9;break e;case H:C=11;break e;case J:C=14;break e;case de:C=16,s=null;break e}C=29,i=Error(l(130,e===null?"null":typeof e,"")),s=null}return t=on(C,i,t,f),t.elementType=e,t.type=s,t.lanes=g,t}function Ui(e,t,i,s){return e=on(7,e,s,t),e.lanes=i,e}function Qs(e,t,i){return e=on(6,e,null,t),e.lanes=i,e}function dr(e){var t=on(18,null,null,0);return t.stateNode=e,t}function $s(e,t,i){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var hr=new WeakMap;function an(e,t){if(typeof e=="object"&&e!==null){var i=hr.get(e);return i!==void 0?i:(t={value:e,source:t,stack:P(t)},hr.set(e,t),t)}return{value:e,source:t,stack:P(t)}}var _o=[],So=0,Ka=null,To=0,_n=[],Sn=0,mi=null,On=1,Fn="";function ei(e,t){_o[So++]=To,_o[So++]=Ka,Ka=e,To=t}function ja(e,t,i){_n[Sn++]=On,_n[Sn++]=Fn,_n[Sn++]=mi,mi=e;var s=On;e=Fn;var f=32-Tt(s)-1;s&=~(1<<f),i+=1;var g=32-Tt(t)+f;if(30<g){var C=f-f%5;g=(s&(1<<C)-1).toString(32),s>>=C,f-=C,On=1<<32-Tt(t)+f|i<<f|s,Fn=g+e}else On=1<<g|i<<f|s,Fn=e}function Ws(e){e.return!==null&&(ei(e,1),ja(e,1,0))}function Za(e){for(;e===Ka;)Ka=_o[--So],_o[So]=null,To=_o[--So],_o[So]=null;for(;e===mi;)mi=_n[--Sn],_n[Sn]=null,Fn=_n[--Sn],_n[Sn]=null,On=_n[--Sn],_n[Sn]=null}function pr(e,t){_n[Sn++]=On,_n[Sn++]=Fn,_n[Sn++]=mi,On=t.id,Fn=t.overflow,mi=e}var Mt=null,vt=null,We=!1,gi=null,Tn=!1,Xa=Error(l(519));function ti(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zi(an(t,e)),Xa}function Qa(e){var t=e.stateNode,i=e.type,s=e.memoizedProps;switch(t[zt]=e,t[jt]=s,i){case"dialog":nt("cancel",t),nt("close",t);break;case"iframe":case"object":case"embed":nt("load",t);break;case"video":case"audio":for(i=0;i<_l.length;i++)nt(_l[i],t);break;case"source":nt("error",t);break;case"img":case"image":case"link":nt("error",t),nt("load",t);break;case"details":nt("toggle",t);break;case"input":nt("invalid",t),oo(t,s.value,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name,!0);break;case"select":nt("invalid",t);break;case"textarea":nt("invalid",t),Xt(t,s.value,s.defaultValue,s.children)}i=s.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||s.suppressHydrationWarning===!0||ip(t.textContent,i)?(s.popover!=null&&(nt("beforetoggle",t),nt("toggle",t)),s.onScroll!=null&&nt("scroll",t),s.onScrollEnd!=null&&nt("scrollend",t),s.onClick!=null&&(t.onclick=pn),t=!0):t=!1,t||ti(e,!0)}function mr(e){for(Mt=e.return;Mt;)switch(Mt.tag){case 5:case 31:case 13:Tn=!1;return;case 27:case 3:Tn=!0;return;default:Mt=Mt.return}}function ni(e){if(e!==Mt)return!1;if(!We)return mr(e),We=!0,!1;var t=e.tag,i;if((i=t!==3&&t!==27)&&((i=t===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||ef(e.type,e.memoizedProps)),i=!i),i&&vt&&ti(e),mr(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));vt=dp(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));vt=dp(e)}else t===27?(t=vt,Uo(e.type)?(e=sf,sf=null,vt=e):vt=t):vt=Mt?Kn(e.stateNode.nextSibling):null;return!0}function yi(){vt=Mt=null,We=!1}function vi(){var e=gi;return e!==null&&(xn===null?xn=e:xn.push.apply(xn,e),gi=null),e}function zi(e){gi===null?gi=[e]:gi.push(e)}var T=D(null),L=null,U=null;function Y(e,t,i){ce(T,t._currentValue),t._currentValue=i}function $(e){e._currentValue=T.current,B(T)}function oe(e,t,i){for(;e!==null;){var s=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),e===i)break;e=e.return}}function Ae(e,t,i,s){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var g=f.dependencies;if(g!==null){var C=f.child;g=g.firstContext;e:for(;g!==null;){var N=g;g=f;for(var q=0;q<t.length;q++)if(N.context===t[q]){g.lanes|=i,N=g.alternate,N!==null&&(N.lanes|=i),oe(g.return,i,e),s||(C=null);break e}g=N.next}}else if(f.tag===18){if(C=f.return,C===null)throw Error(l(341));C.lanes|=i,g=C.alternate,g!==null&&(g.lanes|=i),oe(C,i,e),C=null}else C=f.child;if(C!==null)C.return=f;else for(C=f;C!==null;){if(C===e){C=null;break}if(f=C.sibling,f!==null){f.return=C.return,C=f;break}C=C.return}f=C}}function ke(e,t,i,s){e=null;for(var f=t,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var C=f.alternate;if(C===null)throw Error(l(387));if(C=C.memoizedProps,C!==null){var N=f.type;Qt(f.pendingProps.value,C.value)||(e!==null?e.push(N):e=[N])}}else if(f===Oe.current){if(C=f.alternate,C===null)throw Error(l(387));C.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(El):e=[El])}f=f.return}e!==null&&Ae(t,e,i,s),t.flags|=262144}function De(e){for(e=e.firstContext;e!==null;){if(!Qt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function xe(e){L=e,U=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ie(e){return je(L,e)}function qe(e,t){return L===null&&xe(e),je(e,t)}function je(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},U===null){if(e===null)throw Error(l(308));U=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else U=U.next=t;return i}var it=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,s){e.push(s)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},It=o.unstable_scheduleCallback,Gt=o.unstable_NormalPriority,_t={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Li(){return{controller:new it,data:new Map,refCount:0}}function Yn(e){e.refCount--,e.refCount===0&&It(Gt,function(){e.controller.abort()})}var Pi=null,Hu=0,$a=0,Wa=null;function Kg(e,t){if(Pi===null){var i=Pi=[];Hu=0,$a=Yc(),Wa={status:"pending",value:void 0,then:function(s){i.push(s)}}}return Hu++,t.then(Of,Of),t}function Of(){if(--Hu===0&&Pi!==null){Wa!==null&&(Wa.status="fulfilled");var e=Pi;Pi=null,$a=0,Wa=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function jg(e,t){var i=[],s={status:"pending",value:null,reason:null,then:function(f){i.push(f)}};return e.then(function(){s.status="fulfilled",s.value=t;for(var f=0;f<i.length;f++)(0,i[f])(t)},function(f){for(s.status="rejected",s.reason=f,f=0;f<i.length;f++)(0,i[f])(void 0)}),s}var Ff=j.S;j.S=function(e,t){wh=Ne(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kg(e,t),Ff!==null&&Ff(e,t)};var aa=D(null);function Ou(){var e=aa.current;return e!==null?e:St.pooledCache}function gr(e,t){t===null?ce(aa,aa.current):ce(aa,t.pool)}function Yf(){var e=Ou();return e===null?null:{parent:_t._currentValue,pool:e}}var es=Error(l(460)),Fu=Error(l(474)),yr=Error(l(542)),vr={then:function(){}};function Jf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kf(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(pn,pn),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e;default:if(typeof t.status=="string")t.then(pn,pn);else{if(e=St,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(s){if(t.status==="pending"){var f=t;f.status="fulfilled",f.value=s}},function(s){if(t.status==="pending"){var f=t;f.status="rejected",f.reason=s}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e}throw la=t,es}}function sa(e){try{var t=e._init;return t(e._payload)}catch(i){throw i!==null&&typeof i=="object"&&typeof i.then=="function"?(la=i,es):i}}var la=null;function jf(){if(la===null)throw Error(l(459));var e=la;return la=null,e}function Zf(e){if(e===es||e===yr)throw Error(l(483))}var ts=null,el=0;function _r(e){var t=el;return el+=1,ts===null&&(ts=[]),Kf(ts,e,t)}function tl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Sr(e,t){throw t.$$typeof===A?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Xf(e){function t(X,F){if(e){var ee=X.deletions;ee===null?(X.deletions=[F],X.flags|=16):ee.push(F)}}function i(X,F){if(!e)return null;for(;F!==null;)t(X,F),F=F.sibling;return null}function s(X){for(var F=new Map;X!==null;)X.key!==null?F.set(X.key,X):F.set(X.index,X),X=X.sibling;return F}function f(X,F){return X=Rn(X,F),X.index=0,X.sibling=null,X}function g(X,F,ee){return X.index=ee,e?(ee=X.alternate,ee!==null?(ee=ee.index,ee<F?(X.flags|=67108866,F):ee):(X.flags|=67108866,F)):(X.flags|=1048576,F)}function C(X){return e&&X.alternate===null&&(X.flags|=67108866),X}function N(X,F,ee,_e){return F===null||F.tag!==6?(F=Qs(ee,X.mode,_e),F.return=X,F):(F=f(F,ee),F.return=X,F)}function q(X,F,ee,_e){var Ge=ee.type;return Ge===b?me(X,F,ee.props.children,_e,ee.key):F!==null&&(F.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===de&&sa(Ge)===F.type)?(F=f(F,ee.props),tl(F,ee),F.return=X,F):(F=oa(ee.type,ee.key,ee.props,null,X.mode,_e),tl(F,ee),F.return=X,F)}function te(X,F,ee,_e){return F===null||F.tag!==4||F.stateNode.containerInfo!==ee.containerInfo||F.stateNode.implementation!==ee.implementation?(F=$s(ee,X.mode,_e),F.return=X,F):(F=f(F,ee.children||[]),F.return=X,F)}function me(X,F,ee,_e,Ge){return F===null||F.tag!==7?(F=Ui(ee,X.mode,_e,Ge),F.return=X,F):(F=f(F,ee),F.return=X,F)}function Se(X,F,ee){if(typeof F=="string"&&F!==""||typeof F=="number"||typeof F=="bigint")return F=Qs(""+F,X.mode,ee),F.return=X,F;if(typeof F=="object"&&F!==null){switch(F.$$typeof){case x:return ee=oa(F.type,F.key,F.props,null,X.mode,ee),tl(ee,F),ee.return=X,ee;case M:return F=$s(F,X.mode,ee),F.return=X,F;case de:return F=sa(F),Se(X,F,ee)}if(he(F)||V(F))return F=Ui(F,X.mode,ee,null),F.return=X,F;if(typeof F.then=="function")return Se(X,_r(F),ee);if(F.$$typeof===z)return Se(X,qe(X,F),ee);Sr(X,F)}return null}function ie(X,F,ee,_e){var Ge=F!==null?F.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Ge!==null?null:N(X,F,""+ee,_e);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:return ee.key===Ge?q(X,F,ee,_e):null;case M:return ee.key===Ge?te(X,F,ee,_e):null;case de:return ee=sa(ee),ie(X,F,ee,_e)}if(he(ee)||V(ee))return Ge!==null?null:me(X,F,ee,_e,null);if(typeof ee.then=="function")return ie(X,F,_r(ee),_e);if(ee.$$typeof===z)return ie(X,F,qe(X,ee),_e);Sr(X,ee)}return null}function ae(X,F,ee,_e,Ge){if(typeof _e=="string"&&_e!==""||typeof _e=="number"||typeof _e=="bigint")return X=X.get(ee)||null,N(F,X,""+_e,Ge);if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case x:return X=X.get(_e.key===null?ee:_e.key)||null,q(F,X,_e,Ge);case M:return X=X.get(_e.key===null?ee:_e.key)||null,te(F,X,_e,Ge);case de:return _e=sa(_e),ae(X,F,ee,_e,Ge)}if(he(_e)||V(_e))return X=X.get(ee)||null,me(F,X,_e,Ge,null);if(typeof _e.then=="function")return ae(X,F,ee,_r(_e),Ge);if(_e.$$typeof===z)return ae(X,F,ee,qe(F,_e),Ge);Sr(F,_e)}return null}function Le(X,F,ee,_e){for(var Ge=null,st=null,Be=F,Xe=F=0,at=null;Be!==null&&Xe<ee.length;Xe++){Be.index>Xe?(at=Be,Be=null):at=Be.sibling;var lt=ie(X,Be,ee[Xe],_e);if(lt===null){Be===null&&(Be=at);break}e&&Be&&lt.alternate===null&&t(X,Be),F=g(lt,F,Xe),st===null?Ge=lt:st.sibling=lt,st=lt,Be=at}if(Xe===ee.length)return i(X,Be),We&&ei(X,Xe),Ge;if(Be===null){for(;Xe<ee.length;Xe++)Be=Se(X,ee[Xe],_e),Be!==null&&(F=g(Be,F,Xe),st===null?Ge=Be:st.sibling=Be,st=Be);return We&&ei(X,Xe),Ge}for(Be=s(Be);Xe<ee.length;Xe++)at=ae(Be,X,Xe,ee[Xe],_e),at!==null&&(e&&at.alternate!==null&&Be.delete(at.key===null?Xe:at.key),F=g(at,F,Xe),st===null?Ge=at:st.sibling=at,st=at);return e&&Be.forEach(function(Go){return t(X,Go)}),We&&ei(X,Xe),Ge}function Fe(X,F,ee,_e){if(ee==null)throw Error(l(151));for(var Ge=null,st=null,Be=F,Xe=F=0,at=null,lt=ee.next();Be!==null&&!lt.done;Xe++,lt=ee.next()){Be.index>Xe?(at=Be,Be=null):at=Be.sibling;var Go=ie(X,Be,lt.value,_e);if(Go===null){Be===null&&(Be=at);break}e&&Be&&Go.alternate===null&&t(X,Be),F=g(Go,F,Xe),st===null?Ge=Go:st.sibling=Go,st=Go,Be=at}if(lt.done)return i(X,Be),We&&ei(X,Xe),Ge;if(Be===null){for(;!lt.done;Xe++,lt=ee.next())lt=Se(X,lt.value,_e),lt!==null&&(F=g(lt,F,Xe),st===null?Ge=lt:st.sibling=lt,st=lt);return We&&ei(X,Xe),Ge}for(Be=s(Be);!lt.done;Xe++,lt=ee.next())lt=ae(Be,X,Xe,lt.value,_e),lt!==null&&(e&&lt.alternate!==null&&Be.delete(lt.key===null?Xe:lt.key),F=g(lt,F,Xe),st===null?Ge=lt:st.sibling=lt,st=lt);return e&&Be.forEach(function(av){return t(X,av)}),We&&ei(X,Xe),Ge}function yt(X,F,ee,_e){if(typeof ee=="object"&&ee!==null&&ee.type===b&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case x:e:{for(var Ge=ee.key;F!==null;){if(F.key===Ge){if(Ge=ee.type,Ge===b){if(F.tag===7){i(X,F.sibling),_e=f(F,ee.props.children),_e.return=X,X=_e;break e}}else if(F.elementType===Ge||typeof Ge=="object"&&Ge!==null&&Ge.$$typeof===de&&sa(Ge)===F.type){i(X,F.sibling),_e=f(F,ee.props),tl(_e,ee),_e.return=X,X=_e;break e}i(X,F);break}else t(X,F);F=F.sibling}ee.type===b?(_e=Ui(ee.props.children,X.mode,_e,ee.key),_e.return=X,X=_e):(_e=oa(ee.type,ee.key,ee.props,null,X.mode,_e),tl(_e,ee),_e.return=X,X=_e)}return C(X);case M:e:{for(Ge=ee.key;F!==null;){if(F.key===Ge)if(F.tag===4&&F.stateNode.containerInfo===ee.containerInfo&&F.stateNode.implementation===ee.implementation){i(X,F.sibling),_e=f(F,ee.children||[]),_e.return=X,X=_e;break e}else{i(X,F);break}else t(X,F);F=F.sibling}_e=$s(ee,X.mode,_e),_e.return=X,X=_e}return C(X);case de:return ee=sa(ee),yt(X,F,ee,_e)}if(he(ee))return Le(X,F,ee,_e);if(V(ee)){if(Ge=V(ee),typeof Ge!="function")throw Error(l(150));return ee=Ge.call(ee),Fe(X,F,ee,_e)}if(typeof ee.then=="function")return yt(X,F,_r(ee),_e);if(ee.$$typeof===z)return yt(X,F,qe(X,ee),_e);Sr(X,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,F!==null&&F.tag===6?(i(X,F.sibling),_e=f(F,ee),_e.return=X,X=_e):(i(X,F),_e=Qs(ee,X.mode,_e),_e.return=X,X=_e),C(X)):i(X,F)}return function(X,F,ee,_e){try{el=0;var Ge=yt(X,F,ee,_e);return ts=null,Ge}catch(Be){if(Be===es||Be===yr)throw Be;var st=on(29,Be,null,X.mode);return st.lanes=_e,st.return=X,st}finally{}}}var ra=Xf(!0),Qf=Xf(!1),Co=!1;function Yu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ju(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ao(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Eo(e,t,i){var s=e.updateQueue;if(s===null)return null;if(s=s.shared,(ct&2)!==0){var f=s.pending;return f===null?t.next=t:(t.next=f.next,f.next=t),s.pending=t,t=Ja(e),cr(e,null,i),t}return Ya(e,s,t,i),Ja(e)}function nl(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194048)!==0)){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Bl(e,i)}}function Ku(e,t){var i=e.updateQueue,s=e.alternate;if(s!==null&&(s=s.updateQueue,i===s)){var f=null,g=null;if(i=i.firstBaseUpdate,i!==null){do{var C={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};g===null?f=g=C:g=g.next=C,i=i.next}while(i!==null);g===null?f=g=t:g=g.next=t}else f=g=t;i={baseState:s.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:s.shared,callbacks:s.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var ju=!1;function il(){if(ju){var e=Wa;if(e!==null)throw e}}function ol(e,t,i,s){ju=!1;var f=e.updateQueue;Co=!1;var g=f.firstBaseUpdate,C=f.lastBaseUpdate,N=f.shared.pending;if(N!==null){f.shared.pending=null;var q=N,te=q.next;q.next=null,C===null?g=te:C.next=te,C=q;var me=e.alternate;me!==null&&(me=me.updateQueue,N=me.lastBaseUpdate,N!==C&&(N===null?me.firstBaseUpdate=te:N.next=te,me.lastBaseUpdate=q))}if(g!==null){var Se=f.baseState;C=0,me=te=q=null,N=g;do{var ie=N.lane&-536870913,ae=ie!==N.lane;if(ae?(ot&ie)===ie:(s&ie)===ie){ie!==0&&ie===$a&&(ju=!0),me!==null&&(me=me.next={lane:0,tag:N.tag,payload:N.payload,callback:null,next:null});e:{var Le=e,Fe=N;ie=t;var yt=i;switch(Fe.tag){case 1:if(Le=Fe.payload,typeof Le=="function"){Se=Le.call(yt,Se,ie);break e}Se=Le;break e;case 3:Le.flags=Le.flags&-65537|128;case 0:if(Le=Fe.payload,ie=typeof Le=="function"?Le.call(yt,Se,ie):Le,ie==null)break e;Se=S({},Se,ie);break e;case 2:Co=!0}}ie=N.callback,ie!==null&&(e.flags|=64,ae&&(e.flags|=8192),ae=f.callbacks,ae===null?f.callbacks=[ie]:ae.push(ie))}else ae={lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},me===null?(te=me=ae,q=Se):me=me.next=ae,C|=ie;if(N=N.next,N===null){if(N=f.shared.pending,N===null)break;ae=N,N=ae.next,ae.next=null,f.lastBaseUpdate=ae,f.shared.pending=null}}while(!0);me===null&&(q=Se),f.baseState=q,f.firstBaseUpdate=te,f.lastBaseUpdate=me,g===null&&(f.shared.lanes=0),Ro|=C,e.lanes=C,e.memoizedState=Se}}function $f(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function Wf(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)$f(i[e],t)}var ns=D(null),Tr=D(0);function ed(e,t){e=Ji,ce(Tr,e),ce(ns,t),Ji=e|t.baseLanes}function Zu(){ce(Tr,Ji),ce(ns,ns.current)}function Xu(){Ji=Tr.current,B(ns),B(Tr)}var Mn=D(null),Jn=null;function xo(e){var t=e.alternate;ce(Dt,Dt.current&1),ce(Mn,e),Jn===null&&(t===null||ns.current!==null||t.memoizedState!==null)&&(Jn=e)}function Qu(e){ce(Dt,Dt.current),ce(Mn,e),Jn===null&&(Jn=e)}function td(e){e.tag===22?(ce(Dt,Dt.current),ce(Mn,e),Jn===null&&(Jn=e)):bo()}function bo(){ce(Dt,Dt.current),ce(Mn,Mn.current)}function In(e){B(Mn),Jn===e&&(Jn=null),B(Dt)}var Dt=D(0);function Cr(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||of(i)||af(i)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Bi=0,Ze=null,mt=null,Lt=null,Ar=!1,is=!1,ua=!1,Er=0,al=0,os=null,Zg=0;function Nt(){throw Error(l(321))}function $u(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Qt(e[i],t[i]))return!1;return!0}function Wu(e,t,i,s,f,g){return Bi=g,Ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,j.H=e===null||e.memoizedState===null?Bd:pc,ua=!1,g=i(s,f),ua=!1,is&&(g=id(t,i,s,f)),nd(e),g}function nd(e){j.H=rl;var t=mt!==null&&mt.next!==null;if(Bi=0,Lt=mt=Ze=null,Ar=!1,al=0,os=null,t)throw Error(l(300));e===null||Pt||(e=e.dependencies,e!==null&&De(e)&&(Pt=!0))}function id(e,t,i,s){Ze=e;var f=0;do{if(is&&(os=null),al=0,is=!1,25<=f)throw Error(l(301));if(f+=1,Lt=mt=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}j.H=Gd,g=t(i,s)}while(is);return g}function Xg(){var e=j.H,t=e.useState()[0];return t=typeof t.then=="function"?sl(t):t,e=e.useState()[0],(mt!==null?mt.memoizedState:null)!==e&&(Ze.flags|=1024),t}function ec(){var e=Er!==0;return Er=0,e}function tc(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function nc(e){if(Ar){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Ar=!1}Bi=0,Lt=mt=Ze=null,is=!1,al=Er=0,os=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ze.memoizedState=Lt=e:Lt=Lt.next=e,Lt}function kt(){if(mt===null){var e=Ze.alternate;e=e!==null?e.memoizedState:null}else e=mt.next;var t=Lt===null?Ze.memoizedState:Lt.next;if(t!==null)Lt=t,mt=e;else{if(e===null)throw Ze.alternate===null?Error(l(467)):Error(l(310));mt=e,e={memoizedState:mt.memoizedState,baseState:mt.baseState,baseQueue:mt.baseQueue,queue:mt.queue,next:null},Lt===null?Ze.memoizedState=Lt=e:Lt=Lt.next=e}return Lt}function xr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var t=al;return al+=1,os===null&&(os=[]),e=Kf(os,e,t),t=Ze,(Lt===null?t.memoizedState:Lt.next)===null&&(t=t.alternate,j.H=t===null||t.memoizedState===null?Bd:pc),e}function br(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===z)return Ie(e)}throw Error(l(438,String(e)))}function ic(e){var t=null,i=Ze.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var s=Ze.alternate;s!==null&&(s=s.updateQueue,s!==null&&(s=s.memoCache,s!=null&&(t={data:s.data.map(function(f){return f.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=xr(),Ze.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),s=0;s<e;s++)i[s]=ge;return t.index++,i}function Gi(e,t){return typeof t=="function"?t(e):t}function wr(e){var t=kt();return oc(t,mt,e)}function oc(e,t,i){var s=e.queue;if(s===null)throw Error(l(311));s.lastRenderedReducer=i;var f=e.baseQueue,g=s.pending;if(g!==null){if(f!==null){var C=f.next;f.next=g.next,g.next=C}t.baseQueue=f=g,s.pending=null}if(g=e.baseState,f===null)e.memoizedState=g;else{t=f.next;var N=C=null,q=null,te=t,me=!1;do{var Se=te.lane&-536870913;if(Se!==te.lane?(ot&Se)===Se:(Bi&Se)===Se){var ie=te.revertLane;if(ie===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),Se===$a&&(me=!0);else if((Bi&ie)===ie){te=te.next,ie===$a&&(me=!0);continue}else Se={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(N=q=Se,C=g):q=q.next=Se,Ze.lanes|=ie,Ro|=ie;Se=te.action,ua&&i(g,Se),g=te.hasEagerState?te.eagerState:i(g,Se)}else ie={lane:Se,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(N=q=ie,C=g):q=q.next=ie,Ze.lanes|=Se,Ro|=Se;te=te.next}while(te!==null&&te!==t);if(q===null?C=g:q.next=N,!Qt(g,e.memoizedState)&&(Pt=!0,me&&(i=Wa,i!==null)))throw i;e.memoizedState=g,e.baseState=C,e.baseQueue=q,s.lastRenderedState=g}return f===null&&(s.lanes=0),[e.memoizedState,s.dispatch]}function ac(e){var t=kt(),i=t.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=e;var s=i.dispatch,f=i.pending,g=t.memoizedState;if(f!==null){i.pending=null;var C=f=f.next;do g=e(g,C.action),C=C.next;while(C!==f);Qt(g,t.memoizedState)||(Pt=!0),t.memoizedState=g,t.baseQueue===null&&(t.baseState=g),i.lastRenderedState=g}return[g,s]}function od(e,t,i){var s=Ze,f=kt(),g=We;if(g){if(i===void 0)throw Error(l(407));i=i()}else i=t();var C=!Qt((mt||f).memoizedState,i);if(C&&(f.memoizedState=i,Pt=!0),f=f.queue,rc(ld.bind(null,s,f,e),[e]),f.getSnapshot!==t||C||Lt!==null&&Lt.memoizedState.tag&1){if(s.flags|=2048,as(9,{destroy:void 0},sd.bind(null,s,f,i,t),null),St===null)throw Error(l(349));g||(Bi&127)!==0||ad(s,t,i)}return i}function ad(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=Ze.updateQueue,t===null?(t=xr(),Ze.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function sd(e,t,i,s){t.value=i,t.getSnapshot=s,rd(t)&&ud(e)}function ld(e,t,i){return i(function(){rd(t)&&ud(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Qt(e,i)}catch{return!0}}function ud(e){var t=pi(e,2);t!==null&&bn(t,e,2)}function sc(e){var t=fn();if(typeof e=="function"){var i=e;if(e=i(),ua){un(!0);try{i()}finally{un(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:e},t}function cd(e,t,i,s){return e.baseState=i,oc(e,mt,typeof s=="function"?s:Gi)}function Qg(e,t,i,s,f){if(Mr(e))throw Error(l(485));if(e=t.action,e!==null){var g={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(C){g.listeners.push(C)}};j.T!==null?i(!0):g.isTransition=!1,s(g),i=t.pending,i===null?(g.next=t.pending=g,fd(t,g)):(g.next=i.next,t.pending=i.next=g)}}function fd(e,t){var i=t.action,s=t.payload,f=e.state;if(t.isTransition){var g=j.T,C={};j.T=C;try{var N=i(f,s),q=j.S;q!==null&&q(C,N),dd(e,t,N)}catch(te){lc(e,t,te)}finally{g!==null&&C.types!==null&&(g.types=C.types),j.T=g}}else try{g=i(f,s),dd(e,t,g)}catch(te){lc(e,t,te)}}function dd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(s){hd(e,t,s)},function(s){return lc(e,t,s)}):hd(e,t,i)}function hd(e,t,i){t.status="fulfilled",t.value=i,pd(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,fd(e,i)))}function lc(e,t,i){var s=e.pending;if(e.pending=null,s!==null){s=s.next;do t.status="rejected",t.reason=i,pd(t),t=t.next;while(t!==s)}e.action=null}function pd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function md(e,t){return t}function gd(e,t){if(We){var i=St.formState;if(i!==null){e:{var s=Ze;if(We){if(vt){t:{for(var f=vt,g=Tn;f.nodeType!==8;){if(!g){f=null;break t}if(f=Kn(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){vt=Kn(f.nextSibling),s=f.data==="F!";break e}}ti(s)}s=!1}s&&(t=i[0])}}return i=fn(),i.memoizedState=i.baseState=t,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},i.queue=s,i=zd.bind(null,Ze,s),s.dispatch=i,s=sc(!1),g=hc.bind(null,Ze,!1,s.queue),s=fn(),f={state:t,dispatch:null,action:e,pending:null},s.queue=f,i=Qg.bind(null,Ze,f,g,i),f.dispatch=i,s.memoizedState=e,[t,i,!1]}function yd(e){var t=kt();return vd(t,mt,e)}function vd(e,t,i){if(t=oc(e,t,md)[0],e=wr(Gi)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var s=sl(t)}catch(C){throw C===es?yr:C}else s=t;t=kt();var f=t.queue,g=f.dispatch;return i!==t.memoizedState&&(Ze.flags|=2048,as(9,{destroy:void 0},$g.bind(null,f,i),null)),[s,g,e]}function $g(e,t){e.action=t}function _d(e){var t=kt(),i=mt;if(i!==null)return vd(t,i,e);kt(),t=t.memoizedState,i=kt();var s=i.queue.dispatch;return i.memoizedState=e,[t,s,!1]}function as(e,t,i,s){return e={tag:e,create:i,deps:s,inst:t,next:null},t=Ze.updateQueue,t===null&&(t=xr(),Ze.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(s=i.next,i.next=e,e.next=s,t.lastEffect=e),e}function Sd(){return kt().memoizedState}function Nr(e,t,i,s){var f=fn();Ze.flags|=e,f.memoizedState=as(1|t,{destroy:void 0},i,s===void 0?null:s)}function Rr(e,t,i,s){var f=kt();s=s===void 0?null:s;var g=f.memoizedState.inst;mt!==null&&s!==null&&$u(s,mt.memoizedState.deps)?f.memoizedState=as(t,g,i,s):(Ze.flags|=e,f.memoizedState=as(1|t,g,i,s))}function Td(e,t){Nr(8390656,8,e,t)}function rc(e,t){Rr(2048,8,e,t)}function Wg(e){Ze.flags|=4;var t=Ze.updateQueue;if(t===null)t=xr(),Ze.updateQueue=t,t.events=[e];else{var i=t.events;i===null?t.events=[e]:i.push(e)}}function Cd(e){var t=kt().memoizedState;return Wg({ref:t,nextImpl:e}),function(){if((ct&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ad(e,t){return Rr(4,2,e,t)}function Ed(e,t){return Rr(4,4,e,t)}function xd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function bd(e,t,i){i=i!=null?i.concat([e]):null,Rr(4,4,xd.bind(null,t,e),i)}function uc(){}function wd(e,t){var i=kt();t=t===void 0?null:t;var s=i.memoizedState;return t!==null&&$u(t,s[1])?s[0]:(i.memoizedState=[e,t],e)}function Nd(e,t){var i=kt();t=t===void 0?null:t;var s=i.memoizedState;if(t!==null&&$u(t,s[1]))return s[0];if(s=e(),ua){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[s,t],s}function cc(e,t,i){return i===void 0||(Bi&1073741824)!==0&&(ot&261930)===0?e.memoizedState=t:(e.memoizedState=i,e=Rh(),Ze.lanes|=e,Ro|=e,i)}function Rd(e,t,i,s){return Qt(i,t)?i:ns.current!==null?(e=cc(e,i,s),Qt(e,t)||(Pt=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(ot&261930)===0?(Pt=!0,e.memoizedState=i):(e=Rh(),Ze.lanes|=e,Ro|=e,t)}function Md(e,t,i,s,f){var g=Q.p;Q.p=g!==0&&8>g?g:8;var C=j.T,N={};j.T=N,hc(e,!1,t,i);try{var q=f(),te=j.S;if(te!==null&&te(N,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var me=jg(q,s);ll(e,t,me,Un(e))}else ll(e,t,s,Un(e))}catch(Se){ll(e,t,{then:function(){},status:"rejected",reason:Se},Un())}finally{Q.p=g,C!==null&&N.types!==null&&(C.types=N.types),j.T=C}}function ey(){}function fc(e,t,i,s){if(e.tag!==5)throw Error(l(476));var f=Id(e).queue;Md(e,f,t,Ee,i===null?ey:function(){return Dd(e),i(s)})}function Id(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:Ee},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Dd(e){var t=Id(e);t.next===null&&(t=e.alternate.memoizedState),ll(e,t.next.queue,{},Un())}function dc(){return Ie(El)}function kd(){return kt().memoizedState}function Ud(){return kt().memoizedState}function ty(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Un();e=Ao(i);var s=Eo(t,e,i);s!==null&&(bn(s,t,i),nl(s,t,i)),t={cache:Li()},e.payload=t;return}t=t.return}}function ny(e,t,i){var s=Un();i={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Mr(e)?Ld(t,i):(i=Zs(e,t,i,s),i!==null&&(bn(i,e,s),Pd(i,t,s)))}function zd(e,t,i){var s=Un();ll(e,t,i,s)}function ll(e,t,i,s){var f={lane:s,revertLane:0,gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null};if(Mr(e))Ld(t,f);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=t.lastRenderedReducer,g!==null))try{var C=t.lastRenderedState,N=g(C,i);if(f.hasEagerState=!0,f.eagerState=N,Qt(N,C))return Ya(e,t,f,0),St===null&&ia(),!1}catch{}finally{}if(i=Zs(e,t,f,s),i!==null)return bn(i,e,s),Pd(i,t,s),!0}return!1}function hc(e,t,i,s){if(s={lane:2,revertLane:Yc(),gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Mr(e)){if(t)throw Error(l(479))}else t=Zs(e,i,s,2),t!==null&&bn(t,e,2)}function Mr(e){var t=e.alternate;return e===Ze||t!==null&&t===Ze}function Ld(e,t){is=Ar=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Pd(e,t,i){if((i&4194048)!==0){var s=t.lanes;s&=e.pendingLanes,i|=s,t.lanes=i,Bl(e,i)}}var rl={readContext:Ie,use:br,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt};rl.useEffectEvent=Nt;var Bd={readContext:Ie,use:br,useCallback:function(e,t){return fn().memoizedState=[e,t===void 0?null:t],e},useContext:Ie,useEffect:Td,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Nr(4194308,4,xd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Nr(4194308,4,e,t)},useInsertionEffect:function(e,t){Nr(4,2,e,t)},useMemo:function(e,t){var i=fn();t=t===void 0?null:t;var s=e();if(ua){un(!0);try{e()}finally{un(!1)}}return i.memoizedState=[s,t],s},useReducer:function(e,t,i){var s=fn();if(i!==void 0){var f=i(t);if(ua){un(!0);try{i(t)}finally{un(!1)}}}else f=t;return s.memoizedState=s.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},s.queue=e,e=e.dispatch=ny.bind(null,Ze,e),[s.memoizedState,e]},useRef:function(e){var t=fn();return e={current:e},t.memoizedState=e},useState:function(e){e=sc(e);var t=e.queue,i=zd.bind(null,Ze,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:uc,useDeferredValue:function(e,t){var i=fn();return cc(i,e,t)},useTransition:function(){var e=sc(!1);return e=Md.bind(null,Ze,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var s=Ze,f=fn();if(We){if(i===void 0)throw Error(l(407));i=i()}else{if(i=t(),St===null)throw Error(l(349));(ot&127)!==0||ad(s,t,i)}f.memoizedState=i;var g={value:i,getSnapshot:t};return f.queue=g,Td(ld.bind(null,s,g,e),[e]),s.flags|=2048,as(9,{destroy:void 0},sd.bind(null,s,g,i,t),null),i},useId:function(){var e=fn(),t=St.identifierPrefix;if(We){var i=Fn,s=On;i=(s&~(1<<32-Tt(s)-1)).toString(32)+i,t="_"+t+"R_"+i,i=Er++,0<i&&(t+="H"+i.toString(32)),t+="_"}else i=Zg++,t="_"+t+"r_"+i.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:dc,useFormState:gd,useActionState:gd,useOptimistic:function(e){var t=fn();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=hc.bind(null,Ze,!0,i),i.dispatch=t,[e,t]},useMemoCache:ic,useCacheRefresh:function(){return fn().memoizedState=ty.bind(null,Ze)},useEffectEvent:function(e){var t=fn(),i={impl:e};return t.memoizedState=i,function(){if((ct&2)!==0)throw Error(l(440));return i.impl.apply(void 0,arguments)}}},pc={readContext:Ie,use:br,useCallback:wd,useContext:Ie,useEffect:rc,useImperativeHandle:bd,useInsertionEffect:Ad,useLayoutEffect:Ed,useMemo:Nd,useReducer:wr,useRef:Sd,useState:function(){return wr(Gi)},useDebugValue:uc,useDeferredValue:function(e,t){var i=kt();return Rd(i,mt.memoizedState,e,t)},useTransition:function(){var e=wr(Gi)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:od,useId:kd,useHostTransitionStatus:dc,useFormState:yd,useActionState:yd,useOptimistic:function(e,t){var i=kt();return cd(i,mt,e,t)},useMemoCache:ic,useCacheRefresh:Ud};pc.useEffectEvent=Cd;var Gd={readContext:Ie,use:br,useCallback:wd,useContext:Ie,useEffect:rc,useImperativeHandle:bd,useInsertionEffect:Ad,useLayoutEffect:Ed,useMemo:Nd,useReducer:ac,useRef:Sd,useState:function(){return ac(Gi)},useDebugValue:uc,useDeferredValue:function(e,t){var i=kt();return mt===null?cc(i,e,t):Rd(i,mt.memoizedState,e,t)},useTransition:function(){var e=ac(Gi)[0],t=kt().memoizedState;return[typeof e=="boolean"?e:sl(e),t]},useSyncExternalStore:od,useId:kd,useHostTransitionStatus:dc,useFormState:_d,useActionState:_d,useOptimistic:function(e,t){var i=kt();return mt!==null?cd(i,mt,e,t):(i.baseState=e,[e,i.queue.dispatch])},useMemoCache:ic,useCacheRefresh:Ud};Gd.useEffectEvent=Cd;function mc(e,t,i,s){t=e.memoizedState,i=i(s,t),i=i==null?t:S({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var gc={enqueueSetState:function(e,t,i){e=e._reactInternals;var s=Un(),f=Ao(s);f.payload=t,i!=null&&(f.callback=i),t=Eo(e,f,s),t!==null&&(bn(t,e,s),nl(t,e,s))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var s=Un(),f=Ao(s);f.tag=1,f.payload=t,i!=null&&(f.callback=i),t=Eo(e,f,s),t!==null&&(bn(t,e,s),nl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Un(),s=Ao(i);s.tag=2,t!=null&&(s.callback=t),t=Eo(e,s,i),t!==null&&(bn(t,e,i),nl(t,e,i))}};function Vd(e,t,i,s,f,g,C){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(s,g,C):t.prototype&&t.prototype.isPureReactComponent?!na(i,s)||!na(f,g):!0}function qd(e,t,i,s){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,s),t.state!==e&&gc.enqueueReplaceState(t,t.state,null)}function ca(e,t){var i=t;if("ref"in t){i={};for(var s in t)s!=="ref"&&(i[s]=t[s])}if(e=e.defaultProps){i===t&&(i=S({},i));for(var f in e)i[f]===void 0&&(i[f]=e[f])}return i}function Hd(e){Fa(e)}function Od(e){console.error(e)}function Fd(e){Fa(e)}function Ir(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(s){setTimeout(function(){throw s})}}function Yd(e,t,i){try{var s=e.onCaughtError;s(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function yc(e,t,i){return i=Ao(i),i.tag=3,i.payload={element:null},i.callback=function(){Ir(e,t)},i}function Jd(e){return e=Ao(e),e.tag=3,e}function Kd(e,t,i,s){var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=s.value;e.payload=function(){return f(g)},e.callback=function(){Yd(t,i,s)}}var C=i.stateNode;C!==null&&typeof C.componentDidCatch=="function"&&(e.callback=function(){Yd(t,i,s),typeof f!="function"&&(Mo===null?Mo=new Set([this]):Mo.add(this));var N=s.stack;this.componentDidCatch(s.value,{componentStack:N!==null?N:""})})}function iy(e,t,i,s,f){if(i.flags|=32768,s!==null&&typeof s=="object"&&typeof s.then=="function"){if(t=i.alternate,t!==null&&ke(t,i,f,!0),i=Mn.current,i!==null){switch(i.tag){case 31:case 13:return Jn===null?Or():i.alternate===null&&Rt===0&&(Rt=3),i.flags&=-257,i.flags|=65536,i.lanes=f,s===vr?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([s]):t.add(s),Hc(e,s,f)),!1;case 22:return i.flags|=65536,s===vr?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([s])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([s]):i.add(s)),Hc(e,s,f)),!1}throw Error(l(435,i.tag))}return Hc(e,s,f),Or(),!1}if(We)return t=Mn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=f,s!==Xa&&(e=Error(l(422),{cause:s}),zi(an(e,i)))):(s!==Xa&&(t=Error(l(423),{cause:s}),zi(an(t,i))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,s=an(s,i),f=yc(e.stateNode,s,f),Ku(e,f),Rt!==4&&(Rt=2)),!1;var g=Error(l(520),{cause:s});if(g=an(g,i),gl===null?gl=[g]:gl.push(g),Rt!==4&&(Rt=2),t===null)return!0;s=an(s,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=f&-f,i.lanes|=e,e=yc(i.stateNode,s,e),Ku(i,e),!1;case 1:if(t=i.type,g=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(Mo===null||!Mo.has(g))))return i.flags|=65536,f&=-f,i.lanes|=f,f=Jd(f),Kd(f,e,i,s),Ku(i,f),!1}i=i.return}while(i!==null);return!1}var vc=Error(l(461)),Pt=!1;function $t(e,t,i,s){t.child=e===null?Qf(t,null,i,s):ra(t,e.child,i,s)}function jd(e,t,i,s,f){i=i.render;var g=t.ref;if("ref"in s){var C={};for(var N in s)N!=="ref"&&(C[N]=s[N])}else C=s;return xe(t),s=Wu(e,t,i,C,g,f),N=ec(),e!==null&&!Pt?(tc(e,t,f),Vi(e,t,f)):(We&&N&&Ws(t),t.flags|=1,$t(e,t,s,f),t.child)}function Zd(e,t,i,s,f){if(e===null){var g=i.type;return typeof g=="function"&&!Xs(g)&&g.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=g,Xd(e,t,g,s,f)):(e=oa(i.type,null,s,t,t.mode,f),e.ref=t.ref,e.return=t,t.child=e)}if(g=e.child,!bc(e,f)){var C=g.memoizedProps;if(i=i.compare,i=i!==null?i:na,i(C,s)&&e.ref===t.ref)return Vi(e,t,f)}return t.flags|=1,e=Rn(g,s),e.ref=t.ref,e.return=t,t.child=e}function Xd(e,t,i,s,f){if(e!==null){var g=e.memoizedProps;if(na(g,s)&&e.ref===t.ref)if(Pt=!1,t.pendingProps=s=g,bc(e,f))(e.flags&131072)!==0&&(Pt=!0);else return t.lanes=e.lanes,Vi(e,t,f)}return _c(e,t,i,s,f)}function Qd(e,t,i,s){var f=s.children,g=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.mode==="hidden"){if((t.flags&128)!==0){if(g=g!==null?g.baseLanes|i:i,e!==null){for(s=t.child=e.child,f=0;s!==null;)f=f|s.lanes|s.childLanes,s=s.sibling;s=f&~g}else s=0,t.child=null;return $d(e,t,g,i,s)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&gr(t,g!==null?g.cachePool:null),g!==null?ed(t,g):Zu(),td(t);else return s=t.lanes=536870912,$d(e,t,g!==null?g.baseLanes|i:i,i,s)}else g!==null?(gr(t,g.cachePool),ed(t,g),bo(),t.memoizedState=null):(e!==null&&gr(t,null),Zu(),bo());return $t(e,t,f,i),t.child}function ul(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function $d(e,t,i,s,f){var g=Ou();return g=g===null?null:{parent:_t._currentValue,pool:g},t.memoizedState={baseLanes:i,cachePool:g},e!==null&&gr(t,null),Zu(),td(t),e!==null&&ke(e,t,s,!0),t.childLanes=f,null}function Dr(e,t){return t=Ur({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wd(e,t,i){return ra(t,e.child,null,i),e=Dr(t,t.pendingProps),e.flags|=2,In(t),t.memoizedState=null,e}function oy(e,t,i){var s=t.pendingProps,f=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(We){if(s.mode==="hidden")return e=Dr(t,s),t.lanes=536870912,ul(null,e);if(Qu(t),(e=vt)?(e=fp(e,Tn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:mi!==null?{id:On,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},i=dr(e),i.return=t,t.child=i,Mt=t,vt=null)):e=null,e===null)throw ti(t);return t.lanes=536870912,null}return Dr(t,s)}var g=e.memoizedState;if(g!==null){var C=g.dehydrated;if(Qu(t),f)if(t.flags&256)t.flags&=-257,t=Wd(e,t,i);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Pt||ke(e,t,i,!1),f=(i&e.childLanes)!==0,Pt||f){if(s=St,s!==null&&(C=ws(s,i),C!==0&&C!==g.retryLane))throw g.retryLane=C,pi(e,C),bn(s,e,C),vc;Or(),t=Wd(e,t,i)}else e=g.treeContext,vt=Kn(C.nextSibling),Mt=t,We=!0,gi=null,Tn=!1,e!==null&&pr(t,e),t=Dr(t,s),t.flags|=4096;return t}return e=Rn(e.child,{mode:s.mode,children:s.children}),e.ref=t.ref,t.child=e,e.return=t,e}function kr(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof i!="function"&&typeof i!="object")throw Error(l(284));(e===null||e.ref!==i)&&(t.flags|=4194816)}}function _c(e,t,i,s,f){return xe(t),i=Wu(e,t,i,s,void 0,f),s=ec(),e!==null&&!Pt?(tc(e,t,f),Vi(e,t,f)):(We&&s&&Ws(t),t.flags|=1,$t(e,t,i,f),t.child)}function eh(e,t,i,s,f,g){return xe(t),t.updateQueue=null,i=id(t,s,i,f),nd(e),s=ec(),e!==null&&!Pt?(tc(e,t,g),Vi(e,t,g)):(We&&s&&Ws(t),t.flags|=1,$t(e,t,i,g),t.child)}function th(e,t,i,s,f){if(xe(t),t.stateNode===null){var g=vo,C=i.contextType;typeof C=="object"&&C!==null&&(g=Ie(C)),g=new i(s,g),t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=gc,t.stateNode=g,g._reactInternals=t,g=t.stateNode,g.props=s,g.state=t.memoizedState,g.refs={},Yu(t),C=i.contextType,g.context=typeof C=="object"&&C!==null?Ie(C):vo,g.state=t.memoizedState,C=i.getDerivedStateFromProps,typeof C=="function"&&(mc(t,i,C,s),g.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(C=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),C!==g.state&&gc.enqueueReplaceState(g,g.state,null),ol(t,s,g,f),il(),g.state=t.memoizedState),typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!0}else if(e===null){g=t.stateNode;var N=t.memoizedProps,q=ca(i,N);g.props=q;var te=g.context,me=i.contextType;C=vo,typeof me=="object"&&me!==null&&(C=Ie(me));var Se=i.getDerivedStateFromProps;me=typeof Se=="function"||typeof g.getSnapshotBeforeUpdate=="function",N=t.pendingProps!==N,me||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(N||te!==C)&&qd(t,g,s,C),Co=!1;var ie=t.memoizedState;g.state=ie,ol(t,s,g,f),il(),te=t.memoizedState,N||ie!==te||Co?(typeof Se=="function"&&(mc(t,i,Se,s),te=t.memoizedState),(q=Co||Vd(t,i,q,s,ie,te,C))?(me||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=te),g.props=s,g.state=te,g.context=C,s=q):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{g=t.stateNode,Ju(e,t),C=t.memoizedProps,me=ca(i,C),g.props=me,Se=t.pendingProps,ie=g.context,te=i.contextType,q=vo,typeof te=="object"&&te!==null&&(q=Ie(te)),N=i.getDerivedStateFromProps,(te=typeof N=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(C!==Se||ie!==q)&&qd(t,g,s,q),Co=!1,ie=t.memoizedState,g.state=ie,ol(t,s,g,f),il();var ae=t.memoizedState;C!==Se||ie!==ae||Co||e!==null&&e.dependencies!==null&&De(e.dependencies)?(typeof N=="function"&&(mc(t,i,N,s),ae=t.memoizedState),(me=Co||Vd(t,i,me,s,ie,ae,q)||e!==null&&e.dependencies!==null&&De(e.dependencies))?(te||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(s,ae,q),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(s,ae,q)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=ae),g.props=s,g.state=ae,g.context=q,s=me):(typeof g.componentDidUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||C===e.memoizedProps&&ie===e.memoizedState||(t.flags|=1024),s=!1)}return g=s,kr(e,t),s=(t.flags&128)!==0,g||s?(g=t.stateNode,i=s&&typeof i.getDerivedStateFromError!="function"?null:g.render(),t.flags|=1,e!==null&&s?(t.child=ra(t,e.child,null,f),t.child=ra(t,null,i,f)):$t(e,t,i,f),t.memoizedState=g.state,e=t.child):e=Vi(e,t,f),e}function nh(e,t,i,s){return yi(),t.flags|=256,$t(e,t,i,s),t.child}var Sc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Tc(e){return{baseLanes:e,cachePool:Yf()}}function Cc(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=kn),e}function ih(e,t,i){var s=t.pendingProps,f=!1,g=(t.flags&128)!==0,C;if((C=g)||(C=e!==null&&e.memoizedState===null?!1:(Dt.current&2)!==0),C&&(f=!0,t.flags&=-129),C=(t.flags&32)!==0,t.flags&=-33,e===null){if(We){if(f?xo(t):bo(),(e=vt)?(e=fp(e,Tn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:mi!==null?{id:On,overflow:Fn}:null,retryLane:536870912,hydrationErrors:null},i=dr(e),i.return=t,t.child=i,Mt=t,vt=null)):e=null,e===null)throw ti(t);return af(e)?t.lanes=32:t.lanes=536870912,null}var N=s.children;return s=s.fallback,f?(bo(),f=t.mode,N=Ur({mode:"hidden",children:N},f),s=Ui(s,f,i,null),N.return=t,s.return=t,N.sibling=s,t.child=N,s=t.child,s.memoizedState=Tc(i),s.childLanes=Cc(e,C,i),t.memoizedState=Sc,ul(null,s)):(xo(t),Ac(t,N))}var q=e.memoizedState;if(q!==null&&(N=q.dehydrated,N!==null)){if(g)t.flags&256?(xo(t),t.flags&=-257,t=Ec(e,t,i)):t.memoizedState!==null?(bo(),t.child=e.child,t.flags|=128,t=null):(bo(),N=s.fallback,f=t.mode,s=Ur({mode:"visible",children:s.children},f),N=Ui(N,f,i,null),N.flags|=2,s.return=t,N.return=t,s.sibling=N,t.child=s,ra(t,e.child,null,i),s=t.child,s.memoizedState=Tc(i),s.childLanes=Cc(e,C,i),t.memoizedState=Sc,t=ul(null,s));else if(xo(t),af(N)){if(C=N.nextSibling&&N.nextSibling.dataset,C)var te=C.dgst;C=te,s=Error(l(419)),s.stack="",s.digest=C,zi({value:s,source:null,stack:null}),t=Ec(e,t,i)}else if(Pt||ke(e,t,i,!1),C=(i&e.childLanes)!==0,Pt||C){if(C=St,C!==null&&(s=ws(C,i),s!==0&&s!==q.retryLane))throw q.retryLane=s,pi(e,s),bn(C,e,s),vc;of(N)||Or(),t=Ec(e,t,i)}else of(N)?(t.flags|=192,t.child=e.child,t=null):(e=q.treeContext,vt=Kn(N.nextSibling),Mt=t,We=!0,gi=null,Tn=!1,e!==null&&pr(t,e),t=Ac(t,s.children),t.flags|=4096);return t}return f?(bo(),N=s.fallback,f=t.mode,q=e.child,te=q.sibling,s=Rn(q,{mode:"hidden",children:s.children}),s.subtreeFlags=q.subtreeFlags&65011712,te!==null?N=Rn(te,N):(N=Ui(N,f,i,null),N.flags|=2),N.return=t,s.return=t,s.sibling=N,t.child=s,ul(null,s),s=t.child,N=e.child.memoizedState,N===null?N=Tc(i):(f=N.cachePool,f!==null?(q=_t._currentValue,f=f.parent!==q?{parent:q,pool:q}:f):f=Yf(),N={baseLanes:N.baseLanes|i,cachePool:f}),s.memoizedState=N,s.childLanes=Cc(e,C,i),t.memoizedState=Sc,ul(e.child,s)):(xo(t),i=e.child,e=i.sibling,i=Rn(i,{mode:"visible",children:s.children}),i.return=t,i.sibling=null,e!==null&&(C=t.deletions,C===null?(t.deletions=[e],t.flags|=16):C.push(e)),t.child=i,t.memoizedState=null,i)}function Ac(e,t){return t=Ur({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ur(e,t){return e=on(22,e,null,t),e.lanes=0,e}function Ec(e,t,i){return ra(t,e.child,null,i),e=Ac(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function oh(e,t,i){e.lanes|=t;var s=e.alternate;s!==null&&(s.lanes|=t),oe(e.return,t,i)}function xc(e,t,i,s,f,g){var C=e.memoizedState;C===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:i,tailMode:f,treeForkCount:g}:(C.isBackwards=t,C.rendering=null,C.renderingStartTime=0,C.last=s,C.tail=i,C.tailMode=f,C.treeForkCount=g)}function ah(e,t,i){var s=t.pendingProps,f=s.revealOrder,g=s.tail;s=s.children;var C=Dt.current,N=(C&2)!==0;if(N?(C=C&1|2,t.flags|=128):C&=1,ce(Dt,C),$t(e,t,s,i),s=We?To:0,!N&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oh(e,i,t);else if(e.tag===19)oh(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(i=t.child,f=null;i!==null;)e=i.alternate,e!==null&&Cr(e)===null&&(f=i),i=i.sibling;i=f,i===null?(f=t.child,t.child=null):(f=i.sibling,i.sibling=null),xc(t,!1,f,i,g,s);break;case"backwards":case"unstable_legacy-backwards":for(i=null,f=t.child,t.child=null;f!==null;){if(e=f.alternate,e!==null&&Cr(e)===null){t.child=f;break}e=f.sibling,f.sibling=i,i=f,f=e}xc(t,!0,i,null,g,s);break;case"together":xc(t,!1,null,null,void 0,s);break;default:t.memoizedState=null}return t.child}function Vi(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),Ro|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ke(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,i=Rn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Rn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function bc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&De(e)))}function ay(e,t,i){switch(t.tag){case 3:He(t,t.stateNode.containerInfo),Y(t,_t,e.memoizedState.cache),yi();break;case 27:case 5:pt(t);break;case 4:He(t,t.stateNode.containerInfo);break;case 10:Y(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,Qu(t),null;break;case 13:var s=t.memoizedState;if(s!==null)return s.dehydrated!==null?(xo(t),t.flags|=128,null):(i&t.child.childLanes)!==0?ih(e,t,i):(xo(t),e=Vi(e,t,i),e!==null?e.sibling:null);xo(t);break;case 19:var f=(e.flags&128)!==0;if(s=(i&t.childLanes)!==0,s||(ke(e,t,i,!1),s=(i&t.childLanes)!==0),f){if(s)return ah(e,t,i);t.flags|=128}if(f=t.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),ce(Dt,Dt.current),s)break;return null;case 22:return t.lanes=0,Qd(e,t,i,t.pendingProps);case 24:Y(t,_t,e.memoizedState.cache)}return Vi(e,t,i)}function sh(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Pt=!0;else{if(!bc(e,i)&&(t.flags&128)===0)return Pt=!1,ay(e,t,i);Pt=(e.flags&131072)!==0}else Pt=!1,We&&(t.flags&1048576)!==0&&ja(t,To,t.index);switch(t.lanes=0,t.tag){case 16:e:{var s=t.pendingProps;if(e=sa(t.elementType),t.type=e,typeof e=="function")Xs(e)?(s=ca(e,s),t.tag=1,t=th(null,t,e,s,i)):(t.tag=0,t=_c(null,t,e,s,i));else{if(e!=null){var f=e.$$typeof;if(f===H){t.tag=11,t=jd(null,t,e,s,i);break e}else if(f===J){t.tag=14,t=Zd(null,t,e,s,i);break e}}throw t=w(e)||e,Error(l(306,t,""))}}return t;case 0:return _c(e,t,t.type,t.pendingProps,i);case 1:return s=t.type,f=ca(s,t.pendingProps),th(e,t,s,f,i);case 3:e:{if(He(t,t.stateNode.containerInfo),e===null)throw Error(l(387));s=t.pendingProps;var g=t.memoizedState;f=g.element,Ju(e,t),ol(t,s,null,i);var C=t.memoizedState;if(s=C.cache,Y(t,_t,s),s!==g.cache&&Ae(t,[_t],i,!0),il(),s=C.element,g.isDehydrated)if(g={element:s,isDehydrated:!1,cache:C.cache},t.updateQueue.baseState=g,t.memoizedState=g,t.flags&256){t=nh(e,t,s,i);break e}else if(s!==f){f=an(Error(l(424)),t),zi(f),t=nh(e,t,s,i);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(vt=Kn(e.firstChild),Mt=t,We=!0,gi=null,Tn=!0,i=Qf(t,null,s,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling}else{if(yi(),s===f){t=Vi(e,t,i);break e}$t(e,t,s,i)}t=t.child}return t;case 26:return kr(e,t),e===null?(i=yp(t.type,null,t.pendingProps,null))?t.memoizedState=i:We||(i=t.type,e=t.pendingProps,s=Xr(Ue.current).createElement(i),s[zt]=t,s[jt]=e,Wt(s,i,e),bt(s),t.stateNode=s):t.memoizedState=yp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return pt(t),e===null&&We&&(s=t.stateNode=pp(t.type,t.pendingProps,Ue.current),Mt=t,Tn=!0,f=vt,Uo(t.type)?(sf=f,vt=Kn(s.firstChild)):vt=f),$t(e,t,t.pendingProps.children,i),kr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&We&&((f=s=vt)&&(s=zy(s,t.type,t.pendingProps,Tn),s!==null?(t.stateNode=s,Mt=t,vt=Kn(s.firstChild),Tn=!1,f=!0):f=!1),f||ti(t)),pt(t),f=t.type,g=t.pendingProps,C=e!==null?e.memoizedProps:null,s=g.children,ef(f,g)?s=null:C!==null&&ef(f,C)&&(t.flags|=32),t.memoizedState!==null&&(f=Wu(e,t,Xg,null,null,i),El._currentValue=f),kr(e,t),$t(e,t,s,i),t.child;case 6:return e===null&&We&&((e=i=vt)&&(i=Ly(i,t.pendingProps,Tn),i!==null?(t.stateNode=i,Mt=t,vt=null,e=!0):e=!1),e||ti(t)),null;case 13:return ih(e,t,i);case 4:return He(t,t.stateNode.containerInfo),s=t.pendingProps,e===null?t.child=ra(t,null,s,i):$t(e,t,s,i),t.child;case 11:return jd(e,t,t.type,t.pendingProps,i);case 7:return $t(e,t,t.pendingProps,i),t.child;case 8:return $t(e,t,t.pendingProps.children,i),t.child;case 12:return $t(e,t,t.pendingProps.children,i),t.child;case 10:return s=t.pendingProps,Y(t,t.type,s.value),$t(e,t,s.children,i),t.child;case 9:return f=t.type._context,s=t.pendingProps.children,xe(t),f=Ie(f),s=s(f),t.flags|=1,$t(e,t,s,i),t.child;case 14:return Zd(e,t,t.type,t.pendingProps,i);case 15:return Xd(e,t,t.type,t.pendingProps,i);case 19:return ah(e,t,i);case 31:return oy(e,t,i);case 22:return Qd(e,t,i,t.pendingProps);case 24:return xe(t),s=Ie(_t),e===null?(f=Ou(),f===null&&(f=St,g=Li(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=i),f=g),t.memoizedState={parent:s,cache:f},Yu(t),Y(t,_t,f)):((e.lanes&i)!==0&&(Ju(e,t),ol(t,null,null,i),il()),f=e.memoizedState,g=t.memoizedState,f.parent!==s?(f={parent:s,cache:s},t.memoizedState=f,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=f),Y(t,_t,s)):(s=g.cache,Y(t,_t,s),s!==f.cache&&Ae(t,[_t],i,!0))),$t(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function qi(e){e.flags|=4}function wc(e,t,i,s,f){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(kh())e.flags|=8192;else throw la=vr,Fu}else e.flags&=-16777217}function lh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Cp(t))if(kh())e.flags|=8192;else throw la=vr,Fu}function zr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Ct():536870912,e.lanes|=t,us|=t)}function cl(e,t){if(!We)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:s.sibling=null}}function At(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,s=0;if(t)for(var f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags&65011712,s|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)i|=f.lanes|f.childLanes,s|=f.subtreeFlags,s|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=s,e.childLanes=i,t}function sy(e,t,i){var s=t.pendingProps;switch(Za(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return At(t),null;case 1:return At(t),null;case 3:return i=t.stateNode,s=null,e!==null&&(s=e.memoizedState.cache),t.memoizedState.cache!==s&&(t.flags|=2048),$(_t),Ve(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ni(t)?qi(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,vi())),At(t),null;case 26:var f=t.type,g=t.memoizedState;return e===null?(qi(t),g!==null?(At(t),lh(t,g)):(At(t),wc(t,f,null,s,i))):g?g!==e.memoizedState?(qi(t),At(t),lh(t,g)):(At(t),t.flags&=-16777217):(e=e.memoizedProps,e!==s&&qi(t),At(t),wc(t,f,e,s,i)),null;case 27:if(ft(t),i=Ue.current,f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&qi(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return At(t),null}e=re.current,ni(t)?Qa(t):(e=pp(f,s,i),t.stateNode=e,qi(t))}return At(t),null;case 5:if(ft(t),f=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==s&&qi(t);else{if(!s){if(t.stateNode===null)throw Error(l(166));return At(t),null}if(g=re.current,ni(t))Qa(t);else{var C=Xr(Ue.current);switch(g){case 1:g=C.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:g=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":g=C.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":g=C.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":g=C.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof s.is=="string"?C.createElement("select",{is:s.is}):C.createElement("select"),s.multiple?g.multiple=!0:s.size&&(g.size=s.size);break;default:g=typeof s.is=="string"?C.createElement(f,{is:s.is}):C.createElement(f)}}g[zt]=t,g[jt]=s;e:for(C=t.child;C!==null;){if(C.tag===5||C.tag===6)g.appendChild(C.stateNode);else if(C.tag!==4&&C.tag!==27&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===t)break e;for(;C.sibling===null;){if(C.return===null||C.return===t)break e;C=C.return}C.sibling.return=C.return,C=C.sibling}t.stateNode=g;e:switch(Wt(g,f,s),f){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}s&&qi(t)}}return At(t),wc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,i),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==s&&qi(t);else{if(typeof s!="string"&&t.stateNode===null)throw Error(l(166));if(e=Ue.current,ni(t)){if(e=t.stateNode,i=t.memoizedProps,s=null,f=Mt,f!==null)switch(f.tag){case 27:case 5:s=f.memoizedProps}e[zt]=t,e=!!(e.nodeValue===i||s!==null&&s.suppressHydrationWarning===!0||ip(e.nodeValue,i)),e||ti(t,!0)}else e=Xr(e).createTextNode(s),e[zt]=t,t.stateNode=e}return At(t),null;case 31:if(i=t.memoizedState,e===null||e.memoizedState!==null){if(s=ni(t),i!==null){if(e===null){if(!s)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[zt]=t}else yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),e=!1}else i=vi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=i),e=!0;if(!e)return t.flags&256?(In(t),t):(In(t),null);if((t.flags&128)!==0)throw Error(l(558))}return At(t),null;case 13:if(s=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=ni(t),s!==null&&s.dehydrated!==null){if(e===null){if(!f)throw Error(l(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(l(317));f[zt]=t}else yi(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;At(t),f=!1}else f=vi(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return t.flags&256?(In(t),t):(In(t),null)}return In(t),(t.flags&128)!==0?(t.lanes=i,t):(i=s!==null,e=e!==null&&e.memoizedState!==null,i&&(s=t.child,f=null,s.alternate!==null&&s.alternate.memoizedState!==null&&s.alternate.memoizedState.cachePool!==null&&(f=s.alternate.memoizedState.cachePool.pool),g=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(g=s.memoizedState.cachePool.pool),g!==f&&(s.flags|=2048)),i!==e&&i&&(t.child.flags|=8192),zr(t,t.updateQueue),At(t),null);case 4:return Ve(),e===null&&Zc(t.stateNode.containerInfo),At(t),null;case 10:return $(t.type),At(t),null;case 19:if(B(Dt),s=t.memoizedState,s===null)return At(t),null;if(f=(t.flags&128)!==0,g=s.rendering,g===null)if(f)cl(s,!1);else{if(Rt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=Cr(e),g!==null){for(t.flags|=128,cl(s,!1),e=g.updateQueue,t.updateQueue=e,zr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)fr(i,e),i=i.sibling;return ce(Dt,Dt.current&1|2),We&&ei(t,s.treeForkCount),t.child}e=e.sibling}s.tail!==null&&Ne()>Vr&&(t.flags|=128,f=!0,cl(s,!1),t.lanes=4194304)}else{if(!f)if(e=Cr(g),e!==null){if(t.flags|=128,f=!0,e=e.updateQueue,t.updateQueue=e,zr(t,e),cl(s,!0),s.tail===null&&s.tailMode==="hidden"&&!g.alternate&&!We)return At(t),null}else 2*Ne()-s.renderingStartTime>Vr&&i!==536870912&&(t.flags|=128,f=!0,cl(s,!1),t.lanes=4194304);s.isBackwards?(g.sibling=t.child,t.child=g):(e=s.last,e!==null?e.sibling=g:t.child=g,s.last=g)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ne(),e.sibling=null,i=Dt.current,ce(Dt,f?i&1|2:i&1),We&&ei(t,s.treeForkCount),e):(At(t),null);case 22:case 23:return In(t),Xu(),s=t.memoizedState!==null,e!==null?e.memoizedState!==null!==s&&(t.flags|=8192):s&&(t.flags|=8192),s?(i&536870912)!==0&&(t.flags&128)===0&&(At(t),t.subtreeFlags&6&&(t.flags|=8192)):At(t),i=t.updateQueue,i!==null&&zr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),s=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(s=t.memoizedState.cachePool.pool),s!==i&&(t.flags|=2048),e!==null&&B(aa),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),$(_t),At(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function ly(e,t){switch(Za(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return $(_t),Ve(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return ft(t),null;case 31:if(t.memoizedState!==null){if(In(t),t.alternate===null)throw Error(l(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(In(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));yi()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return B(Dt),null;case 4:return Ve(),null;case 10:return $(t.type),null;case 22:case 23:return In(t),Xu(),e!==null&&B(aa),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return $(_t),null;case 25:return null;default:return null}}function rh(e,t){switch(Za(t),t.tag){case 3:$(_t),Ve();break;case 26:case 27:case 5:ft(t);break;case 4:Ve();break;case 31:t.memoizedState!==null&&In(t);break;case 13:In(t);break;case 19:B(Dt);break;case 10:$(t.type);break;case 22:case 23:In(t),Xu(),e!==null&&B(aa);break;case 24:$(_t)}}function fl(e,t){try{var i=t.updateQueue,s=i!==null?i.lastEffect:null;if(s!==null){var f=s.next;i=f;do{if((i.tag&e)===e){s=void 0;var g=i.create,C=i.inst;s=g(),C.destroy=s}i=i.next}while(i!==f)}}catch(N){ht(t,t.return,N)}}function wo(e,t,i){try{var s=t.updateQueue,f=s!==null?s.lastEffect:null;if(f!==null){var g=f.next;s=g;do{if((s.tag&e)===e){var C=s.inst,N=C.destroy;if(N!==void 0){C.destroy=void 0,f=t;var q=i,te=N;try{te()}catch(me){ht(f,q,me)}}}s=s.next}while(s!==g)}}catch(me){ht(t,t.return,me)}}function uh(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{Wf(t,i)}catch(s){ht(e,e.return,s)}}}function ch(e,t,i){i.props=ca(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(s){ht(e,t,s)}}function dl(e,t){try{var i=e.ref;if(i!==null){switch(e.tag){case 26:case 27:case 5:var s=e.stateNode;break;case 30:s=e.stateNode;break;default:s=e.stateNode}typeof i=="function"?e.refCleanup=i(s):i.current=s}}catch(f){ht(e,t,f)}}function _i(e,t){var i=e.ref,s=e.refCleanup;if(i!==null)if(typeof s=="function")try{s()}catch(f){ht(e,t,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(f){ht(e,t,f)}else i.current=null}function fh(e){var t=e.type,i=e.memoizedProps,s=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&s.focus();break e;case"img":i.src?s.src=i.src:i.srcSet&&(s.srcset=i.srcSet)}}catch(f){ht(e,e.return,f)}}function Nc(e,t,i){try{var s=e.stateNode;Ry(s,e.type,i,t),s[jt]=t}catch(f){ht(e,e.return,f)}}function dh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Uo(e.type)||e.tag===4}function Rc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Uo(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Mc(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i).insertBefore(e,t):(t=i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,t.appendChild(e),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=pn));else if(s!==4&&(s===27&&Uo(e.type)&&(i=e.stateNode,t=null),e=e.child,e!==null))for(Mc(e,t,i),e=e.sibling;e!==null;)Mc(e,t,i),e=e.sibling}function Lr(e,t,i){var s=e.tag;if(s===5||s===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(s!==4&&(s===27&&Uo(e.type)&&(i=e.stateNode),e=e.child,e!==null))for(Lr(e,t,i),e=e.sibling;e!==null;)Lr(e,t,i),e=e.sibling}function hh(e){var t=e.stateNode,i=e.memoizedProps;try{for(var s=e.type,f=t.attributes;f.length;)t.removeAttributeNode(f[0]);Wt(t,s,i),t[zt]=e,t[jt]=i}catch(g){ht(e,e.return,g)}}var Hi=!1,Bt=!1,Ic=!1,ph=typeof WeakSet=="function"?WeakSet:Set,Jt=null;function ry(e,t){if(e=e.containerInfo,$c=iu,e=or(e),Fs(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var s=i.getSelection&&i.getSelection();if(s&&s.rangeCount!==0){i=s.anchorNode;var f=s.anchorOffset,g=s.focusNode;s=s.focusOffset;try{i.nodeType,g.nodeType}catch{i=null;break e}var C=0,N=-1,q=-1,te=0,me=0,Se=e,ie=null;t:for(;;){for(var ae;Se!==i||f!==0&&Se.nodeType!==3||(N=C+f),Se!==g||s!==0&&Se.nodeType!==3||(q=C+s),Se.nodeType===3&&(C+=Se.nodeValue.length),(ae=Se.firstChild)!==null;)ie=Se,Se=ae;for(;;){if(Se===e)break t;if(ie===i&&++te===f&&(N=C),ie===g&&++me===s&&(q=C),(ae=Se.nextSibling)!==null)break;Se=ie,ie=Se.parentNode}Se=ae}i=N===-1||q===-1?null:{start:N,end:q}}else i=null}i=i||{start:0,end:0}}else i=null;for(Wc={focusedElem:e,selectionRange:i},iu=!1,Jt=t;Jt!==null;)if(t=Jt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Jt=e;else for(;Jt!==null;){switch(t=Jt,g=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(i=0;i<e.length;i++)f=e[i],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,i=t,f=g.memoizedProps,g=g.memoizedState,s=i.stateNode;try{var Le=ca(i.type,f);e=s.getSnapshotBeforeUpdate(Le,g),s.__reactInternalSnapshotBeforeUpdate=e}catch(Fe){ht(i,i.return,Fe)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)nf(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":nf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Jt=e;break}Jt=t.return}}function mh(e,t,i){var s=i.flags;switch(i.tag){case 0:case 11:case 15:Fi(e,i),s&4&&fl(5,i);break;case 1:if(Fi(e,i),s&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(C){ht(i,i.return,C)}else{var f=ca(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(f,t,e.__reactInternalSnapshotBeforeUpdate)}catch(C){ht(i,i.return,C)}}s&64&&uh(i),s&512&&dl(i,i.return);break;case 3:if(Fi(e,i),s&64&&(e=i.updateQueue,e!==null)){if(t=null,i.child!==null)switch(i.child.tag){case 27:case 5:t=i.child.stateNode;break;case 1:t=i.child.stateNode}try{Wf(e,t)}catch(C){ht(i,i.return,C)}}break;case 27:t===null&&s&4&&hh(i);case 26:case 5:Fi(e,i),t===null&&s&4&&fh(i),s&512&&dl(i,i.return);break;case 12:Fi(e,i);break;case 31:Fi(e,i),s&4&&vh(e,i);break;case 13:Fi(e,i),s&4&&_h(e,i),s&64&&(e=i.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(i=yy.bind(null,i),Py(e,i))));break;case 22:if(s=i.memoizedState!==null||Hi,!s){t=t!==null&&t.memoizedState!==null||Bt,f=Hi;var g=Bt;Hi=s,(Bt=t)&&!g?Yi(e,i,(i.subtreeFlags&8772)!==0):Fi(e,i),Hi=f,Bt=g}break;case 30:break;default:Fi(e,i)}}function gh(e){var t=e.alternate;t!==null&&(e.alternate=null,gh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Ns(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var xt=null,Cn=!1;function Oi(e,t,i){for(i=i.child;i!==null;)yh(e,t,i),i=i.sibling}function yh(e,t,i){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(ut,i)}catch{}switch(i.tag){case 26:Bt||_i(i,t),Oi(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:Bt||_i(i,t);var s=xt,f=Cn;Uo(i.type)&&(xt=i.stateNode,Cn=!1),Oi(e,t,i),Tl(i.stateNode),xt=s,Cn=f;break;case 5:Bt||_i(i,t);case 6:if(s=xt,f=Cn,xt=null,Oi(e,t,i),xt=s,Cn=f,xt!==null)if(Cn)try{(xt.nodeType===9?xt.body:xt.nodeName==="HTML"?xt.ownerDocument.body:xt).removeChild(i.stateNode)}catch(g){ht(i,t,g)}else try{xt.removeChild(i.stateNode)}catch(g){ht(i,t,g)}break;case 18:xt!==null&&(Cn?(e=xt,up(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,i.stateNode),ys(e)):up(xt,i.stateNode));break;case 4:s=xt,f=Cn,xt=i.stateNode.containerInfo,Cn=!0,Oi(e,t,i),xt=s,Cn=f;break;case 0:case 11:case 14:case 15:wo(2,i,t),Bt||wo(4,i,t),Oi(e,t,i);break;case 1:Bt||(_i(i,t),s=i.stateNode,typeof s.componentWillUnmount=="function"&&ch(i,t,s)),Oi(e,t,i);break;case 21:Oi(e,t,i);break;case 22:Bt=(s=Bt)||i.memoizedState!==null,Oi(e,t,i),Bt=s;break;default:Oi(e,t,i)}}function vh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ys(e)}catch(i){ht(t,t.return,i)}}}function _h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ys(e)}catch(i){ht(t,t.return,i)}}function uy(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new ph),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new ph),t;default:throw Error(l(435,e.tag))}}function Pr(e,t){var i=uy(e);t.forEach(function(s){if(!i.has(s)){i.add(s);var f=vy.bind(null,e,s);s.then(f,f)}})}function An(e,t){var i=t.deletions;if(i!==null)for(var s=0;s<i.length;s++){var f=i[s],g=e,C=t,N=C;e:for(;N!==null;){switch(N.tag){case 27:if(Uo(N.type)){xt=N.stateNode,Cn=!1;break e}break;case 5:xt=N.stateNode,Cn=!1;break e;case 3:case 4:xt=N.stateNode.containerInfo,Cn=!0;break e}N=N.return}if(xt===null)throw Error(l(160));yh(g,C,f),xt=null,Cn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Sh(t,e),t=t.sibling}var ii=null;function Sh(e,t){var i=e.alternate,s=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:An(t,e),En(e),s&4&&(wo(3,e,e.return),fl(3,e),wo(5,e,e.return));break;case 1:An(t,e),En(e),s&512&&(Bt||i===null||_i(i,i.return)),s&64&&Hi&&(e=e.updateQueue,e!==null&&(s=e.callbacks,s!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?s:i.concat(s))));break;case 26:var f=ii;if(An(t,e),En(e),s&512&&(Bt||i===null||_i(i,i.return)),s&4){var g=i!==null?i.memoizedState:null;if(s=e.memoizedState,i===null)if(s===null)if(e.stateNode===null){e:{s=e.type,i=e.memoizedProps,f=f.ownerDocument||f;t:switch(s){case"title":g=f.getElementsByTagName("title")[0],(!g||g[si]||g[zt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(s),f.head.insertBefore(g,f.querySelector("head > title"))),Wt(g,s,i),g[zt]=e,bt(g),s=g;break e;case"link":var C=Sp("link","href",f).get(s+(i.href||""));if(C){for(var N=0;N<C.length;N++)if(g=C[N],g.getAttribute("href")===(i.href==null||i.href===""?null:i.href)&&g.getAttribute("rel")===(i.rel==null?null:i.rel)&&g.getAttribute("title")===(i.title==null?null:i.title)&&g.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){C.splice(N,1);break t}}g=f.createElement(s),Wt(g,s,i),f.head.appendChild(g);break;case"meta":if(C=Sp("meta","content",f).get(s+(i.content||""))){for(N=0;N<C.length;N++)if(g=C[N],g.getAttribute("content")===(i.content==null?null:""+i.content)&&g.getAttribute("name")===(i.name==null?null:i.name)&&g.getAttribute("property")===(i.property==null?null:i.property)&&g.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&g.getAttribute("charset")===(i.charSet==null?null:i.charSet)){C.splice(N,1);break t}}g=f.createElement(s),Wt(g,s,i),f.head.appendChild(g);break;default:throw Error(l(468,s))}g[zt]=e,bt(g),s=g}e.stateNode=s}else Tp(f,e.type,e.stateNode);else e.stateNode=_p(f,s,e.memoizedProps);else g!==s?(g===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):g.count--,s===null?Tp(f,e.type,e.stateNode):_p(f,s,e.memoizedProps)):s===null&&e.stateNode!==null&&Nc(e,e.memoizedProps,i.memoizedProps)}break;case 27:An(t,e),En(e),s&512&&(Bt||i===null||_i(i,i.return)),i!==null&&s&4&&Nc(e,e.memoizedProps,i.memoizedProps);break;case 5:if(An(t,e),En(e),s&512&&(Bt||i===null||_i(i,i.return)),e.flags&32){f=e.stateNode;try{Gn(f,"")}catch(Le){ht(e,e.return,Le)}}s&4&&e.stateNode!=null&&(f=e.memoizedProps,Nc(e,f,i!==null?i.memoizedProps:f)),s&1024&&(Ic=!0);break;case 6:if(An(t,e),En(e),s&4){if(e.stateNode===null)throw Error(l(162));s=e.memoizedProps,i=e.stateNode;try{i.nodeValue=s}catch(Le){ht(e,e.return,Le)}}break;case 3:if(Wr=null,f=ii,ii=Qr(t.containerInfo),An(t,e),ii=f,En(e),s&4&&i!==null&&i.memoizedState.isDehydrated)try{ys(t.containerInfo)}catch(Le){ht(e,e.return,Le)}Ic&&(Ic=!1,Th(e));break;case 4:s=ii,ii=Qr(e.stateNode.containerInfo),An(t,e),En(e),ii=s;break;case 12:An(t,e),En(e);break;case 31:An(t,e),En(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pr(e,s)));break;case 13:An(t,e),En(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Gr=Ne()),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pr(e,s)));break;case 22:f=e.memoizedState!==null;var q=i!==null&&i.memoizedState!==null,te=Hi,me=Bt;if(Hi=te||f,Bt=me||q,An(t,e),Bt=me,Hi=te,En(e),s&8192)e:for(t=e.stateNode,t._visibility=f?t._visibility&-2:t._visibility|1,f&&(i===null||q||Hi||Bt||fa(e)),i=null,t=e;;){if(t.tag===5||t.tag===26){if(i===null){q=i=t;try{if(g=q.stateNode,f)C=g.style,typeof C.setProperty=="function"?C.setProperty("display","none","important"):C.display="none";else{N=q.stateNode;var Se=q.memoizedProps.style,ie=Se!=null&&Se.hasOwnProperty("display")?Se.display:null;N.style.display=ie==null||typeof ie=="boolean"?"":(""+ie).trim()}}catch(Le){ht(q,q.return,Le)}}}else if(t.tag===6){if(i===null){q=t;try{q.stateNode.nodeValue=f?"":q.memoizedProps}catch(Le){ht(q,q.return,Le)}}}else if(t.tag===18){if(i===null){q=t;try{var ae=q.stateNode;f?cp(ae,!0):cp(q.stateNode,!1)}catch(Le){ht(q,q.return,Le)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}s&4&&(s=e.updateQueue,s!==null&&(i=s.retryQueue,i!==null&&(s.retryQueue=null,Pr(e,i))));break;case 19:An(t,e),En(e),s&4&&(s=e.updateQueue,s!==null&&(e.updateQueue=null,Pr(e,s)));break;case 30:break;case 21:break;default:An(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{for(var i,s=e.return;s!==null;){if(dh(s)){i=s;break}s=s.return}if(i==null)throw Error(l(160));switch(i.tag){case 27:var f=i.stateNode,g=Rc(e);Lr(e,g,f);break;case 5:var C=i.stateNode;i.flags&32&&(Gn(C,""),i.flags&=-33);var N=Rc(e);Lr(e,N,C);break;case 3:case 4:var q=i.stateNode.containerInfo,te=Rc(e);Mc(e,te,q);break;default:throw Error(l(161))}}catch(me){ht(e,e.return,me)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Th(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Th(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Fi(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mh(e,t.alternate,t),t=t.sibling}function fa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:wo(4,t,t.return),fa(t);break;case 1:_i(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&ch(t,t.return,i),fa(t);break;case 27:Tl(t.stateNode);case 26:case 5:_i(t,t.return),fa(t);break;case 22:t.memoizedState===null&&fa(t);break;case 30:fa(t);break;default:fa(t)}e=e.sibling}}function Yi(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var s=t.alternate,f=e,g=t,C=g.flags;switch(g.tag){case 0:case 11:case 15:Yi(f,g,i),fl(4,g);break;case 1:if(Yi(f,g,i),s=g,f=s.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(te){ht(s,s.return,te)}if(s=g,f=s.updateQueue,f!==null){var N=s.stateNode;try{var q=f.shared.hiddenCallbacks;if(q!==null)for(f.shared.hiddenCallbacks=null,f=0;f<q.length;f++)$f(q[f],N)}catch(te){ht(s,s.return,te)}}i&&C&64&&uh(g),dl(g,g.return);break;case 27:hh(g);case 26:case 5:Yi(f,g,i),i&&s===null&&C&4&&fh(g),dl(g,g.return);break;case 12:Yi(f,g,i);break;case 31:Yi(f,g,i),i&&C&4&&vh(f,g);break;case 13:Yi(f,g,i),i&&C&4&&_h(f,g);break;case 22:g.memoizedState===null&&Yi(f,g,i),dl(g,g.return);break;case 30:break;default:Yi(f,g,i)}t=t.sibling}}function Dc(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&Yn(i))}function kc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yn(e))}function oi(e,t,i,s){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ch(e,t,i,s),t=t.sibling}function Ch(e,t,i,s){var f=t.flags;switch(t.tag){case 0:case 11:case 15:oi(e,t,i,s),f&2048&&fl(9,t);break;case 1:oi(e,t,i,s);break;case 3:oi(e,t,i,s),f&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Yn(e)));break;case 12:if(f&2048){oi(e,t,i,s),e=t.stateNode;try{var g=t.memoizedProps,C=g.id,N=g.onPostCommit;typeof N=="function"&&N(C,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(q){ht(t,t.return,q)}}else oi(e,t,i,s);break;case 31:oi(e,t,i,s);break;case 13:oi(e,t,i,s);break;case 23:break;case 22:g=t.stateNode,C=t.alternate,t.memoizedState!==null?g._visibility&2?oi(e,t,i,s):hl(e,t):g._visibility&2?oi(e,t,i,s):(g._visibility|=2,ss(e,t,i,s,(t.subtreeFlags&10256)!==0||!1)),f&2048&&Dc(C,t);break;case 24:oi(e,t,i,s),f&2048&&kc(t.alternate,t);break;default:oi(e,t,i,s)}}function ss(e,t,i,s,f){for(f=f&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var g=e,C=t,N=i,q=s,te=C.flags;switch(C.tag){case 0:case 11:case 15:ss(g,C,N,q,f),fl(8,C);break;case 23:break;case 22:var me=C.stateNode;C.memoizedState!==null?me._visibility&2?ss(g,C,N,q,f):hl(g,C):(me._visibility|=2,ss(g,C,N,q,f)),f&&te&2048&&Dc(C.alternate,C);break;case 24:ss(g,C,N,q,f),f&&te&2048&&kc(C.alternate,C);break;default:ss(g,C,N,q,f)}t=t.sibling}}function hl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,s=t,f=s.flags;switch(s.tag){case 22:hl(i,s),f&2048&&Dc(s.alternate,s);break;case 24:hl(i,s),f&2048&&kc(s.alternate,s);break;default:hl(i,s)}t=t.sibling}}var pl=8192;function ls(e,t,i){if(e.subtreeFlags&pl)for(e=e.child;e!==null;)Ah(e,t,i),e=e.sibling}function Ah(e,t,i){switch(e.tag){case 26:ls(e,t,i),e.flags&pl&&e.memoizedState!==null&&Zy(i,ii,e.memoizedState,e.memoizedProps);break;case 5:ls(e,t,i);break;case 3:case 4:var s=ii;ii=Qr(e.stateNode.containerInfo),ls(e,t,i),ii=s;break;case 22:e.memoizedState===null&&(s=e.alternate,s!==null&&s.memoizedState!==null?(s=pl,pl=16777216,ls(e,t,i),pl=s):ls(e,t,i));break;default:ls(e,t,i)}}function Eh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function ml(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Jt=s,bh(s,e)}Eh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xh(e),e=e.sibling}function xh(e){switch(e.tag){case 0:case 11:case 15:ml(e),e.flags&2048&&wo(9,e,e.return);break;case 3:ml(e);break;case 12:ml(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Br(e)):ml(e);break;default:ml(e)}}function Br(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var s=t[i];Jt=s,bh(s,e)}Eh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:wo(8,t,t.return),Br(t);break;case 22:i=t.stateNode,i._visibility&2&&(i._visibility&=-3,Br(t));break;default:Br(t)}e=e.sibling}}function bh(e,t){for(;Jt!==null;){var i=Jt;switch(i.tag){case 0:case 11:case 15:wo(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var s=i.memoizedState.cachePool.pool;s!=null&&s.refCount++}break;case 24:Yn(i.memoizedState.cache)}if(s=i.child,s!==null)s.return=i,Jt=s;else e:for(i=e;Jt!==null;){s=Jt;var f=s.sibling,g=s.return;if(gh(s),s===i){Jt=null;break e}if(f!==null){f.return=g,Jt=f;break e}Jt=g}}}var cy={getCacheForType:function(e){var t=Ie(_t),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i},cacheSignal:function(){return Ie(_t).controller.signal}},fy=typeof WeakMap=="function"?WeakMap:Map,ct=0,St=null,tt=null,ot=0,dt=0,Dn=null,No=!1,rs=!1,Uc=!1,Ji=0,Rt=0,Ro=0,da=0,zc=0,kn=0,us=0,gl=null,xn=null,Lc=!1,Gr=0,wh=0,Vr=1/0,qr=null,Mo=null,Vt=0,Io=null,cs=null,Ki=0,Pc=0,Bc=null,Nh=null,yl=0,Gc=null;function Un(){return(ct&2)!==0&&ot!==0?ot&-ot:j.T!==null?Yc():to()}function Rh(){if(kn===0)if((ot&536870912)===0||We){var e=Ti;Ti<<=1,(Ti&3932160)===0&&(Ti=262144),kn=e}else kn=536870912;return e=Mn.current,e!==null&&(e.flags|=32),kn}function bn(e,t,i){(e===St&&(dt===2||dt===9)||e.cancelPendingCommit!==null)&&(fs(e,0),Do(e,ot,kn,!1)),eo(e,i),((ct&2)===0||e!==St)&&(e===St&&((ct&2)===0&&(da|=i),Rt===4&&Do(e,ot,kn,!1)),Si(e))}function Mh(e,t,i){if((ct&6)!==0)throw Error(l(327));var s=!i&&(t&127)===0&&(t&e.expiredLanes)===0||$i(e,t),f=s?py(e,t):qc(e,t,!0),g=s;do{if(f===0){rs&&!s&&Do(e,t,0,!1);break}else{if(i=e.current.alternate,g&&!dy(i)){f=qc(e,t,!1),g=!1;continue}if(f===2){if(g=t,e.errorRecoveryDisabledLanes&g)var C=0;else C=e.pendingLanes&-536870913,C=C!==0?C:C&536870912?536870912:0;if(C!==0){t=C;e:{var N=e;f=gl;var q=N.current.memoizedState.isDehydrated;if(q&&(fs(N,C).flags|=256),C=qc(N,C,!1),C!==2){if(Uc&&!q){N.errorRecoveryDisabledLanes|=g,da|=g,f=4;break e}g=xn,xn=f,g!==null&&(xn===null?xn=g:xn.push.apply(xn,g))}f=C}if(g=!1,f!==2)continue}}if(f===1){fs(e,0),Do(e,t,0,!0);break}e:{switch(s=e,g=f,g){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Do(s,t,kn,!No);break e;case 2:xn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(f=Gr+300-Ne(),10<f)){if(Do(s,t,kn,!No),ma(s,0,!0)!==0)break e;Ki=t,s.timeoutHandle=lp(Ih.bind(null,s,i,xn,qr,Lc,t,kn,da,us,No,g,"Throttled",-0,0),f);break e}Ih(s,i,xn,qr,Lc,t,kn,da,us,No,g,null,-0,0)}}break}while(!0);Si(e)}function Ih(e,t,i,s,f,g,C,N,q,te,me,Se,ie,ae){if(e.timeoutHandle=-1,Se=t.subtreeFlags,Se&8192||(Se&16785408)===16785408){Se={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:pn},Ah(t,g,Se);var Le=(g&62914560)===g?Gr-Ne():(g&4194048)===g?wh-Ne():0;if(Le=Xy(Se,Le),Le!==null){Ki=g,e.cancelPendingCommit=Le(Gh.bind(null,e,t,g,i,s,f,C,N,q,me,Se,null,ie,ae)),Do(e,g,C,!te);return}}Gh(e,t,g,i,s,f,C,N,q)}function dy(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var s=0;s<i.length;s++){var f=i[s],g=f.getSnapshot;f=f.value;try{if(!Qt(g(),f))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Do(e,t,i,s){t&=~zc,t&=~da,e.suspendedLanes|=t,e.pingedLanes&=~t,s&&(e.warmLanes|=t),s=e.expirationTimes;for(var f=t;0<f;){var g=31-Tt(f),C=1<<g;s[g]=-1,f&=~C}i!==0&&Oo(e,i,t)}function Hr(){return(ct&6)===0?(vl(0),!1):!0}function Vc(){if(tt!==null){if(dt===0)var e=tt.return;else e=tt,U=L=null,nc(e),ts=null,el=0,e=tt;for(;e!==null;)rh(e.alternate,e),e=e.return;tt=null}}function fs(e,t){var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,Dy(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ki=0,Vc(),St=e,tt=i=Rn(e.current,null),ot=t,dt=0,Dn=null,No=!1,rs=$i(e,t),Uc=!1,us=kn=zc=da=Ro=Rt=0,xn=gl=null,Lc=!1,(t&8)!==0&&(t|=t&32);var s=e.entangledLanes;if(s!==0)for(e=e.entanglements,s&=t;0<s;){var f=31-Tt(s),g=1<<f;t|=e[f],s&=~g}return Ji=t,ia(),i}function Dh(e,t){Ze=null,j.H=rl,t===es||t===yr?(t=jf(),dt=3):t===Fu?(t=jf(),dt=4):dt=t===vc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Dn=t,tt===null&&(Rt=1,Ir(e,an(t,e.current)))}function kh(){var e=Mn.current;return e===null?!0:(ot&4194048)===ot?Jn===null:(ot&62914560)===ot||(ot&536870912)!==0?e===Jn:!1}function Uh(){var e=j.H;return j.H=rl,e===null?rl:e}function zh(){var e=j.A;return j.A=cy,e}function Or(){Rt=4,No||(ot&4194048)!==ot&&Mn.current!==null||(rs=!0),(Ro&134217727)===0&&(da&134217727)===0||St===null||Do(St,ot,kn,!1)}function qc(e,t,i){var s=ct;ct|=2;var f=Uh(),g=zh();(St!==e||ot!==t)&&(qr=null,fs(e,t)),t=!1;var C=Rt;e:do try{if(dt!==0&&tt!==null){var N=tt,q=Dn;switch(dt){case 8:Vc(),C=6;break e;case 3:case 2:case 9:case 6:Mn.current===null&&(t=!0);var te=dt;if(dt=0,Dn=null,ds(e,N,q,te),i&&rs){C=0;break e}break;default:te=dt,dt=0,Dn=null,ds(e,N,q,te)}}hy(),C=Rt;break}catch(me){Dh(e,me)}while(!0);return t&&e.shellSuspendCounter++,U=L=null,ct=s,j.H=f,j.A=g,tt===null&&(St=null,ot=0,ia()),C}function hy(){for(;tt!==null;)Lh(tt)}function py(e,t){var i=ct;ct|=2;var s=Uh(),f=zh();St!==e||ot!==t?(qr=null,Vr=Ne()+500,fs(e,t)):rs=$i(e,t);e:do try{if(dt!==0&&tt!==null){t=tt;var g=Dn;t:switch(dt){case 1:dt=0,Dn=null,ds(e,t,g,1);break;case 2:case 9:if(Jf(g)){dt=0,Dn=null,Ph(t);break}t=function(){dt!==2&&dt!==9||St!==e||(dt=7),Si(e)},g.then(t,t);break e;case 3:dt=7;break e;case 4:dt=5;break e;case 7:Jf(g)?(dt=0,Dn=null,Ph(t)):(dt=0,Dn=null,ds(e,t,g,7));break;case 5:var C=null;switch(tt.tag){case 26:C=tt.memoizedState;case 5:case 27:var N=tt;if(C?Cp(C):N.stateNode.complete){dt=0,Dn=null;var q=N.sibling;if(q!==null)tt=q;else{var te=N.return;te!==null?(tt=te,Fr(te)):tt=null}break t}}dt=0,Dn=null,ds(e,t,g,5);break;case 6:dt=0,Dn=null,ds(e,t,g,6);break;case 8:Vc(),Rt=6;break e;default:throw Error(l(462))}}my();break}catch(me){Dh(e,me)}while(!0);return U=L=null,j.H=s,j.A=f,ct=i,tt!==null?0:(St=null,ot=0,ia(),Rt)}function my(){for(;tt!==null&&!ne();)Lh(tt)}function Lh(e){var t=sh(e.alternate,e,Ji);e.memoizedProps=e.pendingProps,t===null?Fr(e):tt=t}function Ph(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=eh(i,t,t.pendingProps,t.type,void 0,ot);break;case 11:t=eh(i,t,t.pendingProps,t.type.render,t.ref,ot);break;case 5:nc(t);default:rh(i,t),t=tt=fr(t,Ji),t=sh(i,t,Ji)}e.memoizedProps=e.pendingProps,t===null?Fr(e):tt=t}function ds(e,t,i,s){U=L=null,nc(t),ts=null,el=0;var f=t.return;try{if(iy(e,f,t,i,ot)){Rt=1,Ir(e,an(i,e.current)),tt=null;return}}catch(g){if(f!==null)throw tt=f,g;Rt=1,Ir(e,an(i,e.current)),tt=null;return}t.flags&32768?(We||s===1?e=!0:rs||(ot&536870912)!==0?e=!1:(No=e=!0,(s===2||s===9||s===3||s===6)&&(s=Mn.current,s!==null&&s.tag===13&&(s.flags|=16384))),Bh(t,e)):Fr(t)}function Fr(e){var t=e;do{if((t.flags&32768)!==0){Bh(t,No);return}e=t.return;var i=sy(t.alternate,t,Ji);if(i!==null){tt=i;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);Rt===0&&(Rt=5)}function Bh(e,t){do{var i=ly(e.alternate,e);if(i!==null){i.flags&=32767,tt=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){tt=e;return}tt=e=i}while(e!==null);Rt=6,tt=null}function Gh(e,t,i,s,f,g,C,N,q){e.cancelPendingCommit=null;do Yr();while(Vt!==0);if((ct&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(g=t.lanes|t.childLanes,g|=js,Pl(e,i,g,C,N,q),e===St&&(tt=St=null,ot=0),cs=t,Io=e,Ki=i,Pc=g,Bc=f,Nh=s,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,_y(Je,function(){return Fh(),null})):(e.callbackNode=null,e.callbackPriority=0),s=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||s){s=j.T,j.T=null,f=Q.p,Q.p=2,C=ct,ct|=4;try{ry(e,t,i)}finally{ct=C,Q.p=f,j.T=s}}Vt=1,Vh(),qh(),Hh()}}function Vh(){if(Vt===1){Vt=0;var e=Io,t=cs,i=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||i){i=j.T,j.T=null;var s=Q.p;Q.p=2;var f=ct;ct|=4;try{Sh(t,e);var g=Wc,C=or(e.containerInfo),N=g.focusedElem,q=g.selectionRange;if(C!==N&&N&&N.ownerDocument&&ir(N.ownerDocument.documentElement,N)){if(q!==null&&Fs(N)){var te=q.start,me=q.end;if(me===void 0&&(me=te),"selectionStart"in N)N.selectionStart=te,N.selectionEnd=Math.min(me,N.value.length);else{var Se=N.ownerDocument||document,ie=Se&&Se.defaultView||window;if(ie.getSelection){var ae=ie.getSelection(),Le=N.textContent.length,Fe=Math.min(q.start,Le),yt=q.end===void 0?Fe:Math.min(q.end,Le);!ae.extend&&Fe>yt&&(C=yt,yt=Fe,Fe=C);var X=nr(N,Fe),F=nr(N,yt);if(X&&F&&(ae.rangeCount!==1||ae.anchorNode!==X.node||ae.anchorOffset!==X.offset||ae.focusNode!==F.node||ae.focusOffset!==F.offset)){var ee=Se.createRange();ee.setStart(X.node,X.offset),ae.removeAllRanges(),Fe>yt?(ae.addRange(ee),ae.extend(F.node,F.offset)):(ee.setEnd(F.node,F.offset),ae.addRange(ee))}}}}for(Se=[],ae=N;ae=ae.parentNode;)ae.nodeType===1&&Se.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof N.focus=="function"&&N.focus(),N=0;N<Se.length;N++){var _e=Se[N];_e.element.scrollLeft=_e.left,_e.element.scrollTop=_e.top}}iu=!!$c,Wc=$c=null}finally{ct=f,Q.p=s,j.T=i}}e.current=t,Vt=2}}function qh(){if(Vt===2){Vt=0;var e=Io,t=cs,i=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||i){i=j.T,j.T=null;var s=Q.p;Q.p=2;var f=ct;ct|=4;try{mh(e,t.alternate,t)}finally{ct=f,Q.p=s,j.T=i}}Vt=3}}function Hh(){if(Vt===4||Vt===3){Vt=0,be();var e=Io,t=cs,i=Ki,s=Nh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Vt=5:(Vt=0,cs=Io=null,Oh(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Mo=null),Fo(i),t=t.stateNode,Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(ut,t,void 0,(t.current.flags&128)===128)}catch{}if(s!==null){t=j.T,f=Q.p,Q.p=2,j.T=null;try{for(var g=e.onRecoverableError,C=0;C<s.length;C++){var N=s[C];g(N.value,{componentStack:N.stack})}}finally{j.T=t,Q.p=f}}(Ki&3)!==0&&Yr(),Si(e),f=e.pendingLanes,(i&261930)!==0&&(f&42)!==0?e===Gc?yl++:(yl=0,Gc=e):yl=0,vl(0)}}function Oh(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Yn(t)))}function Yr(){return Vh(),qh(),Hh(),Fh()}function Fh(){if(Vt!==5)return!1;var e=Io,t=Pc;Pc=0;var i=Fo(Ki),s=j.T,f=Q.p;try{Q.p=32>i?32:i,j.T=null,i=Bc,Bc=null;var g=Io,C=Ki;if(Vt=0,cs=Io=null,Ki=0,(ct&6)!==0)throw Error(l(331));var N=ct;if(ct|=4,xh(g.current),Ch(g,g.current,C,i),ct=N,vl(0,!1),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(ut,g)}catch{}return!0}finally{Q.p=f,j.T=s,Oh(e,t)}}function Yh(e,t,i){t=an(i,t),t=yc(e.stateNode,t,2),e=Eo(e,t,2),e!==null&&(eo(e,2),Si(e))}function ht(e,t,i){if(e.tag===3)Yh(e,e,i);else for(;t!==null;){if(t.tag===3){Yh(t,e,i);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(Mo===null||!Mo.has(s))){e=an(i,e),i=Jd(2),s=Eo(t,i,2),s!==null&&(Kd(i,s,t,e),eo(s,2),Si(s));break}}t=t.return}}function Hc(e,t,i){var s=e.pingCache;if(s===null){s=e.pingCache=new fy;var f=new Set;s.set(t,f)}else f=s.get(t),f===void 0&&(f=new Set,s.set(t,f));f.has(i)||(Uc=!0,f.add(i),e=gy.bind(null,e,t,i),t.then(e,e))}function gy(e,t,i){var s=e.pingCache;s!==null&&s.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,St===e&&(ot&i)===i&&(Rt===4||Rt===3&&(ot&62914560)===ot&&300>Ne()-Gr?(ct&2)===0&&fs(e,0):zc|=i,us===ot&&(us=0)),Si(e)}function Jh(e,t){t===0&&(t=Ct()),e=pi(e,t),e!==null&&(eo(e,t),Si(e))}function yy(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Jh(e,i)}function vy(e,t){var i=0;switch(e.tag){case 31:case 13:var s=e.stateNode,f=e.memoizedState;f!==null&&(i=f.retryLane);break;case 19:s=e.stateNode;break;case 22:s=e.stateNode._retryCache;break;default:throw Error(l(314))}s!==null&&s.delete(t),Jh(e,i)}function _y(e,t){return Te(e,t)}var Jr=null,hs=null,Oc=!1,Kr=!1,Fc=!1,ko=0;function Si(e){e!==hs&&e.next===null&&(hs===null?Jr=hs=e:hs=hs.next=e),Kr=!0,Oc||(Oc=!0,Ty())}function vl(e,t){if(!Fc&&Kr){Fc=!0;do for(var i=!1,s=Jr;s!==null;){if(e!==0){var f=s.pendingLanes;if(f===0)var g=0;else{var C=s.suspendedLanes,N=s.pingedLanes;g=(1<<31-Tt(42|e)+1)-1,g&=f&~(C&~N),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(i=!0,Xh(s,g))}else g=ot,g=ma(s,s===St?g:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),(g&3)===0||$i(s,g)||(i=!0,Xh(s,g));s=s.next}while(i);Fc=!1}}function Sy(){Kh()}function Kh(){Kr=Oc=!1;var e=0;ko!==0&&Iy()&&(e=ko);for(var t=Ne(),i=null,s=Jr;s!==null;){var f=s.next,g=jh(s,t);g===0?(s.next=null,i===null?Jr=f:i.next=f,f===null&&(hs=i)):(i=s,(e!==0||(g&3)!==0)&&(Kr=!0)),s=f}Vt!==0&&Vt!==5||vl(e),ko!==0&&(ko=0)}function jh(e,t){for(var i=e.suspendedLanes,s=e.pingedLanes,f=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var C=31-Tt(g),N=1<<C,q=f[C];q===-1?((N&i)===0||(N&s)!==0)&&(f[C]=Ll(N,t)):q<=t&&(e.expiredLanes|=N),g&=~N}if(t=St,i=ot,i=ma(e,e===t?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s=e.callbackNode,i===0||e===t&&(dt===2||dt===9)||e.cancelPendingCommit!==null)return s!==null&&s!==null&&Ce(s),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||$i(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(s!==null&&Ce(s),Fo(i)){case 2:case 8:i=et;break;case 32:i=Je;break;case 268435456:i=dn;break;default:i=Je}return s=Zh.bind(null,e),i=Te(i,s),e.callbackPriority=t,e.callbackNode=i,t}return s!==null&&s!==null&&Ce(s),e.callbackPriority=2,e.callbackNode=null,2}function Zh(e,t){if(Vt!==0&&Vt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var i=e.callbackNode;if(Yr()&&e.callbackNode!==i)return null;var s=ot;return s=ma(e,e===St?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),s===0?null:(Mh(e,s,t),jh(e,Ne()),e.callbackNode!=null&&e.callbackNode===i?Zh.bind(null,e):null)}function Xh(e,t){if(Yr())return null;Mh(e,t,!0)}function Ty(){ky(function(){(ct&6)!==0?Te(ze,Sy):Kh()})}function Yc(){if(ko===0){var e=$a;e===0&&(e=Qe,Qe<<=1,(Qe&261888)===0&&(Qe=256)),ko=e}return ko}function Qh(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Xn(""+e)}function $h(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function Cy(e,t,i,s,f){if(t==="submit"&&i&&i.stateNode===f){var g=Qh((f[jt]||null).action),C=s.submitter;C&&(t=(t=C[jt]||null)?Qh(t.formAction):C.getAttribute("formAction"),t!==null&&(g=t,C=null));var N=new lo("action","action",null,s,f);e.push({event:N,listeners:[{instance:null,listener:function(){if(s.defaultPrevented){if(ko!==0){var q=C?$h(f,C):new FormData(f);fc(i,{pending:!0,data:q,method:f.method,action:g},null,q)}}else typeof g=="function"&&(N.preventDefault(),q=C?$h(f,C):new FormData(f),fc(i,{pending:!0,data:q,method:f.method,action:g},g,q))},currentTarget:f}]})}}for(var Jc=0;Jc<Ks.length;Jc++){var Kc=Ks[Jc],Ay=Kc.toLowerCase(),Ey=Kc[0].toUpperCase()+Kc.slice(1);yn(Ay,"on"+Ey)}yn(lr,"onAnimationEnd"),yn(Oa,"onAnimationIteration"),yn(rr,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(Gu,"onTransitionRun"),yn(go,"onTransitionStart"),yn(Vu,"onTransitionCancel"),yn(ur,"onTransitionEnd"),Nn("onMouseEnter",["mouseout","mouseover"]),Nn("onMouseLeave",["mouseout","mouseover"]),Nn("onPointerEnter",["pointerout","pointerover"]),Nn("onPointerLeave",["pointerout","pointerover"]),ui("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ui("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ui("onBeforeInput",["compositionend","keypress","textInput","paste"]),ui("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ui("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _l="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),xy=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_l));function Wh(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var s=e[i],f=s.event;s=s.listeners;e:{var g=void 0;if(t)for(var C=s.length-1;0<=C;C--){var N=s[C],q=N.instance,te=N.currentTarget;if(N=N.listener,q!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=te;try{g(f)}catch(me){Fa(me)}f.currentTarget=null,g=q}else for(C=0;C<s.length;C++){if(N=s[C],q=N.instance,te=N.currentTarget,N=N.listener,q!==g&&f.isPropagationStopped())break e;g=N,f.currentTarget=te;try{g(f)}catch(me){Fa(me)}f.currentTarget=null,g=q}}}}function nt(e,t){var i=t[ya];i===void 0&&(i=t[ya]=new Set);var s=e+"__bubble";i.has(s)||(ep(t,e,2,!1),i.add(s))}function jc(e,t,i){var s=0;t&&(s|=4),ep(i,e,s,t)}var jr="_reactListening"+Math.random().toString(36).slice(2);function Zc(e){if(!e[jr]){e[jr]=!0,Rs.forEach(function(i){i!=="selectionchange"&&(xy.has(i)||jc(i,!1,e),jc(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[jr]||(t[jr]=!0,jc("selectionchange",!1,t))}}function ep(e,t,i,s){switch(Rp(t)){case 2:var f=Wy;break;case 8:f=ev;break;default:f=ff}i=f.bind(null,t,i,e),f=void 0,!Ra||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(f=!0),s?f!==void 0?e.addEventListener(t,i,{capture:!0,passive:f}):e.addEventListener(t,i,!0):f!==void 0?e.addEventListener(t,i,{passive:f}):e.addEventListener(t,i,!1)}function Xc(e,t,i,s,f){var g=s;if((t&1)===0&&(t&2)===0&&s!==null)e:for(;;){if(s===null)return;var C=s.tag;if(C===3||C===4){var N=s.stateNode.containerInfo;if(N===f)break;if(C===4)for(C=s.return;C!==null;){var q=C.tag;if((q===3||q===4)&&C.stateNode.containerInfo===f)return;C=C.return}for(;N!==null;){if(C=wn(N),C===null)return;if(q=C.tag,q===5||q===6||q===26||q===27){s=g=C;continue e}N=N.parentNode}}s=s.return}Na(function(){var te=g,me=ao(i),Se=[];e:{var ie=Js.get(e);if(ie!==void 0){var ae=lo,Le=e;switch(e){case"keypress":if(Zo(i)===0)break e;case"keydown":case"keyup":ae=$n;break;case"focusin":Le="focus",ae=Ua;break;case"focusout":Le="blur",ae=Ua;break;case"beforeblur":case"afterblur":ae=Ua;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ru;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=Ii;break;case lr:case Oa:case rr:ae=Ri;break;case ur:ae=Kl;break;case"scroll":case"scrollend":ae=Us;break;case"wheel":ae=ku;break;case"copy":case"cut":case"paste":ae=ro;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=za;break;case"toggle":case"beforetoggle":ae=Ye}var Fe=(t&4)!==0,yt=!Fe&&(e==="scroll"||e==="scrollend"),X=Fe?ie!==null?ie+"Capture":null:ie;Fe=[];for(var F=te,ee;F!==null;){var _e=F;if(ee=_e.stateNode,_e=_e.tag,_e!==5&&_e!==26&&_e!==27||ee===null||X===null||(_e=Ko(F,X),_e!=null&&Fe.push(Sl(F,_e,ee))),yt)break;F=F.return}0<Fe.length&&(ie=new ae(ie,Le,null,i,me),Se.push({event:ie,listeners:Fe}))}}if((t&7)===0){e:{if(ie=e==="mouseover"||e==="pointerover",ae=e==="mouseout"||e==="pointerout",ie&&i!==wa&&(Le=i.relatedTarget||i.fromElement)&&(wn(Le)||Le[no]))break e;if((ae||ie)&&(ie=me.window===me?me:(ie=me.ownerDocument)?ie.defaultView||ie.parentWindow:window,ae?(Le=i.relatedTarget||i.toElement,ae=te,Le=Le?wn(Le):null,Le!==null&&(yt=c(Le),Fe=Le.tag,Le!==yt||Fe!==5&&Fe!==27&&Fe!==6)&&(Le=null)):(ae=null,Le=te),ae!==Le)){if(Fe=ka,_e="onMouseLeave",X="onMouseEnter",F="mouse",(e==="pointerout"||e==="pointerover")&&(Fe=za,_e="onPointerLeave",X="onPointerEnter",F="pointer"),yt=ae==null?ie:li(ae),ee=Le==null?ie:li(Le),ie=new Fe(_e,F+"leave",ae,i,me),ie.target=yt,ie.relatedTarget=ee,_e=null,wn(me)===te&&(Fe=new Fe(X,F+"enter",Le,i,me),Fe.target=ee,Fe.relatedTarget=yt,_e=Fe),yt=_e,ae&&Le)t:{for(Fe=by,X=ae,F=Le,ee=0,_e=X;_e;_e=Fe(_e))ee++;_e=0;for(var Ge=F;Ge;Ge=Fe(Ge))_e++;for(;0<ee-_e;)X=Fe(X),ee--;for(;0<_e-ee;)F=Fe(F),_e--;for(;ee--;){if(X===F||F!==null&&X===F.alternate){Fe=X;break t}X=Fe(X),F=Fe(F)}Fe=null}else Fe=null;ae!==null&&tp(Se,ie,ae,Fe,!1),Le!==null&&yt!==null&&tp(Se,yt,Le,Fe,!0)}}e:{if(ie=te?li(te):window,ae=ie.nodeName&&ie.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ie.type==="file")var st=ue;else if(Hn(ie))if(Ga)st=Bu;else{st=Lu;var Be=zu}else ae=ie.nodeName,!ae||ae.toLowerCase()!=="input"||ie.type!=="checkbox"&&ie.type!=="radio"?te&&ba(te.elementType)&&(st=ue):st=Pu;if(st&&(st=st(e,te))){co(Se,st,i,me);break e}Be&&Be(e,ie,te),e==="focusout"&&te&&ie.type==="number"&&te.memoizedProps.value!=null&&Jo(ie,"number",ie.value)}switch(Be=te?li(te):window,e){case"focusin":(Hn(Be)||Be.contentEditable==="true")&&(ho=Be,Va=te,po=null);break;case"focusout":po=Va=ho=null;break;case"mousedown":Ys=!0;break;case"contextmenu":case"mouseup":case"dragend":Ys=!1,qa(Se,i,me);break;case"selectionchange":if(ar)break;case"keydown":case"keyup":qa(Se,i,me)}var Xe;if(qn)e:{switch(e){case"compositionstart":var at="onCompositionStart";break e;case"compositionend":at="onCompositionEnd";break e;case"compositionupdate":at="onCompositionUpdate";break e}at=void 0}else Wn?Gs(e,i)&&(at="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(at="onCompositionStart");at&&(Zl&&i.locale!=="ko"&&(Wn||at!=="onCompositionStart"?at==="onCompositionEnd"&&Wn&&(Xe=Ia()):(ci=me,Ma="value"in ci?ci.value:ci.textContent,Wn=!0)),Be=Zr(te,at),0<Be.length&&(at=new mn(at,e,null,i,me),Se.push({event:at,listeners:Be}),Xe?at.data=Xe:(Xe=Ql(i),Xe!==null&&(at.data=Xe)))),(Xe=Pa?Vs(e,i):Uu(e,i))&&(at=Zr(te,"onBeforeInput"),0<at.length&&(Be=new mn("onBeforeInput","beforeinput",null,i,me),Se.push({event:Be,listeners:at}),Be.data=Xe)),Cy(Se,e,te,i,me)}Wh(Se,t)})}function Sl(e,t,i){return{instance:e,listener:t,currentTarget:i}}function Zr(e,t){for(var i=t+"Capture",s=[];e!==null;){var f=e,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=Ko(e,i),f!=null&&s.unshift(Sl(e,f,g)),f=Ko(e,t),f!=null&&s.push(Sl(e,f,g))),e.tag===3)return s;e=e.return}return[]}function by(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function tp(e,t,i,s,f){for(var g=t._reactName,C=[];i!==null&&i!==s;){var N=i,q=N.alternate,te=N.stateNode;if(N=N.tag,q!==null&&q===s)break;N!==5&&N!==26&&N!==27||te===null||(q=te,f?(te=Ko(i,g),te!=null&&C.unshift(Sl(i,te,q))):f||(te=Ko(i,g),te!=null&&C.push(Sl(i,te,q)))),i=i.return}C.length!==0&&e.push({event:t,listeners:C})}var wy=/\r\n?/g,Ny=/\u0000|\uFFFD/g;function np(e){return(typeof e=="string"?e:""+e).replace(wy,`
`).replace(Ny,"")}function ip(e,t){return t=np(t),np(e)===t}function gt(e,t,i,s,f,g){switch(i){case"children":typeof s=="string"?t==="body"||t==="textarea"&&s===""||Gn(e,s):(typeof s=="number"||typeof s=="bigint")&&t!=="body"&&Gn(e,""+s);break;case"className":Ai(e,"class",s);break;case"tabIndex":Ai(e,"tabindex",s);break;case"dir":case"role":case"viewBox":case"width":case"height":Ai(e,i,s);break;case"style":ks(e,s,g);break;case"data":if(t!=="object"){Ai(e,"data",s);break}case"src":case"href":if(s===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(s==null||typeof s=="function"||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Xn(""+s),e.setAttribute(i,s);break;case"action":case"formAction":if(typeof s=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(i==="formAction"?(t!=="input"&&gt(e,t,"name",f.name,f,null),gt(e,t,"formEncType",f.formEncType,f,null),gt(e,t,"formMethod",f.formMethod,f,null),gt(e,t,"formTarget",f.formTarget,f,null)):(gt(e,t,"encType",f.encType,f,null),gt(e,t,"method",f.method,f,null),gt(e,t,"target",f.target,f,null)));if(s==null||typeof s=="symbol"||typeof s=="boolean"){e.removeAttribute(i);break}s=Xn(""+s),e.setAttribute(i,s);break;case"onClick":s!=null&&(e.onclick=pn);break;case"onScroll":s!=null&&nt("scroll",e);break;case"onScrollEnd":s!=null&&nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"multiple":e.multiple=s&&typeof s!="function"&&typeof s!="symbol";break;case"muted":e.muted=s&&typeof s!="function"&&typeof s!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(s==null||typeof s=="function"||typeof s=="boolean"||typeof s=="symbol"){e.removeAttribute("xlink:href");break}i=Xn(""+s),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""+s):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":s&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":s===!0?e.setAttribute(i,""):s!==!1&&s!=null&&typeof s!="function"&&typeof s!="symbol"?e.setAttribute(i,s):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":s!=null&&typeof s!="function"&&typeof s!="symbol"&&!isNaN(s)&&1<=s?e.setAttribute(i,s):e.removeAttribute(i);break;case"rowSpan":case"start":s==null||typeof s=="function"||typeof s=="symbol"||isNaN(s)?e.removeAttribute(i):e.setAttribute(i,s);break;case"popover":nt("beforetoggle",e),nt("toggle",e),Yo(e,"popover",s);break;case"xlinkActuate":Pn(e,"http://www.w3.org/1999/xlink","xlink:actuate",s);break;case"xlinkArcrole":Pn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",s);break;case"xlinkRole":Pn(e,"http://www.w3.org/1999/xlink","xlink:role",s);break;case"xlinkShow":Pn(e,"http://www.w3.org/1999/xlink","xlink:show",s);break;case"xlinkTitle":Pn(e,"http://www.w3.org/1999/xlink","xlink:title",s);break;case"xlinkType":Pn(e,"http://www.w3.org/1999/xlink","xlink:type",s);break;case"xmlBase":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:base",s);break;case"xmlLang":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",s);break;case"xmlSpace":Pn(e,"http://www.w3.org/XML/1998/namespace","xml:space",s);break;case"is":Yo(e,"is",s);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=Ol.get(i)||i,Yo(e,i,s))}}function Qc(e,t,i,s,f,g){switch(i){case"style":ks(e,s,g);break;case"dangerouslySetInnerHTML":if(s!=null){if(typeof s!="object"||!("__html"in s))throw Error(l(61));if(i=s.__html,i!=null){if(f.children!=null)throw Error(l(60));e.innerHTML=i}}break;case"children":typeof s=="string"?Gn(e,s):(typeof s=="number"||typeof s=="bigint")&&Gn(e,""+s);break;case"onScroll":s!=null&&nt("scroll",e);break;case"onScrollEnd":s!=null&&nt("scrollend",e);break;case"onClick":s!=null&&(e.onclick=pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!zn.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(f=i.endsWith("Capture"),t=i.slice(2,f?i.length-7:void 0),g=e[jt]||null,g=g!=null?g[i]:null,typeof g=="function"&&e.removeEventListener(t,g,f),typeof s=="function")){typeof g!="function"&&g!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,s,f);break e}i in e?e[i]=s:s===!0?e.setAttribute(i,""):Yo(e,i,s)}}}function Wt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":nt("error",e),nt("load",e);var s=!1,f=!1,g;for(g in i)if(i.hasOwnProperty(g)){var C=i[g];if(C!=null)switch(g){case"src":s=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:gt(e,t,g,C,i,null)}}f&&gt(e,t,"srcSet",i.srcSet,i,null),s&&gt(e,t,"src",i.src,i,null);return;case"input":nt("invalid",e);var N=g=C=f=null,q=null,te=null;for(s in i)if(i.hasOwnProperty(s)){var me=i[s];if(me!=null)switch(s){case"name":f=me;break;case"type":C=me;break;case"checked":q=me;break;case"defaultChecked":te=me;break;case"value":g=me;break;case"defaultValue":N=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(l(137,t));break;default:gt(e,t,s,me,i,null)}}oo(e,g,N,q,te,C,f,!1);return;case"select":nt("invalid",e),s=C=g=null;for(f in i)if(i.hasOwnProperty(f)&&(N=i[f],N!=null))switch(f){case"value":g=N;break;case"defaultValue":C=N;break;case"multiple":s=N;default:gt(e,t,f,N,i,null)}t=g,i=C,e.multiple=!!s,t!=null?Bn(e,!!s,t,!1):i!=null&&Bn(e,!!s,i,!0);return;case"textarea":nt("invalid",e),g=f=s=null;for(C in i)if(i.hasOwnProperty(C)&&(N=i[C],N!=null))switch(C){case"value":s=N;break;case"defaultValue":f=N;break;case"children":g=N;break;case"dangerouslySetInnerHTML":if(N!=null)throw Error(l(91));break;default:gt(e,t,C,N,i,null)}Xt(e,s,f,g);return;case"option":for(q in i)if(i.hasOwnProperty(q)&&(s=i[q],s!=null))switch(q){case"selected":e.selected=s&&typeof s!="function"&&typeof s!="symbol";break;default:gt(e,t,q,s,i,null)}return;case"dialog":nt("beforetoggle",e),nt("toggle",e),nt("cancel",e),nt("close",e);break;case"iframe":case"object":nt("load",e);break;case"video":case"audio":for(s=0;s<_l.length;s++)nt(_l[s],e);break;case"image":nt("error",e),nt("load",e);break;case"details":nt("toggle",e);break;case"embed":case"source":case"link":nt("error",e),nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in i)if(i.hasOwnProperty(te)&&(s=i[te],s!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:gt(e,t,te,s,i,null)}return;default:if(ba(t)){for(me in i)i.hasOwnProperty(me)&&(s=i[me],s!==void 0&&Qc(e,t,me,s,i,void 0));return}}for(N in i)i.hasOwnProperty(N)&&(s=i[N],s!=null&&gt(e,t,N,s,i,null))}function Ry(e,t,i,s){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,C=null,N=null,q=null,te=null,me=null;for(ae in i){var Se=i[ae];if(i.hasOwnProperty(ae)&&Se!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=Se;default:s.hasOwnProperty(ae)||gt(e,t,ae,null,s,Se)}}for(var ie in s){var ae=s[ie];if(Se=i[ie],s.hasOwnProperty(ie)&&(ae!=null||Se!=null))switch(ie){case"type":g=ae;break;case"name":f=ae;break;case"checked":te=ae;break;case"defaultChecked":me=ae;break;case"value":C=ae;break;case"defaultValue":N=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(l(137,t));break;default:ae!==Se&&gt(e,t,ie,ae,s,Se)}}wt(e,C,N,q,te,me,g,f);return;case"select":ae=C=N=ie=null;for(g in i)if(q=i[g],i.hasOwnProperty(g)&&q!=null)switch(g){case"value":break;case"multiple":ae=q;default:s.hasOwnProperty(g)||gt(e,t,g,null,s,q)}for(f in s)if(g=s[f],q=i[f],s.hasOwnProperty(f)&&(g!=null||q!=null))switch(f){case"value":ie=g;break;case"defaultValue":N=g;break;case"multiple":C=g;default:g!==q&&gt(e,t,f,g,s,q)}t=N,i=C,s=ae,ie!=null?Bn(e,!!i,ie,!1):!!s!=!!i&&(t!=null?Bn(e,!!i,t,!0):Bn(e,!!i,i?[]:"",!1));return;case"textarea":ae=ie=null;for(N in i)if(f=i[N],i.hasOwnProperty(N)&&f!=null&&!s.hasOwnProperty(N))switch(N){case"value":break;case"children":break;default:gt(e,t,N,null,s,f)}for(C in s)if(f=s[C],g=i[C],s.hasOwnProperty(C)&&(f!=null||g!=null))switch(C){case"value":ie=f;break;case"defaultValue":ae=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(l(91));break;default:f!==g&&gt(e,t,C,f,s,g)}Aa(e,ie,ae);return;case"option":for(var Le in i)if(ie=i[Le],i.hasOwnProperty(Le)&&ie!=null&&!s.hasOwnProperty(Le))switch(Le){case"selected":e.selected=!1;break;default:gt(e,t,Le,null,s,ie)}for(q in s)if(ie=s[q],ae=i[q],s.hasOwnProperty(q)&&ie!==ae&&(ie!=null||ae!=null))switch(q){case"selected":e.selected=ie&&typeof ie!="function"&&typeof ie!="symbol";break;default:gt(e,t,q,ie,s,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Fe in i)ie=i[Fe],i.hasOwnProperty(Fe)&&ie!=null&&!s.hasOwnProperty(Fe)&&gt(e,t,Fe,null,s,ie);for(te in s)if(ie=s[te],ae=i[te],s.hasOwnProperty(te)&&ie!==ae&&(ie!=null||ae!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(l(137,t));break;default:gt(e,t,te,ie,s,ae)}return;default:if(ba(t)){for(var yt in i)ie=i[yt],i.hasOwnProperty(yt)&&ie!==void 0&&!s.hasOwnProperty(yt)&&Qc(e,t,yt,void 0,s,ie);for(me in s)ie=s[me],ae=i[me],!s.hasOwnProperty(me)||ie===ae||ie===void 0&&ae===void 0||Qc(e,t,me,ie,s,ae);return}}for(var X in i)ie=i[X],i.hasOwnProperty(X)&&ie!=null&&!s.hasOwnProperty(X)&&gt(e,t,X,null,s,ie);for(Se in s)ie=s[Se],ae=i[Se],!s.hasOwnProperty(Se)||ie===ae||ie==null&&ae==null||gt(e,t,Se,ie,s,ae)}function op(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function My(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,i=performance.getEntriesByType("resource"),s=0;s<i.length;s++){var f=i[s],g=f.transferSize,C=f.initiatorType,N=f.duration;if(g&&N&&op(C)){for(C=0,N=f.responseEnd,s+=1;s<i.length;s++){var q=i[s],te=q.startTime;if(te>N)break;var me=q.transferSize,Se=q.initiatorType;me&&op(Se)&&(q=q.responseEnd,C+=me*(q<N?1:(N-te)/(q-te)))}if(--s,t+=8*(g+C)/(f.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var $c=null,Wc=null;function Xr(e){return e.nodeType===9?e:e.ownerDocument}function ap(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function ef(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var tf=null;function Iy(){var e=window.event;return e&&e.type==="popstate"?e===tf?!1:(tf=e,!0):(tf=null,!1)}var lp=typeof setTimeout=="function"?setTimeout:void 0,Dy=typeof clearTimeout=="function"?clearTimeout:void 0,rp=typeof Promise=="function"?Promise:void 0,ky=typeof queueMicrotask=="function"?queueMicrotask:typeof rp<"u"?function(e){return rp.resolve(null).then(e).catch(Uy)}:lp;function Uy(e){setTimeout(function(){throw e})}function Uo(e){return e==="head"}function up(e,t){var i=t,s=0;do{var f=i.nextSibling;if(e.removeChild(i),f&&f.nodeType===8)if(i=f.data,i==="/$"||i==="/&"){if(s===0){e.removeChild(f),ys(t);return}s--}else if(i==="$"||i==="$?"||i==="$~"||i==="$!"||i==="&")s++;else if(i==="html")Tl(e.ownerDocument.documentElement);else if(i==="head"){i=e.ownerDocument.head,Tl(i);for(var g=i.firstChild;g;){var C=g.nextSibling,N=g.nodeName;g[si]||N==="SCRIPT"||N==="STYLE"||N==="LINK"&&g.rel.toLowerCase()==="stylesheet"||i.removeChild(g),g=C}}else i==="body"&&Tl(e.ownerDocument.body);i=f}while(i);ys(t)}function cp(e,t){var i=e;e=0;do{var s=i.nextSibling;if(i.nodeType===1?t?(i._stashedDisplay=i.style.display,i.style.display="none"):(i.style.display=i._stashedDisplay||"",i.getAttribute("style")===""&&i.removeAttribute("style")):i.nodeType===3&&(t?(i._stashedText=i.nodeValue,i.nodeValue=""):i.nodeValue=i._stashedText||""),s&&s.nodeType===8)if(i=s.data,i==="/$"){if(e===0)break;e--}else i!=="$"&&i!=="$?"&&i!=="$~"&&i!=="$!"||e++;i=s}while(i)}function nf(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":nf(i),Ns(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function zy(e,t,i,s){for(;e.nodeType===1;){var f=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!s&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(s){if(!e[si])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function Ly(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Kn(e.nextSibling),e===null))return null;return e}function fp(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=Kn(e.nextSibling),e===null))return null;return e}function of(e){return e.data==="$?"||e.data==="$~"}function af(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Py(e,t){var i=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||i.readyState!=="loading")t();else{var s=function(){t(),i.removeEventListener("DOMContentLoaded",s)};i.addEventListener("DOMContentLoaded",s),e._reactRetry=s}}function Kn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var sf=null;function dp(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="/$"||i==="/&"){if(t===0)return Kn(e.nextSibling);t--}else i!=="$"&&i!=="$!"&&i!=="$?"&&i!=="$~"&&i!=="&"||t++}e=e.nextSibling}return null}function hp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"){if(t===0)return e;t--}else i!=="/$"&&i!=="/&"||t++}e=e.previousSibling}return null}function pp(e,t,i){switch(t=Xr(i),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Tl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ns(e)}var jn=new Map,mp=new Set;function Qr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ji=Q.d;Q.d={f:By,r:Gy,D:Vy,C:qy,L:Hy,m:Oy,X:Yy,S:Fy,M:Jy};function By(){var e=ji.f(),t=Hr();return e||t}function Gy(e){var t=io(e);t!==null&&t.tag===5&&t.type==="form"?Dd(t):ji.r(e)}var ps=typeof document>"u"?null:document;function gp(e,t,i){var s=ps;if(s&&typeof t=="string"&&t){var f=cn(t);f='link[rel="'+e+'"][href="'+f+'"]',typeof i=="string"&&(f+='[crossorigin="'+i+'"]'),mp.has(f)||(mp.add(f),e={rel:e,crossOrigin:i,href:t},s.querySelector(f)===null&&(t=s.createElement("link"),Wt(t,"link",e),bt(t),s.head.appendChild(t)))}}function Vy(e){ji.D(e),gp("dns-prefetch",e,null)}function qy(e,t){ji.C(e,t),gp("preconnect",e,t)}function Hy(e,t,i){ji.L(e,t,i);var s=ps;if(s&&e&&t){var f='link[rel="preload"][as="'+cn(t)+'"]';t==="image"&&i&&i.imageSrcSet?(f+='[imagesrcset="'+cn(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(f+='[imagesizes="'+cn(i.imageSizes)+'"]')):f+='[href="'+cn(e)+'"]';var g=f;switch(t){case"style":g=ms(e);break;case"script":g=gs(e)}jn.has(g)||(e=S({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),jn.set(g,e),s.querySelector(f)!==null||t==="style"&&s.querySelector(Cl(g))||t==="script"&&s.querySelector(Al(g))||(t=s.createElement("link"),Wt(t,"link",e),bt(t),s.head.appendChild(t)))}}function Oy(e,t){ji.m(e,t);var i=ps;if(i&&e){var s=t&&typeof t.as=="string"?t.as:"script",f='link[rel="modulepreload"][as="'+cn(s)+'"][href="'+cn(e)+'"]',g=f;switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=gs(e)}if(!jn.has(g)&&(e=S({rel:"modulepreload",href:e},t),jn.set(g,e),i.querySelector(f)===null)){switch(s){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Al(g)))return}s=i.createElement("link"),Wt(s,"link",e),bt(s),i.head.appendChild(s)}}}function Fy(e,t,i){ji.S(e,t,i);var s=ps;if(s&&e){var f=ri(s).hoistableStyles,g=ms(e);t=t||"default";var C=f.get(g);if(!C){var N={loading:0,preload:null};if(C=s.querySelector(Cl(g)))N.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},i),(i=jn.get(g))&&lf(e,i);var q=C=s.createElement("link");bt(q),Wt(q,"link",e),q._p=new Promise(function(te,me){q.onload=te,q.onerror=me}),q.addEventListener("load",function(){N.loading|=1}),q.addEventListener("error",function(){N.loading|=2}),N.loading|=4,$r(C,t,s)}C={type:"stylesheet",instance:C,count:1,state:N},f.set(g,C)}}}function Yy(e,t){ji.X(e,t);var i=ps;if(i&&e){var s=ri(i).hoistableScripts,f=gs(e),g=s.get(f);g||(g=i.querySelector(Al(f)),g||(e=S({src:e,async:!0},t),(t=jn.get(f))&&rf(e,t),g=i.createElement("script"),bt(g),Wt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(f,g))}}function Jy(e,t){ji.M(e,t);var i=ps;if(i&&e){var s=ri(i).hoistableScripts,f=gs(e),g=s.get(f);g||(g=i.querySelector(Al(f)),g||(e=S({src:e,async:!0,type:"module"},t),(t=jn.get(f))&&rf(e,t),g=i.createElement("script"),bt(g),Wt(g,"link",e),i.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},s.set(f,g))}}function yp(e,t,i,s){var f=(f=Ue.current)?Qr(f):null;if(!f)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=ms(i.href),i=ri(f).hoistableStyles,s=i.get(t),s||(s={type:"style",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=ms(i.href);var g=ri(f).hoistableStyles,C=g.get(e);if(C||(f=f.ownerDocument||f,C={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,C),(g=f.querySelector(Cl(e)))&&!g._p&&(C.instance=g,C.state.loading=5),jn.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},jn.set(e,i),g||Ky(f,e,i,C.state))),t&&s===null)throw Error(l(528,""));return C}if(t&&s!==null)throw Error(l(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=gs(i),i=ri(f).hoistableScripts,s=i.get(t),s||(s={type:"script",instance:null,count:0,state:null},i.set(t,s)),s):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function ms(e){return'href="'+cn(e)+'"'}function Cl(e){return'link[rel="stylesheet"]['+e+"]"}function vp(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ky(e,t,i,s){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?s.loading=1:(t=e.createElement("link"),s.preload=t,t.addEventListener("load",function(){return s.loading|=1}),t.addEventListener("error",function(){return s.loading|=2}),Wt(t,"link",i),bt(t),e.head.appendChild(t))}function gs(e){return'[src="'+cn(e)+'"]'}function Al(e){return"script[async]"+e}function _p(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var s=e.querySelector('style[data-href~="'+cn(i.href)+'"]');if(s)return t.instance=s,bt(s),s;var f=S({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return s=(e.ownerDocument||e).createElement("style"),bt(s),Wt(s,"style",f),$r(s,i.precedence,e),t.instance=s;case"stylesheet":f=ms(i.href);var g=e.querySelector(Cl(f));if(g)return t.state.loading|=4,t.instance=g,bt(g),g;s=vp(i),(f=jn.get(f))&&lf(s,f),g=(e.ownerDocument||e).createElement("link"),bt(g);var C=g;return C._p=new Promise(function(N,q){C.onload=N,C.onerror=q}),Wt(g,"link",s),t.state.loading|=4,$r(g,i.precedence,e),t.instance=g;case"script":return g=gs(i.src),(f=e.querySelector(Al(g)))?(t.instance=f,bt(f),f):(s=i,(f=jn.get(g))&&(s=S({},i),rf(s,f)),e=e.ownerDocument||e,f=e.createElement("script"),bt(f),Wt(f,"link",s),e.head.appendChild(f),t.instance=f);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(s=t.instance,t.state.loading|=4,$r(s,i.precedence,e));return t.instance}function $r(e,t,i){for(var s=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=s.length?s[s.length-1]:null,g=f,C=0;C<s.length;C++){var N=s[C];if(N.dataset.precedence===t)g=N;else if(g!==f)break}g?g.parentNode.insertBefore(e,g.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function lf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function rf(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Wr=null;function Sp(e,t,i){if(Wr===null){var s=new Map,f=Wr=new Map;f.set(i,s)}else f=Wr,s=f.get(i),s||(s=new Map,f.set(i,s));if(s.has(e))return s;for(s.set(e,null),i=i.getElementsByTagName(e),f=0;f<i.length;f++){var g=i[f];if(!(g[si]||g[zt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var C=g.getAttribute(t)||"";C=e+C;var N=s.get(C);N?N.push(g):s.set(C,[g])}}return s}function Tp(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function jy(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Cp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Zy(e,t,i,s){if(i.type==="stylesheet"&&(typeof s.media!="string"||matchMedia(s.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var f=ms(s.href),g=t.querySelector(Cl(f));if(g){t=g._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=eu.bind(e),t.then(e,e)),i.state.loading|=4,i.instance=g,bt(g);return}g=t.ownerDocument||t,s=vp(s),(f=jn.get(f))&&lf(s,f),g=g.createElement("link"),bt(g);var C=g;C._p=new Promise(function(N,q){C.onload=N,C.onerror=q}),Wt(g,"link",s),i.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(e.count++,i=eu.bind(e),t.addEventListener("load",i),t.addEventListener("error",i))}}var uf=0;function Xy(e,t){return e.stylesheets&&e.count===0&&nu(e,e.stylesheets),0<e.count||0<e.imgCount?function(i){var s=setTimeout(function(){if(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+t);0<e.imgBytes&&uf===0&&(uf=62500*My());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&nu(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>uf?50:800)+t);return e.unsuspend=i,function(){e.unsuspend=null,clearTimeout(s),clearTimeout(f)}}:null}function eu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)nu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var tu=null;function nu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,tu=new Map,t.forEach(Qy,e),tu=null,eu.call(e))}function Qy(e,t){if(!(t.state.loading&4)){var i=tu.get(e);if(i)var s=i.get(null);else{i=new Map,tu.set(e,i);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var C=f[g];(C.nodeName==="LINK"||C.getAttribute("media")!=="not all")&&(i.set(C.dataset.precedence,C),s=C)}s&&i.set(null,s)}f=t.instance,C=f.getAttribute("data-precedence"),g=i.get(C)||s,g===s&&i.set(null,f),i.set(C,f),this.count++,s=eu.bind(this),f.addEventListener("load",s),f.addEventListener("error",s),g?g.parentNode.insertBefore(f,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),t.state.loading|=4}}var El={$$typeof:z,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function $y(e,t,i,s,f,g,C,N,q){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Wi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wi(0),this.hiddenUpdates=Wi(null),this.identifierPrefix=s,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=C,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Ap(e,t,i,s,f,g,C,N,q,te,me,Se){return e=new $y(e,t,i,C,q,te,me,Se,N),t=1,g===!0&&(t|=24),g=on(3,null,null,t),e.current=g,g.stateNode=e,t=Li(),t.refCount++,e.pooledCache=t,t.refCount++,g.memoizedState={element:s,isDehydrated:i,cache:t},Yu(g),e}function Ep(e){return e?(e=vo,e):vo}function xp(e,t,i,s,f,g){f=Ep(f),s.context===null?s.context=f:s.pendingContext=f,s=Ao(t),s.payload={element:i},g=g===void 0?null:g,g!==null&&(s.callback=g),i=Eo(e,s,t),i!==null&&(bn(i,e,t),nl(i,e,t))}function bp(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function cf(e,t){bp(e,t),(e=e.alternate)&&bp(e,t)}function wp(e){if(e.tag===13||e.tag===31){var t=pi(e,67108864);t!==null&&bn(t,e,67108864),cf(e,67108864)}}function Np(e){if(e.tag===13||e.tag===31){var t=Un();t=ga(t);var i=pi(e,t);i!==null&&bn(i,e,t),cf(e,t)}}var iu=!0;function Wy(e,t,i,s){var f=j.T;j.T=null;var g=Q.p;try{Q.p=2,ff(e,t,i,s)}finally{Q.p=g,j.T=f}}function ev(e,t,i,s){var f=j.T;j.T=null;var g=Q.p;try{Q.p=8,ff(e,t,i,s)}finally{Q.p=g,j.T=f}}function ff(e,t,i,s){if(iu){var f=df(s);if(f===null)Xc(e,t,s,ou,i),Mp(e,s);else if(nv(f,e,t,i,s))s.stopPropagation();else if(Mp(e,s),t&4&&-1<tv.indexOf(e)){for(;f!==null;){var g=io(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var C=tn(g.pendingLanes);if(C!==0){var N=g;for(N.pendingLanes|=2,N.entangledLanes|=2;C;){var q=1<<31-Tt(C);N.entanglements[1]|=q,C&=~q}Si(g),(ct&6)===0&&(Vr=Ne()+500,vl(0))}}break;case 31:case 13:N=pi(g,2),N!==null&&bn(N,g,2),Hr(),cf(g,2)}if(g=df(s),g===null&&Xc(e,t,s,ou,i),g===f)break;f=g}f!==null&&s.stopPropagation()}else Xc(e,t,s,null,i)}}function df(e){return e=ao(e),hf(e)}var ou=null;function hf(e){if(ou=null,e=wn(e),e!==null){var t=c(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=h(t),e!==null)return e;e=null}else if(i===31){if(e=p(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ou=e,null}function Rp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(we()){case ze:return 2;case et:return 8;case Je:case Ht:return 32;case dn:return 268435456;default:return 32}default:return 32}}var pf=!1,zo=null,Lo=null,Po=null,xl=new Map,bl=new Map,Bo=[],tv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mp(e,t){switch(e){case"focusin":case"focusout":zo=null;break;case"dragenter":case"dragleave":Lo=null;break;case"mouseover":case"mouseout":Po=null;break;case"pointerover":case"pointerout":xl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(t.pointerId)}}function wl(e,t,i,s,f,g){return e===null||e.nativeEvent!==g?(e={blockedOn:t,domEventName:i,eventSystemFlags:s,nativeEvent:g,targetContainers:[f]},t!==null&&(t=io(t),t!==null&&wp(t)),e):(e.eventSystemFlags|=s,t=e.targetContainers,f!==null&&t.indexOf(f)===-1&&t.push(f),e)}function nv(e,t,i,s,f){switch(t){case"focusin":return zo=wl(zo,e,t,i,s,f),!0;case"dragenter":return Lo=wl(Lo,e,t,i,s,f),!0;case"mouseover":return Po=wl(Po,e,t,i,s,f),!0;case"pointerover":var g=f.pointerId;return xl.set(g,wl(xl.get(g)||null,e,t,i,s,f)),!0;case"gotpointercapture":return g=f.pointerId,bl.set(g,wl(bl.get(g)||null,e,t,i,s,f)),!0}return!1}function Ip(e){var t=wn(e.target);if(t!==null){var i=c(t);if(i!==null){if(t=i.tag,t===13){if(t=h(i),t!==null){e.blockedOn=t,Ci(e.priority,function(){Np(i)});return}}else if(t===31){if(t=p(i),t!==null){e.blockedOn=t,Ci(e.priority,function(){Np(i)});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function au(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=df(e.nativeEvent);if(i===null){i=e.nativeEvent;var s=new i.constructor(i.type,i);wa=s,i.target.dispatchEvent(s),wa=null}else return t=io(i),t!==null&&wp(t),e.blockedOn=i,!1;t.shift()}return!0}function Dp(e,t,i){au(e)&&i.delete(t)}function iv(){pf=!1,zo!==null&&au(zo)&&(zo=null),Lo!==null&&au(Lo)&&(Lo=null),Po!==null&&au(Po)&&(Po=null),xl.forEach(Dp),bl.forEach(Dp)}function su(e,t){e.blockedOn===t&&(e.blockedOn=null,pf||(pf=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,iv)))}var lu=null;function kp(e){lu!==e&&(lu=e,o.unstable_scheduleCallback(o.unstable_NormalPriority,function(){lu===e&&(lu=null);for(var t=0;t<e.length;t+=3){var i=e[t],s=e[t+1],f=e[t+2];if(typeof s!="function"){if(hf(s||i)===null)continue;break}var g=io(i);g!==null&&(e.splice(t,3),t-=3,fc(g,{pending:!0,data:f,method:i.method,action:s},s,f))}}))}function ys(e){function t(q){return su(q,e)}zo!==null&&su(zo,e),Lo!==null&&su(Lo,e),Po!==null&&su(Po,e),xl.forEach(t),bl.forEach(t);for(var i=0;i<Bo.length;i++){var s=Bo[i];s.blockedOn===e&&(s.blockedOn=null)}for(;0<Bo.length&&(i=Bo[0],i.blockedOn===null);)Ip(i),i.blockedOn===null&&Bo.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(s=0;s<i.length;s+=3){var f=i[s],g=i[s+1],C=f[jt]||null;if(typeof g=="function")C||kp(i);else if(C){var N=null;if(g&&g.hasAttribute("formAction")){if(f=g,C=g[jt]||null)N=C.formAction;else if(hf(f)!==null)continue}else N=C.action;typeof N=="function"?i[s+1]=N:(i.splice(s,3),s-=3),kp(i)}}}function Up(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(C){return f=C})},focusReset:"manual",scroll:"manual"})}function t(){f!==null&&(f(),f=null),s||setTimeout(i,20)}function i(){if(!s&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var s=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(i,100),function(){s=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),f!==null&&(f(),f=null)}}}function mf(e){this._internalRoot=e}ru.prototype.render=mf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var i=t.current,s=Un();xp(i,s,e,t,null,null)},ru.prototype.unmount=mf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;xp(e.current,2,null,e,null,null),Hr(),t[no]=null}};function ru(e){this._internalRoot=e}ru.prototype.unstable_scheduleHydration=function(e){if(e){var t=to();e={blockedOn:null,target:e,priority:t};for(var i=0;i<Bo.length&&t!==0&&t<Bo[i].priority;i++);Bo.splice(i,0,e),i===0&&Ip(e)}};var zp=n.version;if(zp!=="19.2.0")throw Error(l(527,zp,"19.2.0"));Q.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=m(t),e=e!==null?_(e):null,e=e===null?null:e.stateNode,e};var ov={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:j,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uu.isDisabled&&uu.supportsFiber)try{ut=uu.inject(ov),Ut=uu}catch{}}return Rl.createRoot=function(e,t){if(!r(e))throw Error(l(299));var i=!1,s="",f=Hd,g=Od,C=Fd;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onUncaughtError!==void 0&&(f=t.onUncaughtError),t.onCaughtError!==void 0&&(g=t.onCaughtError),t.onRecoverableError!==void 0&&(C=t.onRecoverableError)),t=Ap(e,1,!1,null,null,i,s,null,f,g,C,Up),e[no]=t.current,Zc(e),new mf(t)},Rl.hydrateRoot=function(e,t,i){if(!r(e))throw Error(l(299));var s=!1,f="",g=Hd,C=Od,N=Fd,q=null;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(f=i.identifierPrefix),i.onUncaughtError!==void 0&&(g=i.onUncaughtError),i.onCaughtError!==void 0&&(C=i.onCaughtError),i.onRecoverableError!==void 0&&(N=i.onRecoverableError),i.formState!==void 0&&(q=i.formState)),t=Ap(e,1,!0,t,i??null,s,f,q,g,C,N,Up),t.context=Ep(null),i=t.current,s=Un(),s=ga(s),f=Ao(s),f.callback=null,Eo(i,f,s),i=s,t.current.lanes=i,eo(t,i),Si(t),e[no]=t.current,Zc(e),new ru(t)},Rl.version="19.2.0",Rl}var Yp;function pv(){if(Yp)return vf.exports;Yp=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(n){console.error(n)}}return o(),vf.exports=hv(),vf.exports}var mv=pv();const gv=zf(mv);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let yv,vv;function _v(){return{geminiUrl:yv,vertexUrl:vv}}function Sv(o,n,a,l){var r,c;if(!(o!=null&&o.baseUrl)){const h=_v();return n?(r=h.vertexUrl)!==null&&r!==void 0?r:a:(c=h.geminiUrl)!==null&&c!==void 0?c:l}return o.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class pa{}function Pe(o,n){const a=/\{([^}]+)\}/g;return o.replace(a,(l,r)=>{if(Object.prototype.hasOwnProperty.call(n,r)){const c=n[r];return c!=null?String(c):""}else throw new Error(`Key '${r}' not found in valueMap.`)})}function d(o,n,a){for(let c=0;c<n.length-1;c++){const h=n[c];if(h.endsWith("[]")){const p=h.slice(0,-2);if(!(p in o))if(Array.isArray(a))o[p]=Array.from({length:a.length},()=>({}));else throw new Error(`Value must be a list given an array path ${h}`);if(Array.isArray(o[p])){const y=o[p];if(Array.isArray(a))for(let m=0;m<y.length;m++){const _=y[m];d(_,n.slice(c+1),a[m])}else for(const m of y)d(m,n.slice(c+1),a)}return}else if(h.endsWith("[0]")){const p=h.slice(0,-3);p in o||(o[p]=[{}]);const y=o[p];d(y[0],n.slice(c+1),a);return}(!o[h]||typeof o[h]!="object")&&(o[h]={}),o=o[h]}const l=n[n.length-1],r=o[l];if(r!==void 0){if(!a||typeof a=="object"&&Object.keys(a).length===0||a===r)return;if(typeof r=="object"&&typeof a=="object"&&r!==null&&a!==null)Object.assign(r,a);else throw new Error(`Cannot set value for an existing key. Key: ${l}`)}else l==="_self"&&typeof a=="object"&&a!==null&&!Array.isArray(a)?Object.assign(o,a):o[l]=a}function u(o,n,a=void 0){try{if(n.length===1&&n[0]==="_self")return o;for(let l=0;l<n.length;l++){if(typeof o!="object"||o===null)return a;const r=n[l];if(r.endsWith("[]")){const c=r.slice(0,-2);if(c in o){const h=o[c];return Array.isArray(h)?h.map(p=>u(p,n.slice(l+1),a)):a}else return a}else o=o[r]}return o}catch(l){if(l instanceof TypeError)return a;throw l}}function Tv(o,n){for(const[a,l]of Object.entries(n)){const r=a.split("."),c=l.split("."),h=new Set;let p=-1;for(let y=0;y<r.length;y++)if(r[y]==="*"){p=y;break}if(p!==-1&&c.length>p)for(let y=p;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&h.add(m)}bf(o,r,c,0,h)}}function bf(o,n,a,l,r){if(l>=n.length||typeof o!="object"||o===null)return;const c=n[l];if(c.endsWith("[]")){const h=c.slice(0,-2),p=o;if(h in p&&Array.isArray(p[h]))for(const y of p[h])bf(y,n,a,l+1,r)}else if(c==="*"){if(typeof o=="object"&&o!==null&&!Array.isArray(o)){const h=o,p=Object.keys(h).filter(m=>!m.startsWith("_")&&!r.has(m)),y={};for(const m of p)y[m]=h[m];for(const[m,_]of Object.entries(y)){const S=[];for(const A of a.slice(l))A==="*"?S.push(m):S.push(A);d(h,S,_)}for(const m of p)delete h[m]}}else{const h=o;c in h&&bf(h[c],n,a,l+1,r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Pf(o){if(typeof o!="string")throw new Error("fromImageBytes must be a string");return o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Cv(o){const n={},a=u(o,["operationName"]);a!=null&&d(n,["operationName"],a);const l=u(o,["resourceName"]);return l!=null&&d(n,["_url","resourceName"],l),n}function Av(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["metadata"]);l!=null&&d(n,["metadata"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);c!=null&&d(n,["error"],c);const h=u(o,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],xv(h)),n}function Ev(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["metadata"]);l!=null&&d(n,["metadata"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);c!=null&&d(n,["error"],c);const h=u(o,["response"]);return h!=null&&d(n,["response"],bv(h)),n}function xv(o){const n={},a=u(o,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>wv(h))),d(n,["generatedVideos"],c)}const l=u(o,["raiMediaFilteredCount"]);l!=null&&d(n,["raiMediaFilteredCount"],l);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function bv(o){const n={},a=u(o,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>Nv(h))),d(n,["generatedVideos"],c)}const l=u(o,["raiMediaFilteredCount"]);l!=null&&d(n,["raiMediaFilteredCount"],l);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function wv(o){const n={},a=u(o,["video"]);return a!=null&&d(n,["video"],Iv(a)),n}function Nv(o){const n={},a=u(o,["_self"]);return a!=null&&d(n,["video"],Dv(a)),n}function Rv(o){const n={},a=u(o,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Mv(o){const n={},a=u(o,["operationName"]);return a!=null&&d(n,["_url","operationName"],a),n}function Iv(o){const n={},a=u(o,["uri"]);a!=null&&d(n,["uri"],a);const l=u(o,["encodedVideo"]);l!=null&&d(n,["videoBytes"],Pf(l));const r=u(o,["encoding"]);return r!=null&&d(n,["mimeType"],r),n}function Dv(o){const n={},a=u(o,["gcsUri"]);a!=null&&d(n,["uri"],a);const l=u(o,["bytesBase64Encoded"]);l!=null&&d(n,["videoBytes"],Pf(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Jp;(function(o){o.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",o.OUTCOME_OK="OUTCOME_OK",o.OUTCOME_FAILED="OUTCOME_FAILED",o.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Jp||(Jp={}));var Kp;(function(o){o.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",o.PYTHON="PYTHON"})(Kp||(Kp={}));var jp;(function(o){o.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",o.SILENT="SILENT",o.WHEN_IDLE="WHEN_IDLE",o.INTERRUPT="INTERRUPT"})(jp||(jp={}));var Vo;(function(o){o.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",o.STRING="STRING",o.NUMBER="NUMBER",o.INTEGER="INTEGER",o.BOOLEAN="BOOLEAN",o.ARRAY="ARRAY",o.OBJECT="OBJECT",o.NULL="NULL"})(Vo||(Vo={}));var Zp;(function(o){o.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",o.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",o.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",o.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",o.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",o.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",o.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",o.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",o.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",o.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Zp||(Zp={}));var Xp;(function(o){o.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",o.SEVERITY="SEVERITY",o.PROBABILITY="PROBABILITY"})(Xp||(Xp={}));var Qp;(function(o){o.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE",o.OFF="OFF"})(Qp||(Qp={}));var $p;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})($p||($p={}));var Wp;(function(o){o.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",o.NO_AUTH="NO_AUTH",o.API_KEY_AUTH="API_KEY_AUTH",o.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",o.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",o.OAUTH="OAUTH",o.OIDC_AUTH="OIDC_AUTH"})(Wp||(Wp={}));var em;(function(o){o.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",o.SIMPLE_SEARCH="SIMPLE_SEARCH",o.ELASTIC_SEARCH="ELASTIC_SEARCH"})(em||(em={}));var tm;(function(o){o.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",o.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",o.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",o.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",o.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(tm||(tm={}));var nm;(function(o){o.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",o.STOP="STOP",o.MAX_TOKENS="MAX_TOKENS",o.SAFETY="SAFETY",o.RECITATION="RECITATION",o.LANGUAGE="LANGUAGE",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.SPII="SPII",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.IMAGE_SAFETY="IMAGE_SAFETY",o.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",o.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",o.NO_IMAGE="NO_IMAGE"})(nm||(nm={}));var im;(function(o){o.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",o.NEGLIGIBLE="NEGLIGIBLE",o.LOW="LOW",o.MEDIUM="MEDIUM",o.HIGH="HIGH"})(im||(im={}));var om;(function(o){o.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",o.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",o.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",o.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",o.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(om||(om={}));var am;(function(o){o.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",o.SAFETY="SAFETY",o.OTHER="OTHER",o.BLOCKLIST="BLOCKLIST",o.PROHIBITED_CONTENT="PROHIBITED_CONTENT",o.IMAGE_SAFETY="IMAGE_SAFETY",o.MODEL_ARMOR="MODEL_ARMOR",o.JAILBREAK="JAILBREAK"})(am||(am={}));var sm;(function(o){o.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",o.ON_DEMAND="ON_DEMAND",o.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(sm||(sm={}));var Zi;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.AUDIO="AUDIO"})(Zi||(Zi={}));var lm;(function(o){o.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",o.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",o.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",o.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(lm||(lm={}));var wf;(function(o){o.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",o.JOB_STATE_QUEUED="JOB_STATE_QUEUED",o.JOB_STATE_PENDING="JOB_STATE_PENDING",o.JOB_STATE_RUNNING="JOB_STATE_RUNNING",o.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",o.JOB_STATE_FAILED="JOB_STATE_FAILED",o.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",o.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",o.JOB_STATE_PAUSED="JOB_STATE_PAUSED",o.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",o.JOB_STATE_UPDATING="JOB_STATE_UPDATING",o.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(wf||(wf={}));var rm;(function(o){o.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",o.TUNING_MODE_FULL="TUNING_MODE_FULL",o.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rm||(rm={}));var um;(function(o){o.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",o.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",o.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",o.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",o.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",o.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",o.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(um||(um={}));var cm;(function(o){o.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",o.TUNING_TASK_I2V="TUNING_TASK_I2V",o.TUNING_TASK_T2V="TUNING_TASK_T2V"})(cm||(cm={}));var fm;(function(o){o.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",o.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",o.BALANCED="BALANCED",o.PRIORITIZE_COST="PRIORITIZE_COST"})(fm||(fm={}));var dm;(function(o){o.UNSPECIFIED="UNSPECIFIED",o.BLOCKING="BLOCKING",o.NON_BLOCKING="NON_BLOCKING"})(dm||(dm={}));var hm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.MODE_DYNAMIC="MODE_DYNAMIC"})(hm||(hm={}));var pm;(function(o){o.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",o.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pm||(pm={}));var mm;(function(o){o.MODE_UNSPECIFIED="MODE_UNSPECIFIED",o.AUTO="AUTO",o.ANY="ANY",o.NONE="NONE",o.VALIDATED="VALIDATED"})(mm||(mm={}));var gm;(function(o){o.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",o.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",o.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",o.BLOCK_NONE="BLOCK_NONE"})(gm||(gm={}));var ym;(function(o){o.DONT_ALLOW="DONT_ALLOW",o.ALLOW_ADULT="ALLOW_ADULT",o.ALLOW_ALL="ALLOW_ALL"})(ym||(ym={}));var vm;(function(o){o.auto="auto",o.en="en",o.ja="ja",o.ko="ko",o.hi="hi",o.zh="zh",o.pt="pt",o.es="es"})(vm||(vm={}));var _m;(function(o){o.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",o.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",o.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",o.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",o.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(_m||(_m={}));var Sm;(function(o){o.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",o.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",o.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",o.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(Sm||(Sm={}));var Tm;(function(o){o.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",o.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",o.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",o.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tm||(Tm={}));var Cm;(function(o){o.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",o.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",o.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",o.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",o.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",o.EDIT_MODE_STYLE="EDIT_MODE_STYLE",o.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",o.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Cm||(Cm={}));var Am;(function(o){o.FOREGROUND="FOREGROUND",o.BACKGROUND="BACKGROUND",o.PROMPT="PROMPT",o.SEMANTIC="SEMANTIC",o.INTERACTIVE="INTERACTIVE"})(Am||(Am={}));var Em;(function(o){o.ASSET="ASSET",o.STYLE="STYLE"})(Em||(Em={}));var xm;(function(o){o.INSERT="INSERT",o.REMOVE="REMOVE",o.REMOVE_STATIC="REMOVE_STATIC",o.OUTPAINT="OUTPAINT"})(xm||(xm={}));var bm;(function(o){o.OPTIMIZED="OPTIMIZED",o.LOSSLESS="LOSSLESS"})(bm||(bm={}));var wm;(function(o){o.STATE_UNSPECIFIED="STATE_UNSPECIFIED",o.PROCESSING="PROCESSING",o.ACTIVE="ACTIVE",o.FAILED="FAILED"})(wm||(wm={}));var Nm;(function(o){o.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",o.UPLOADED="UPLOADED",o.GENERATED="GENERATED"})(Nm||(Nm={}));var Rm;(function(o){o.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",o.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",o.RESPONSE_REJECTED="RESPONSE_REJECTED",o.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Rm||(Rm={}));var Mm;(function(o){o.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",o.TEXT="TEXT",o.IMAGE="IMAGE",o.VIDEO="VIDEO",o.AUDIO="AUDIO",o.DOCUMENT="DOCUMENT"})(Mm||(Mm={}));var Im;(function(o){o.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",o.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",o.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Im||(Im={}));var Dm;(function(o){o.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",o.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",o.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Dm||(Dm={}));var km;(function(o){o.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",o.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",o.NO_INTERRUPTION="NO_INTERRUPTION"})(km||(km={}));var Um;(function(o){o.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",o.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",o.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Um||(Um={}));var zm;(function(o){o.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",o.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",o.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",o.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",o.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",o.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",o.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",o.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",o.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",o.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",o.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",o.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",o.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(zm||(zm={}));var Lm;(function(o){o.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",o.QUALITY="QUALITY",o.DIVERSITY="DIVERSITY",o.VOCALIZATION="VOCALIZATION"})(Lm||(Lm={}));var _s;(function(o){o.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",o.PLAY="PLAY",o.PAUSE="PAUSE",o.STOP="STOP",o.RESET_CONTEXT="RESET_CONTEXT"})(_s||(_s={}));class Nf{constructor(n){const a={};for(const l of n.headers.entries())a[l[0]]=l[1];this.headers=a,this.responseInternal=n}json(){return this.responseInternal.json()}}class Ml{get text(){var n,a,l,r,c,h,p,y;if(((r=(l=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",_=!1;const S=[];for(const A of(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[x,M]of Object.entries(A))x!=="text"&&x!=="thought"&&(M!==null||M!==void 0)&&S.push(x);if(typeof A.text=="string"){if(typeof A.thought=="boolean"&&A.thought)continue;_=!0,m+=A.text}}return S.length>0&&console.warn(`there are non-text parts ${S} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),_?m:void 0}get data(){var n,a,l,r,c,h,p,y;if(((r=(l=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const _=[];for(const S of(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)!==null&&y!==void 0?y:[]){for(const[A,x]of Object.entries(S))A!=="inlineData"&&(x!==null||x!==void 0)&&_.push(A);S.inlineData&&typeof S.inlineData.data=="string"&&(m+=atob(S.inlineData.data))}return _.length>0&&console.warn(`there are non-data parts ${_} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var n,a,l,r,c,h,p,y;if(((r=(l=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(_=>_.functionCall).map(_=>_.functionCall).filter(_=>_!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var n,a,l,r,c,h,p,y,m;if(((r=(l=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const _=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.executableCode).map(S=>S.executableCode).filter(S=>S!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var n,a,l,r,c,h,p,y,m;if(((r=(l=(a=(n=this.candidates)===null||n===void 0?void 0:n[0])===null||a===void 0?void 0:a.content)===null||l===void 0?void 0:l.parts)===null||r===void 0?void 0:r.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const _=(y=(p=(h=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content)===null||p===void 0?void 0:p.parts)===null||y===void 0?void 0:y.filter(S=>S.codeExecutionResult).map(S=>S.codeExecutionResult).filter(S=>S!==void 0);if((_==null?void 0:_.length)!==0)return(m=_==null?void 0:_[0])===null||m===void 0?void 0:m.output}}class Pm{}class Bm{}class kv{}class Uv{}class zv{}class Lv{}class Gm{}class Vm{}class qm{}class Pv{}class Cu{_fromAPIResponse({apiResponse:n,isVertexAI:a}){const l=new Cu;let r;const c=n;return a?r=Ev(c):r=Av(c),Object.assign(l,r),l}}class Hm{}class Om{}class Fm{}class Bv{}class Gv{}class Vv{}class Ym{}class qv{get text(){var n,a,l;let r="",c=!1;const h=[];for(const p of(l=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[y,m]of Object.entries(p))y!=="text"&&y!=="thought"&&m!==null&&h.push(y);if(typeof p.text=="string"){if(typeof p.thought=="boolean"&&p.thought)continue;c=!0,r+=p.text}}return h.length>0&&console.warn(`there are non-text parts ${h} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?r:void 0}get data(){var n,a,l;let r="";const c=[];for(const h of(l=(a=(n=this.serverContent)===null||n===void 0?void 0:n.modelTurn)===null||a===void 0?void 0:a.parts)!==null&&l!==void 0?l:[]){for(const[p,y]of Object.entries(h))p!=="inlineData"&&y!==null&&c.push(p);h.inlineData&&typeof h.inlineData.data=="string"&&(r+=atob(h.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class Hv{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rt(o,n){if(!n||typeof n!="string")throw new Error("model is required and must be a string");if(o.isVertexAI()){if(n.startsWith("publishers/")||n.startsWith("projects/")||n.startsWith("models/"))return n;if(n.indexOf("/")>=0){const a=n.split("/",2);return`publishers/${a[0]}/models/${a[1]}`}else return`publishers/google/models/${n}`}else return n.startsWith("models/")||n.startsWith("tunedModels/")?n:`models/${n}`}function Tg(o,n){const a=rt(o,n);return a?a.startsWith("publishers/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/${a}`:a.startsWith("models/")&&o.isVertexAI()?`projects/${o.getProject()}/locations/${o.getLocation()}/publishers/google/${a}`:a:""}function Cg(o){return Array.isArray(o)?o.map(n=>Au(n)):[Au(o)]}function Au(o){if(typeof o=="object"&&o!==null)return o;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof o}`)}function Ag(o){const n=Au(o);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Eg(o){const n=Au(o);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}function Jm(o){if(o==null)throw new Error("PartUnion is required");if(typeof o=="object")return o;if(typeof o=="string")return{text:o};throw new Error(`Unsupported part type: ${typeof o}`)}function xg(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("PartListUnion is required");return Array.isArray(o)?o.map(n=>Jm(n)):[Jm(o)]}function Rf(o){return o!=null&&typeof o=="object"&&"parts"in o&&Array.isArray(o.parts)}function Km(o){return o!=null&&typeof o=="object"&&"functionCall"in o}function jm(o){return o!=null&&typeof o=="object"&&"functionResponse"in o}function ln(o){if(o==null)throw new Error("ContentUnion is required");return Rf(o)?o:{role:"user",parts:xg(o)}}function Bf(o,n){if(!n)return[];if(o.isVertexAI()&&Array.isArray(n))return n.flatMap(a=>{const l=ln(a);return l.parts&&l.parts.length>0&&l.parts[0].text!==void 0?[l.parts[0].text]:[]});if(o.isVertexAI()){const a=ln(n);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]}return Array.isArray(n)?n.map(a=>ln(a)):[ln(n)]}function Zn(o){if(o==null||Array.isArray(o)&&o.length===0)throw new Error("contents are required");if(!Array.isArray(o)){if(Km(o)||jm(o))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[ln(o)]}const n=[],a=[],l=Rf(o[0]);for(const r of o){const c=Rf(r);if(c!=l)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)n.push(r);else{if(Km(r)||jm(r))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");a.push(r)}}return l||n.push({role:"user",parts:xg(a)}),n}function Ov(o,n){o.includes("null")&&(n.nullable=!0);const a=o.filter(l=>l!=="null");if(a.length===1)n.type=Object.values(Vo).includes(a[0].toUpperCase())?a[0].toUpperCase():Vo.TYPE_UNSPECIFIED;else{n.anyOf=[];for(const l of a)n.anyOf.push({type:Object.values(Vo).includes(l.toUpperCase())?l.toUpperCase():Vo.TYPE_UNSPECIFIED})}}function Ss(o){const n={},a=["items"],l=["anyOf"],r=["properties"];if(o.type&&o.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=o.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(n.nullable=!0,o=c[1]):c[1].type==="null"&&(n.nullable=!0,o=c[0])),o.type instanceof Array&&Ov(o.type,n);for(const[h,p]of Object.entries(o))if(p!=null)if(h=="type"){if(p==="null")throw new Error("type: null can not be the only possible type for the field.");if(p instanceof Array)continue;n.type=Object.values(Vo).includes(p.toUpperCase())?p.toUpperCase():Vo.TYPE_UNSPECIFIED}else if(a.includes(h))n[h]=Ss(p);else if(l.includes(h)){const y=[];for(const m of p){if(m.type=="null"){n.nullable=!0;continue}y.push(Ss(m))}n[h]=y}else if(r.includes(h)){const y={};for(const[m,_]of Object.entries(p))y[m]=Ss(_);n[h]=y}else{if(h==="additionalProperties")continue;n[h]=p}return n}function Gf(o){return Ss(o)}function Vf(o){if(typeof o=="object")return o;if(typeof o=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:o}}};throw new Error(`Unsupported speechConfig type: ${typeof o}`)}function qf(o){if("multiSpeakerVoiceConfig"in o)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return o}function As(o){if(o.functionDeclarations)for(const n of o.functionDeclarations)n.parameters&&(Object.keys(n.parameters).includes("$schema")?n.parametersJsonSchema||(n.parametersJsonSchema=n.parameters,delete n.parameters):n.parameters=Ss(n.parameters)),n.response&&(Object.keys(n.response).includes("$schema")?n.responseJsonSchema||(n.responseJsonSchema=n.response,delete n.response):n.response=Ss(n.response));return o}function Es(o){if(o==null)throw new Error("tools is required");if(!Array.isArray(o))throw new Error("tools is required and must be an array of Tools");const n=[];for(const a of o)n.push(a);return n}function Fv(o,n,a,l=1){const r=!n.startsWith(`${a}/`)&&n.split("/").length===l;return o.isVertexAI()?n.startsWith("projects/")?n:n.startsWith("locations/")?`projects/${o.getProject()}/${n}`:n.startsWith(`${a}/`)?`projects/${o.getProject()}/locations/${o.getLocation()}/${n}`:r?`projects/${o.getProject()}/locations/${o.getLocation()}/${a}/${n}`:n:r?`${a}/${n}`:n}function Xi(o,n){if(typeof n!="string")throw new Error("name must be a string");return Fv(o,n,"cachedContents")}function bg(o){switch(o){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return o}}function qo(o){return Pf(o)}function Yv(o){return o!=null&&typeof o=="object"&&"name"in o}function Jv(o){return o!=null&&typeof o=="object"&&"video"in o}function Kv(o){return o!=null&&typeof o=="object"&&"uri"in o}function wg(o){var n;let a;if(Yv(o)&&(a=o.name),!(Kv(o)&&(a=o.uri,a===void 0))&&!(Jv(o)&&(a=(n=o.video)===null||n===void 0?void 0:n.uri,a===void 0))){if(typeof o=="string"&&(a=o),a===void 0)throw new Error("Could not extract file name from the provided input.");if(a.startsWith("https://")){const r=a.split("files/")[1].match(/[a-z0-9]+/);if(r===null)throw new Error(`Could not extract file name from URI ${a}`);a=r[0]}else a.startsWith("files/")&&(a=a.split("files/")[1]);return a}}function Ng(o,n){let a;return o.isVertexAI()?a=n?"publishers/google/models":"models":a=n?"models":"tunedModels",a}function Rg(o){for(const n of["models","tunedModels","publisherModels"])if(jv(o,n))return o[n];return[]}function jv(o,n){return o!==null&&typeof o=="object"&&n in o}function Zv(o,n={}){const a=o,l={name:a.name,description:a.description,parametersJsonSchema:a.inputSchema};return a.outputSchema&&(l.responseJsonSchema=a.outputSchema),n.behavior&&(l.behavior=n.behavior),{functionDeclarations:[l]}}function Xv(o,n={}){const a=[],l=new Set;for(const r of o){const c=r.name;if(l.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);l.add(c);const h=Zv(r,n);h.functionDeclarations&&a.push(...h.functionDeclarations)}return{functionDeclarations:a}}function Mg(o,n){let a;if(typeof n=="string")if(o.isVertexAI())if(n.startsWith("gs://"))a={format:"jsonl",gcsUri:[n]};else if(n.startsWith("bq://"))a={format:"bigquery",bigqueryUri:n};else throw new Error(`Unsupported string source for Vertex AI: ${n}`);else if(n.startsWith("files/"))a={fileName:n};else throw new Error(`Unsupported string source for Gemini API: ${n}`);else if(Array.isArray(n)){if(o.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");a={inlinedRequests:n}}else a=n;const l=[a.gcsUri,a.bigqueryUri].filter(Boolean).length,r=[a.inlinedRequests,a.fileName].filter(Boolean).length;if(o.isVertexAI()){if(r>0||l!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(l>0||r!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return a}function Qv(o){if(typeof o!="string")return o;const n=o;if(n.startsWith("gs://"))return{format:"jsonl",gcsUri:n};if(n.startsWith("bq://"))return{format:"bigquery",bigqueryUri:n};throw new Error(`Unsupported destination: ${n}`)}function Ig(o){if(typeof o!="object"||o===null)return{};const n=o,a=n.inlinedResponses;if(typeof a!="object"||a===null)return o;const r=a.inlinedResponses;if(!Array.isArray(r)||r.length===0)return o;let c=!1;for(const h of r){if(typeof h!="object"||h===null)continue;const y=h.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(n.inlinedEmbedContentResponses=n.inlinedResponses,delete n.inlinedResponses),o}function xs(o,n){const a=n;if(!o.isVertexAI()){if(/batches\/[^/]+$/.test(a))return a.split("/").pop();throw new Error(`Invalid batch job name: ${a}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(a))return a.split("/").pop();if(/^\d+$/.test(a))return a;throw new Error(`Invalid batch job name: ${a}.`)}function Dg(o){const n=o;return n==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":n==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":n==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":n==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":n==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":n==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":n==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function $v(o){const n={},a=u(o,["responsesFile"]);a!=null&&d(n,["fileName"],a);const l=u(o,["inlinedResponses","inlinedResponses"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>R0(h))),d(n,["inlinedResponses"],c)}const r=u(o,["inlinedEmbedContentResponses","inlinedResponses"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(n,["inlinedEmbedContentResponses"],c)}return n}function Wv(o){const n={},a=u(o,["predictionsFormat"]);a!=null&&d(n,["format"],a);const l=u(o,["gcsDestination","outputUriPrefix"]);l!=null&&d(n,["gcsUri"],l);const r=u(o,["bigqueryDestination","outputUri"]);return r!=null&&d(n,["bigqueryUri"],r),n}function e0(o){const n={},a=u(o,["format"]);a!=null&&d(n,["predictionsFormat"],a);const l=u(o,["gcsUri"]);l!=null&&d(n,["gcsDestination","outputUriPrefix"],l);const r=u(o,["bigqueryUri"]);if(r!=null&&d(n,["bigqueryDestination","outputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(o,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return n}function _u(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["metadata","displayName"]);l!=null&&d(n,["displayName"],l);const r=u(o,["metadata","state"]);r!=null&&d(n,["state"],Dg(r));const c=u(o,["metadata","createTime"]);c!=null&&d(n,["createTime"],c);const h=u(o,["metadata","endTime"]);h!=null&&d(n,["endTime"],h);const p=u(o,["metadata","updateTime"]);p!=null&&d(n,["updateTime"],p);const y=u(o,["metadata","model"]);y!=null&&d(n,["model"],y);const m=u(o,["metadata","output"]);return m!=null&&d(n,["dest"],$v(Ig(m))),n}function Mf(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["displayName"]);l!=null&&d(n,["displayName"],l);const r=u(o,["state"]);r!=null&&d(n,["state"],Dg(r));const c=u(o,["error"]);c!=null&&d(n,["error"],c);const h=u(o,["createTime"]);h!=null&&d(n,["createTime"],h);const p=u(o,["startTime"]);p!=null&&d(n,["startTime"],p);const y=u(o,["endTime"]);y!=null&&d(n,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&d(n,["updateTime"],m);const _=u(o,["model"]);_!=null&&d(n,["model"],_);const S=u(o,["inputConfig"]);S!=null&&d(n,["src"],t0(S));const A=u(o,["outputConfig"]);return A!=null&&d(n,["dest"],Wv(Ig(A))),n}function t0(o){const n={},a=u(o,["instancesFormat"]);a!=null&&d(n,["format"],a);const l=u(o,["gcsSource","uris"]);l!=null&&d(n,["gcsUri"],l);const r=u(o,["bigquerySource","inputUri"]);return r!=null&&d(n,["bigqueryUri"],r),n}function n0(o,n){const a={};if(u(n,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const l=u(n,["fileName"]);l!=null&&d(a,["fileName"],l);const r=u(n,["inlinedRequests"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>N0(o,h))),d(a,["requests","requests"],c)}return a}function i0(o){const n={},a=u(o,["format"]);a!=null&&d(n,["instancesFormat"],a);const l=u(o,["gcsUri"]);l!=null&&d(n,["gcsSource","uris"],l);const r=u(o,["bigqueryUri"]);if(r!=null&&d(n,["bigquerySource","inputUri"],r),u(o,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(o,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return n}function o0(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["data"]);a!=null&&d(n,["data"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function a0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function s0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function l0(o){const n={},a=u(o,["content"]);a!=null&&d(n,["content"],a);const l=u(o,["citationMetadata"]);l!=null&&d(n,["citationMetadata"],r0(l));const r=u(o,["tokenCount"]);r!=null&&d(n,["tokenCount"],r);const c=u(o,["finishReason"]);c!=null&&d(n,["finishReason"],c);const h=u(o,["urlContextMetadata"]);h!=null&&d(n,["urlContextMetadata"],h);const p=u(o,["avgLogprobs"]);p!=null&&d(n,["avgLogprobs"],p);const y=u(o,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const m=u(o,["index"]);m!=null&&d(n,["index"],m);const _=u(o,["logprobsResult"]);_!=null&&d(n,["logprobsResult"],_);const S=u(o,["safetyRatings"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(x=>x)),d(n,["safetyRatings"],A)}return n}function r0(o){const n={},a=u(o,["citationSources"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(r=>r)),d(n,["citations"],l)}return n}function kg(o){const n={},a=u(o,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>L0(c))),d(n,["parts"],r)}const l=u(o,["role"]);return l!=null&&d(n,["role"],l),n}function u0(o,n){const a={},l=u(o,["displayName"]);if(n!==void 0&&l!=null&&d(n,["batch","displayName"],l),u(o,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return a}function c0(o,n){const a={},l=u(o,["displayName"]);n!==void 0&&l!=null&&d(n,["displayName"],l);const r=u(o,["dest"]);return n!==void 0&&r!=null&&d(n,["outputConfig"],e0(Qv(r))),a}function Zm(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["src"]);r!=null&&d(a,["batch","inputConfig"],n0(o,Mg(o,r)));const c=u(n,["config"]);return c!=null&&u0(c,a),a}function f0(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["model"],rt(o,l));const r=u(n,["src"]);r!=null&&d(a,["inputConfig"],i0(Mg(o,r)));const c=u(n,["config"]);return c!=null&&c0(c,a),a}function d0(o,n){const a={},l=u(o,["displayName"]);return n!==void 0&&l!=null&&d(n,["batch","displayName"],l),a}function h0(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["src"]);r!=null&&d(a,["batch","inputConfig"],S0(o,r));const c=u(n,["config"]);return c!=null&&d0(c,a),a}function p0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function m0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function g0(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["name"]);l!=null&&d(n,["name"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);return c!=null&&d(n,["error"],c),n}function y0(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["name"]);l!=null&&d(n,["name"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);return c!=null&&d(n,["error"],c),n}function v0(o,n){const a={},l=u(n,["contents"]);if(l!=null){let c=Bf(o,l);Array.isArray(c)&&(c=c.map(h=>h)),d(a,["requests[]","request","content"],c)}const r=u(n,["config"]);return r!=null&&(d(a,["_self"],_0(r,a)),Tv(a,{"requests[].*":"requests[].request.*"})),a}function _0(o,n){const a={},l=u(o,["taskType"]);n!==void 0&&l!=null&&d(n,["requests[]","taskType"],l);const r=u(o,["title"]);n!==void 0&&r!=null&&d(n,["requests[]","title"],r);const c=u(o,["outputDimensionality"]);if(n!==void 0&&c!=null&&d(n,["requests[]","outputDimensionality"],c),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function S0(o,n){const a={},l=u(n,["fileName"]);l!=null&&d(a,["file_name"],l);const r=u(n,["inlinedRequests"]);return r!=null&&d(a,["requests"],v0(o,r)),a}function T0(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["fileUri"]);a!=null&&d(n,["fileUri"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function C0(o,n,a){const l={},r=u(n,["systemInstruction"]);a!==void 0&&r!=null&&d(a,["systemInstruction"],kg(ln(r)));const c=u(n,["temperature"]);c!=null&&d(l,["temperature"],c);const h=u(n,["topP"]);h!=null&&d(l,["topP"],h);const p=u(n,["topK"]);p!=null&&d(l,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(l,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const A=u(n,["logprobs"]);A!=null&&d(l,["logprobs"],A);const x=u(n,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const M=u(n,["frequencyPenalty"]);M!=null&&d(l,["frequencyPenalty"],M);const b=u(n,["seed"]);b!=null&&d(l,["seed"],b);const I=u(n,["responseMimeType"]);I!=null&&d(l,["responseMimeType"],I);const R=u(n,["responseSchema"]);R!=null&&d(l,["responseSchema"],Gf(R));const k=u(n,["responseJsonSchema"]);if(k!=null&&d(l,["responseJsonSchema"],k),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(n,["safetySettings"]);if(a!==void 0&&z!=null){let V=z;Array.isArray(V)&&(V=V.map(se=>P0(se))),d(a,["safetySettings"],V)}const H=u(n,["tools"]);if(a!==void 0&&H!=null){let V=Es(H);Array.isArray(V)&&(V=V.map(se=>B0(As(se)))),d(a,["tools"],V)}const O=u(n,["toolConfig"]);if(a!==void 0&&O!=null&&d(a,["toolConfig"],O),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(n,["cachedContent"]);a!==void 0&&W!=null&&d(a,["cachedContent"],Xi(o,W));const J=u(n,["responseModalities"]);J!=null&&d(l,["responseModalities"],J);const de=u(n,["mediaResolution"]);de!=null&&d(l,["mediaResolution"],de);const Z=u(n,["speechConfig"]);if(Z!=null&&d(l,["speechConfig"],Vf(Z)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(n,["thinkingConfig"]);ge!=null&&d(l,["thinkingConfig"],ge);const Me=u(n,["imageConfig"]);return Me!=null&&d(l,["imageConfig"],Me),l}function A0(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>l0(m))),d(n,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&d(n,["modelVersion"],r);const c=u(o,["promptFeedback"]);c!=null&&d(n,["promptFeedback"],c);const h=u(o,["responseId"]);h!=null&&d(n,["responseId"],h);const p=u(o,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function E0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function x0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],xs(o,l)),a}function b0(o){const n={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(o,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function w0(o){const n={},a=u(o,["timeRangeFilter"]);if(a!=null&&d(n,["timeRangeFilter"],a),u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function N0(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["request","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let p=Zn(r);Array.isArray(p)&&(p=p.map(y=>kg(y))),d(a,["request","contents"],p)}const c=u(n,["metadata"]);c!=null&&d(a,["metadata"],c);const h=u(n,["config"]);return h!=null&&d(a,["request","generationConfig"],C0(o,h,u(a,["request"],{}))),a}function R0(o){const n={},a=u(o,["response"]);a!=null&&d(n,["response"],A0(a));const l=u(o,["error"]);return l!=null&&d(n,["error"],l),n}function M0(o,n){const a={},l=u(o,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const r=u(o,["pageToken"]);if(n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),u(o,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return a}function I0(o,n){const a={},l=u(o,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const r=u(o,["pageToken"]);n!==void 0&&r!=null&&d(n,["_query","pageToken"],r);const c=u(o,["filter"]);return n!==void 0&&c!=null&&d(n,["_query","filter"],c),a}function D0(o){const n={},a=u(o,["config"]);return a!=null&&M0(a,n),n}function k0(o){const n={},a=u(o,["config"]);return a!=null&&I0(a,n),n}function U0(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["operations"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>_u(h))),d(n,["batchJobs"],c)}return n}function z0(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["batchPredictionJobs"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>Mf(h))),d(n,["batchJobs"],c)}return n}function L0(o){const n={},a=u(o,["videoMetadata"]);a!=null&&d(n,["videoMetadata"],a);const l=u(o,["thought"]);l!=null&&d(n,["thought"],l);const r=u(o,["inlineData"]);r!=null&&d(n,["inlineData"],o0(r));const c=u(o,["fileData"]);c!=null&&d(n,["fileData"],T0(c));const h=u(o,["thoughtSignature"]);h!=null&&d(n,["thoughtSignature"],h);const p=u(o,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=u(o,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const m=u(o,["executableCode"]);m!=null&&d(n,["executableCode"],m);const _=u(o,["functionResponse"]);_!=null&&d(n,["functionResponse"],_);const S=u(o,["text"]);return S!=null&&d(n,["text"],S),n}function P0(o){const n={};if(u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["category"]);a!=null&&d(n,["category"],a);const l=u(o,["threshold"]);return l!=null&&d(n,["threshold"],l),n}function B0(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["functionDeclarations"],m)}if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["googleSearch"]);l!=null&&d(n,["googleSearch"],w0(l));const r=u(o,["googleSearchRetrieval"]);if(r!=null&&d(n,["googleSearchRetrieval"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(o,["googleMaps"]);c!=null&&d(n,["googleMaps"],b0(c));const h=u(o,["urlContext"]);h!=null&&d(n,["urlContext"],h);const p=u(o,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=u(o,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var ha;(function(o){o.PAGED_ITEM_BATCH_JOBS="batchJobs",o.PAGED_ITEM_MODELS="models",o.PAGED_ITEM_TUNING_JOBS="tuningJobs",o.PAGED_ITEM_FILES="files",o.PAGED_ITEM_CACHED_CONTENTS="cachedContents"})(ha||(ha={}));class zl{constructor(n,a,l,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=a,this.init(n,l,r)}init(n,a,l){var r,c;this.nameInternal=n,this.pageInternal=a[this.nameInternal]||[],this.sdkHttpResponseInternal=a==null?void 0:a.sdkHttpResponse,this.idxInternal=0;let h={config:{}};!l||Object.keys(l).length===0?h={config:{}}:typeof l=="object"?h=Object.assign({},l):h=l,h.config&&(h.config.pageToken=a.nextPageToken),this.paramsInternal=h,this.pageInternalSize=(c=(r=h.config)===null||r===void 0?void 0:r.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(n){this.init(this.nameInternal,n,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(n){return this.pageInternal[n]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const n=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:n,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const n=await this.requestInternal(this.params);return this.initNextPage(n),this.page}hasNextPage(){var n;return((n=this.params.config)===null||n===void 0?void 0:n.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class G0 extends pa{constructor(n){super(),this.apiClient=n,this.create=async a=>(this.apiClient.isVertexAI()&&(a.config=this.formatDestination(a.src,a.config)),this.createInternal(a)),this.createEmbeddings=async a=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(a)},this.list=async(a={})=>new zl(ha.PAGED_ITEM_BATCH_JOBS,l=>this.listInternal(l),await this.listInternal(a),a)}createInlinedGenerateContentRequest(n){const a=Zm(this.apiClient,n),l=a._url,r=Pe("{model}:batchGenerateContent",l),p=a.batch.inputConfig.requests,y=p.requests,m=[];for(const _ of y){const S=Object.assign({},_);if(S.systemInstruction){const A=S.systemInstruction;delete S.systemInstruction;const x=S.request;x.systemInstruction=A,S.request=x}m.push(S)}return p.requests=m,delete a.config,delete a._url,delete a._query,{path:r,body:a}}getGcsUri(n){if(typeof n=="string")return n.startsWith("gs://")?n:void 0;if(!Array.isArray(n)&&n.gcsUri&&n.gcsUri.length>0)return n.gcsUri[0]}getBigqueryUri(n){if(typeof n=="string")return n.startsWith("bq://")?n:void 0;if(!Array.isArray(n))return n.bigqueryUri}formatDestination(n,a){const l=a?Object.assign({},a):{},r=Date.now().toString();if(l.displayName||(l.displayName=`genaiBatchJob_${r}`),l.dest===void 0){const c=this.getGcsUri(n),h=this.getBigqueryUri(n);if(c)c.endsWith(".jsonl")?l.dest=`${c.slice(0,-6)}/dest`:l.dest=`${c}_dest_${r}`;else if(h)l.dest=`${h}_dest_${r}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return l}async createInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=f0(this.apiClient,n);return p=Pe("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>Mf(_))}else{const m=Zm(this.apiClient,n);return p=Pe("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>_u(_))}}async createEmbeddingsInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=h0(this.apiClient,n);return c=Pe("{model}:asyncBatchEmbedContent",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>_u(y))}}async get(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=x0(this.apiClient,n);return p=Pe("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>Mf(_))}else{const m=E0(this.apiClient,n);return p=Pe("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>_u(_))}}async cancel(n){var a,l,r,c;let h="",p={};if(this.apiClient.isVertexAI()){const y=s0(this.apiClient,n);h=Pe("batchPredictionJobs/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=a0(this.apiClient,n);h=Pe("batches/{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=k0(n);return p=Pe("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=z0(_),A=new Ym;return Object.assign(A,S),A})}else{const m=D0(n);return p=Pe("batches",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=U0(_),A=new Ym;return Object.assign(A,S),A})}}async delete(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=m0(this.apiClient,n);return p=Pe("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>y0(_))}else{const m=p0(this.apiClient,n);return p=Pe("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>g0(_))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function V0(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["data"]);a!=null&&d(n,["data"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function Xm(o){const n={},a=u(o,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>l_(c))),d(n,["parts"],r)}const l=u(o,["role"]);return l!=null&&d(n,["role"],l),n}function q0(o,n){const a={},l=u(o,["ttl"]);n!==void 0&&l!=null&&d(n,["ttl"],l);const r=u(o,["expireTime"]);n!==void 0&&r!=null&&d(n,["expireTime"],r);const c=u(o,["displayName"]);n!==void 0&&c!=null&&d(n,["displayName"],c);const h=u(o,["contents"]);if(n!==void 0&&h!=null){let _=Zn(h);Array.isArray(_)&&(_=_.map(S=>Xm(S))),d(n,["contents"],_)}const p=u(o,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],Xm(ln(p)));const y=u(o,["tools"]);if(n!==void 0&&y!=null){let _=y;Array.isArray(_)&&(_=_.map(S=>r_(S))),d(n,["tools"],_)}const m=u(o,["toolConfig"]);if(n!==void 0&&m!=null&&d(n,["toolConfig"],m),u(o,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return a}function H0(o,n){const a={},l=u(o,["ttl"]);n!==void 0&&l!=null&&d(n,["ttl"],l);const r=u(o,["expireTime"]);n!==void 0&&r!=null&&d(n,["expireTime"],r);const c=u(o,["displayName"]);n!==void 0&&c!=null&&d(n,["displayName"],c);const h=u(o,["contents"]);if(n!==void 0&&h!=null){let S=Zn(h);Array.isArray(S)&&(S=S.map(A=>A)),d(n,["contents"],S)}const p=u(o,["systemInstruction"]);n!==void 0&&p!=null&&d(n,["systemInstruction"],ln(p));const y=u(o,["tools"]);if(n!==void 0&&y!=null){let S=y;Array.isArray(S)&&(S=S.map(A=>u_(A))),d(n,["tools"],S)}const m=u(o,["toolConfig"]);n!==void 0&&m!=null&&d(n,["toolConfig"],m);const _=u(o,["kmsKeyName"]);return n!==void 0&&_!=null&&d(n,["encryption_spec","kmsKeyName"],_),a}function O0(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["model"],Tg(o,l));const r=u(n,["config"]);return r!=null&&q0(r,a),a}function F0(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["model"],Tg(o,l));const r=u(n,["config"]);return r!=null&&H0(r,a),a}function Y0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],Xi(o,l)),a}function J0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],Xi(o,l)),a}function K0(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function j0(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function Z0(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["fileUri"]);a!=null&&d(n,["fileUri"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function X0(o){const n={};if(u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(o,["description"]);a!=null&&d(n,["description"],a);const l=u(o,["name"]);l!=null&&d(n,["name"],l);const r=u(o,["parameters"]);r!=null&&d(n,["parameters"],r);const c=u(o,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const h=u(o,["response"]);h!=null&&d(n,["response"],h);const p=u(o,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function Q0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],Xi(o,l)),a}function $0(o,n){const a={},l=u(n,["name"]);return l!=null&&d(a,["_url","name"],Xi(o,l)),a}function W0(o){const n={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(o,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function e_(o){const n={},a=u(o,["timeRangeFilter"]);if(a!=null&&d(n,["timeRangeFilter"],a),u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function t_(o,n){const a={},l=u(o,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const r=u(o,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),a}function n_(o,n){const a={},l=u(o,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const r=u(o,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),a}function i_(o){const n={},a=u(o,["config"]);return a!=null&&t_(a,n),n}function o_(o){const n={},a=u(o,["config"]);return a!=null&&n_(a,n),n}function a_(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(n,["cachedContents"],c)}return n}function s_(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["cachedContents"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(n,["cachedContents"],c)}return n}function l_(o){const n={},a=u(o,["videoMetadata"]);a!=null&&d(n,["videoMetadata"],a);const l=u(o,["thought"]);l!=null&&d(n,["thought"],l);const r=u(o,["inlineData"]);r!=null&&d(n,["inlineData"],V0(r));const c=u(o,["fileData"]);c!=null&&d(n,["fileData"],Z0(c));const h=u(o,["thoughtSignature"]);h!=null&&d(n,["thoughtSignature"],h);const p=u(o,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=u(o,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const m=u(o,["executableCode"]);m!=null&&d(n,["executableCode"],m);const _=u(o,["functionResponse"]);_!=null&&d(n,["functionResponse"],_);const S=u(o,["text"]);return S!=null&&d(n,["text"],S),n}function r_(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["functionDeclarations"],m)}if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["googleSearch"]);l!=null&&d(n,["googleSearch"],e_(l));const r=u(o,["googleSearchRetrieval"]);if(r!=null&&d(n,["googleSearchRetrieval"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(o,["googleMaps"]);c!=null&&d(n,["googleMaps"],W0(c));const h=u(o,["urlContext"]);h!=null&&d(n,["urlContext"],h);const p=u(o,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=u(o,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function u_(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(A=>X0(A))),d(n,["functionDeclarations"],S)}const l=u(o,["retrieval"]);l!=null&&d(n,["retrieval"],l);const r=u(o,["googleSearch"]);r!=null&&d(n,["googleSearch"],r);const c=u(o,["googleSearchRetrieval"]);c!=null&&d(n,["googleSearchRetrieval"],c);const h=u(o,["enterpriseWebSearch"]);h!=null&&d(n,["enterpriseWebSearch"],h);const p=u(o,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=u(o,["urlContext"]);y!=null&&d(n,["urlContext"],y);const m=u(o,["computerUse"]);m!=null&&d(n,["computerUse"],m);const _=u(o,["codeExecution"]);return _!=null&&d(n,["codeExecution"],_),n}function c_(o,n){const a={},l=u(o,["ttl"]);n!==void 0&&l!=null&&d(n,["ttl"],l);const r=u(o,["expireTime"]);return n!==void 0&&r!=null&&d(n,["expireTime"],r),a}function f_(o,n){const a={},l=u(o,["ttl"]);n!==void 0&&l!=null&&d(n,["ttl"],l);const r=u(o,["expireTime"]);return n!==void 0&&r!=null&&d(n,["expireTime"],r),a}function d_(o,n){const a={},l=u(n,["name"]);l!=null&&d(a,["_url","name"],Xi(o,l));const r=u(n,["config"]);return r!=null&&c_(r,a),a}function h_(o,n){const a={},l=u(n,["name"]);l!=null&&d(a,["_url","name"],Xi(o,l));const r=u(n,["config"]);return r!=null&&f_(r,a),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class p_ extends pa{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new zl(ha.PAGED_ITEM_CACHED_CONTENTS,l=>this.listInternal(l),await this.listInternal(a),a)}async create(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=F0(this.apiClient,n);return p=Pe("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>_)}else{const m=O0(this.apiClient,n);return p=Pe("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>_)}}async get(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=$0(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>_)}else{const m=Q0(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>_)}}async delete(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=J0(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=j0(_),A=new Om;return Object.assign(A,S),A})}else{const m=Y0(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=K0(_),A=new Om;return Object.assign(A,S),A})}}async update(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=h_(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>_)}else{const m=d_(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>_)}}async listInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=o_(n);return p=Pe("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=s_(_),A=new Fm;return Object.assign(A,S),A})}else{const m=i_(n);return p=Pe("cachedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=a_(_),A=new Fm;return Object.assign(A,S),A})}}}function Qm(o){var n=typeof Symbol=="function"&&Symbol.iterator,a=n&&o[n],l=0;if(a)return a.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&l>=o.length&&(o=void 0),{value:o&&o[l++],done:!o}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function Et(o){return this instanceof Et?(this.v=o,this):new Et(o)}function Ts(o,n,a){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var l=a.apply(o,n||[]),r,c=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),p("next"),p("throw"),p("return",h),r[Symbol.asyncIterator]=function(){return this},r;function h(x){return function(M){return Promise.resolve(M).then(x,S)}}function p(x,M){l[x]&&(r[x]=function(b){return new Promise(function(I,R){c.push([x,b,I,R])>1||y(x,b)})},M&&(r[x]=M(r[x])))}function y(x,M){try{m(l[x](M))}catch(b){A(c[0][3],b)}}function m(x){x.value instanceof Et?Promise.resolve(x.value.v).then(_,S):A(c[0][2],x)}function _(x){y("next",x)}function S(x){y("throw",x)}function A(x,M){x(M),c.shift(),c.length&&y(c[0][0],c[0][1])}}function kl(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=o[Symbol.asyncIterator],a;return n?n.call(o):(o=typeof Qm=="function"?Qm(o):o[Symbol.iterator](),a={},l("next"),l("throw"),l("return"),a[Symbol.asyncIterator]=function(){return this},a);function l(c){a[c]=o[c]&&function(h){return new Promise(function(p,y){h=o[c](h),r(p,y,h.done,h.value)})}}function r(c,h,p,y){Promise.resolve(y).then(function(m){c({value:m,done:p})},h)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function m_(o){var n;if(o.candidates==null||o.candidates.length===0)return!1;const a=(n=o.candidates[0])===null||n===void 0?void 0:n.content;return a===void 0?!1:Ug(a)}function Ug(o){if(o.parts===void 0||o.parts.length===0)return!1;for(const n of o.parts)if(n===void 0||Object.keys(n).length===0)return!1;return!0}function g_(o){if(o.length!==0){for(const n of o)if(n.role!=="user"&&n.role!=="model")throw new Error(`Role must be user or model, but got ${n.role}.`)}}function $m(o){if(o===void 0||o.length===0)return[];const n=[],a=o.length;let l=0;for(;l<a;)if(o[l].role==="user")n.push(o[l]),l++;else{const r=[];let c=!0;for(;l<a&&o[l].role==="model";)r.push(o[l]),c&&!Ug(o[l])&&(c=!1),l++;c?n.push(...r):n.pop()}return n}class y_{constructor(n,a){this.modelsModule=n,this.apiClient=a}create(n){return new v_(this.apiClient,this.modelsModule,n.model,n.config,structuredClone(n.history))}}class v_{constructor(n,a,l,r={},c=[]){this.apiClient=n,this.modelsModule=a,this.model=l,this.config=r,this.history=c,this.sendPromise=Promise.resolve(),g_(c)}async sendMessage(n){var a;await this.sendPromise;const l=ln(n.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(l),config:(a=n.config)!==null&&a!==void 0?a:this.config});return this.sendPromise=(async()=>{var c,h,p;const y=await r,m=(h=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||h===void 0?void 0:h.content,_=y.automaticFunctionCallingHistory,S=this.getHistory(!0).length;let A=[];_!=null&&(A=(p=_.slice(S))!==null&&p!==void 0?p:[]);const x=m?[m]:[];this.recordHistory(l,x,A)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),r}async sendMessageStream(n){var a;await this.sendPromise;const l=ln(n.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(l),config:(a=n.config)!==null&&a!==void 0?a:this.config});this.sendPromise=r.then(()=>{}).catch(()=>{});const c=await r;return this.processStreamResponse(c,l)}getHistory(n=!1){const a=n?$m(this.history):this.history;return structuredClone(a)}processStreamResponse(n,a){var l,r;return Ts(this,arguments,function*(){var h,p,y,m;const _=[];try{for(var S=!0,A=kl(n),x;x=yield Et(A.next()),h=x.done,!h;S=!0){m=x.value,S=!1;const M=m;if(m_(M)){const b=(r=(l=M.candidates)===null||l===void 0?void 0:l[0])===null||r===void 0?void 0:r.content;b!==void 0&&_.push(b)}yield yield Et(M)}}catch(M){p={error:M}}finally{try{!S&&!h&&(y=A.return)&&(yield Et(y.call(A)))}finally{if(p)throw p.error}}this.recordHistory(a,_)})}recordHistory(n,a,l){let r=[];a.length>0&&a.every(c=>c.role!==void 0)?r=a:r.push({role:"model",parts:[]}),l&&l.length>0?this.history.push(...$m(l)):this.history.push(n),this.history.push(...r)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Eu extends Error{constructor(n){super(n.message),this.name="ApiError",this.status=n.status,Object.setPrototypeOf(this,Eu.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function __(o){const n={},a=u(o,["file"]);return a!=null&&d(n,["file"],a),n}function S_(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function T_(o){const n={},a=u(o,["name"]);return a!=null&&d(n,["_url","file"],wg(a)),n}function C_(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function A_(o){const n={},a=u(o,["name"]);return a!=null&&d(n,["_url","file"],wg(a)),n}function E_(o,n){const a={},l=u(o,["pageSize"]);n!==void 0&&l!=null&&d(n,["_query","pageSize"],l);const r=u(o,["pageToken"]);return n!==void 0&&r!=null&&d(n,["_query","pageToken"],r),a}function x_(o){const n={},a=u(o,["config"]);return a!=null&&E_(a,n),n}function b_(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["files"]);if(r!=null){let c=r;Array.isArray(c)&&(c=c.map(h=>h)),d(n,["files"],c)}return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class w_ extends pa{constructor(n){super(),this.apiClient=n,this.list=async(a={})=>new zl(ha.PAGED_ITEM_FILES,l=>this.listInternal(l),await this.listInternal(a),a)}async upload(n){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(n.file,n.config).then(a=>a)}async download(n){await this.apiClient.downloadFile(n)}async listInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=x_(n);return c=Pe("files",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const m=b_(y),_=new Bv;return Object.assign(_,m),_})}}async createInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=__(n);return c=Pe("upload/v1beta/files",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const m=S_(y),_=new Gv;return Object.assign(_,m),_})}}async get(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=A_(n);return c=Pe("files/{file}",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>y)}}async delete(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=T_(n);return c=Pe("files/{file}",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const m=C_(y),_=new Vv;return Object.assign(_,m),_})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Su(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["data"]);a!=null&&d(n,["data"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function N_(o){const n={},a=u(o,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>O_(c))),d(n,["parts"],r)}const l=u(o,["role"]);return l!=null&&d(n,["role"],l),n}function R_(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["fileUri"]);a!=null&&d(n,["fileUri"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function M_(o){const n={};if(u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(o,["description"]);a!=null&&d(n,["description"],a);const l=u(o,["name"]);l!=null&&d(n,["name"],l);const r=u(o,["parameters"]);r!=null&&d(n,["parameters"],r);const c=u(o,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const h=u(o,["response"]);h!=null&&d(n,["response"],h);const p=u(o,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function I_(o){const n={},a=u(o,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const l=u(o,["audioTimestamp"]);l!=null&&d(n,["audioTimestamp"],l);const r=u(o,["candidateCount"]);r!=null&&d(n,["candidateCount"],r);const c=u(o,["enableAffectiveDialog"]);c!=null&&d(n,["enableAffectiveDialog"],c);const h=u(o,["frequencyPenalty"]);h!=null&&d(n,["frequencyPenalty"],h);const p=u(o,["logprobs"]);p!=null&&d(n,["logprobs"],p);const y=u(o,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const m=u(o,["mediaResolution"]);m!=null&&d(n,["mediaResolution"],m);const _=u(o,["presencePenalty"]);_!=null&&d(n,["presencePenalty"],_);const S=u(o,["responseJsonSchema"]);S!=null&&d(n,["responseJsonSchema"],S);const A=u(o,["responseLogprobs"]);A!=null&&d(n,["responseLogprobs"],A);const x=u(o,["responseMimeType"]);x!=null&&d(n,["responseMimeType"],x);const M=u(o,["responseModalities"]);M!=null&&d(n,["responseModalities"],M);const b=u(o,["responseSchema"]);b!=null&&d(n,["responseSchema"],b);const I=u(o,["routingConfig"]);I!=null&&d(n,["routingConfig"],I);const R=u(o,["seed"]);R!=null&&d(n,["seed"],R);const k=u(o,["speechConfig"]);k!=null&&d(n,["speechConfig"],zg(k));const z=u(o,["stopSequences"]);z!=null&&d(n,["stopSequences"],z);const H=u(o,["temperature"]);H!=null&&d(n,["temperature"],H);const O=u(o,["thinkingConfig"]);O!=null&&d(n,["thinkingConfig"],O);const W=u(o,["topK"]);W!=null&&d(n,["topK"],W);const J=u(o,["topP"]);if(J!=null&&d(n,["topP"],J),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function D_(o){const n={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(o,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function k_(o){const n={},a=u(o,["timeRangeFilter"]);if(a!=null&&d(n,["timeRangeFilter"],a),u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function U_(o,n){const a={},l=u(o,["generationConfig"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig"],l);const r=u(o,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const c=u(o,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const h=u(o,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const p=u(o,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(o,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(o,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(o,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],qf(S));const A=u(o,["thinkingConfig"]);n!==void 0&&A!=null&&d(n,["setup","generationConfig","thinkingConfig"],A);const x=u(o,["enableAffectiveDialog"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],x);const M=u(o,["systemInstruction"]);n!==void 0&&M!=null&&d(n,["setup","systemInstruction"],N_(ln(M)));const b=u(o,["tools"]);if(n!==void 0&&b!=null){let W=Es(b);Array.isArray(W)&&(W=W.map(J=>Y_(As(J)))),d(n,["setup","tools"],W)}const I=u(o,["sessionResumption"]);n!==void 0&&I!=null&&d(n,["setup","sessionResumption"],F_(I));const R=u(o,["inputAudioTranscription"]);n!==void 0&&R!=null&&d(n,["setup","inputAudioTranscription"],R);const k=u(o,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const z=u(o,["realtimeInputConfig"]);n!==void 0&&z!=null&&d(n,["setup","realtimeInputConfig"],z);const H=u(o,["contextWindowCompression"]);n!==void 0&&H!=null&&d(n,["setup","contextWindowCompression"],H);const O=u(o,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function z_(o,n){const a={},l=u(o,["generationConfig"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig"],I_(l));const r=u(o,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const c=u(o,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const h=u(o,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const p=u(o,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(o,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(o,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(o,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],zg(qf(S)));const A=u(o,["thinkingConfig"]);n!==void 0&&A!=null&&d(n,["setup","generationConfig","thinkingConfig"],A);const x=u(o,["enableAffectiveDialog"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],x);const M=u(o,["systemInstruction"]);n!==void 0&&M!=null&&d(n,["setup","systemInstruction"],ln(M));const b=u(o,["tools"]);if(n!==void 0&&b!=null){let W=Es(b);Array.isArray(W)&&(W=W.map(J=>J_(As(J)))),d(n,["setup","tools"],W)}const I=u(o,["sessionResumption"]);n!==void 0&&I!=null&&d(n,["setup","sessionResumption"],I);const R=u(o,["inputAudioTranscription"]);n!==void 0&&R!=null&&d(n,["setup","inputAudioTranscription"],R);const k=u(o,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const z=u(o,["realtimeInputConfig"]);n!==void 0&&z!=null&&d(n,["setup","realtimeInputConfig"],z);const H=u(o,["contextWindowCompression"]);n!==void 0&&H!=null&&d(n,["setup","contextWindowCompression"],H);const O=u(o,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function L_(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["setup","model"],rt(o,l));const r=u(n,["config"]);return r!=null&&d(a,["config"],U_(r,a)),a}function P_(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["setup","model"],rt(o,l));const r=u(n,["config"]);return r!=null&&d(a,["config"],z_(r,a)),a}function B_(o){const n={},a=u(o,["musicGenerationConfig"]);return a!=null&&d(n,["musicGenerationConfig"],a),n}function G_(o){const n={},a=u(o,["weightedPrompts"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(r=>r)),d(n,["weightedPrompts"],l)}return n}function V_(o){const n={},a=u(o,["media"]);if(a!=null){let m=Cg(a);Array.isArray(m)&&(m=m.map(_=>Su(_))),d(n,["mediaChunks"],m)}const l=u(o,["audio"]);l!=null&&d(n,["audio"],Su(Eg(l)));const r=u(o,["audioStreamEnd"]);r!=null&&d(n,["audioStreamEnd"],r);const c=u(o,["video"]);c!=null&&d(n,["video"],Su(Ag(c)));const h=u(o,["text"]);h!=null&&d(n,["text"],h);const p=u(o,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=u(o,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function q_(o){const n={},a=u(o,["media"]);if(a!=null){let m=Cg(a);Array.isArray(m)&&(m=m.map(_=>_)),d(n,["mediaChunks"],m)}const l=u(o,["audio"]);l!=null&&d(n,["audio"],Eg(l));const r=u(o,["audioStreamEnd"]);r!=null&&d(n,["audioStreamEnd"],r);const c=u(o,["video"]);c!=null&&d(n,["video"],Ag(c));const h=u(o,["text"]);h!=null&&d(n,["text"],h);const p=u(o,["activityStart"]);p!=null&&d(n,["activityStart"],p);const y=u(o,["activityEnd"]);return y!=null&&d(n,["activityEnd"],y),n}function H_(o){const n={},a=u(o,["setupComplete"]);a!=null&&d(n,["setupComplete"],a);const l=u(o,["serverContent"]);l!=null&&d(n,["serverContent"],l);const r=u(o,["toolCall"]);r!=null&&d(n,["toolCall"],r);const c=u(o,["toolCallCancellation"]);c!=null&&d(n,["toolCallCancellation"],c);const h=u(o,["usageMetadata"]);h!=null&&d(n,["usageMetadata"],K_(h));const p=u(o,["goAway"]);p!=null&&d(n,["goAway"],p);const y=u(o,["sessionResumptionUpdate"]);return y!=null&&d(n,["sessionResumptionUpdate"],y),n}function O_(o){const n={},a=u(o,["videoMetadata"]);a!=null&&d(n,["videoMetadata"],a);const l=u(o,["thought"]);l!=null&&d(n,["thought"],l);const r=u(o,["inlineData"]);r!=null&&d(n,["inlineData"],Su(r));const c=u(o,["fileData"]);c!=null&&d(n,["fileData"],R_(c));const h=u(o,["thoughtSignature"]);h!=null&&d(n,["thoughtSignature"],h);const p=u(o,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=u(o,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const m=u(o,["executableCode"]);m!=null&&d(n,["executableCode"],m);const _=u(o,["functionResponse"]);_!=null&&d(n,["functionResponse"],_);const S=u(o,["text"]);return S!=null&&d(n,["text"],S),n}function F_(o){const n={},a=u(o,["handle"]);if(a!=null&&d(n,["handle"],a),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function zg(o){const n={},a=u(o,["voiceConfig"]);if(a!=null&&d(n,["voiceConfig"],a),u(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=u(o,["languageCode"]);return l!=null&&d(n,["languageCode"],l),n}function Y_(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["functionDeclarations"],m)}if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["googleSearch"]);l!=null&&d(n,["googleSearch"],k_(l));const r=u(o,["googleSearchRetrieval"]);if(r!=null&&d(n,["googleSearchRetrieval"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(o,["googleMaps"]);c!=null&&d(n,["googleMaps"],D_(c));const h=u(o,["urlContext"]);h!=null&&d(n,["urlContext"],h);const p=u(o,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=u(o,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function J_(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(A=>M_(A))),d(n,["functionDeclarations"],S)}const l=u(o,["retrieval"]);l!=null&&d(n,["retrieval"],l);const r=u(o,["googleSearch"]);r!=null&&d(n,["googleSearch"],r);const c=u(o,["googleSearchRetrieval"]);c!=null&&d(n,["googleSearchRetrieval"],c);const h=u(o,["enterpriseWebSearch"]);h!=null&&d(n,["enterpriseWebSearch"],h);const p=u(o,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=u(o,["urlContext"]);y!=null&&d(n,["urlContext"],y);const m=u(o,["computerUse"]);m!=null&&d(n,["computerUse"],m);const _=u(o,["codeExecution"]);return _!=null&&d(n,["codeExecution"],_),n}function K_(o){const n={},a=u(o,["promptTokenCount"]);a!=null&&d(n,["promptTokenCount"],a);const l=u(o,["cachedContentTokenCount"]);l!=null&&d(n,["cachedContentTokenCount"],l);const r=u(o,["candidatesTokenCount"]);r!=null&&d(n,["responseTokenCount"],r);const c=u(o,["toolUsePromptTokenCount"]);c!=null&&d(n,["toolUsePromptTokenCount"],c);const h=u(o,["thoughtsTokenCount"]);h!=null&&d(n,["thoughtsTokenCount"],h);const p=u(o,["totalTokenCount"]);p!=null&&d(n,["totalTokenCount"],p);const y=u(o,["promptTokensDetails"]);if(y!=null){let x=y;Array.isArray(x)&&(x=x.map(M=>M)),d(n,["promptTokensDetails"],x)}const m=u(o,["cacheTokensDetails"]);if(m!=null){let x=m;Array.isArray(x)&&(x=x.map(M=>M)),d(n,["cacheTokensDetails"],x)}const _=u(o,["candidatesTokensDetails"]);if(_!=null){let x=_;Array.isArray(x)&&(x=x.map(M=>M)),d(n,["responseTokensDetails"],x)}const S=u(o,["toolUsePromptTokensDetails"]);if(S!=null){let x=S;Array.isArray(x)&&(x=x.map(M=>M)),d(n,["toolUsePromptTokensDetails"],x)}const A=u(o,["trafficType"]);return A!=null&&d(n,["trafficType"],A),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function j_(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["data"]);a!=null&&d(n,["data"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function Z_(o){const n={},a=u(o,["content"]);a!=null&&d(n,["content"],a);const l=u(o,["citationMetadata"]);l!=null&&d(n,["citationMetadata"],X_(l));const r=u(o,["tokenCount"]);r!=null&&d(n,["tokenCount"],r);const c=u(o,["finishReason"]);c!=null&&d(n,["finishReason"],c);const h=u(o,["urlContextMetadata"]);h!=null&&d(n,["urlContextMetadata"],h);const p=u(o,["avgLogprobs"]);p!=null&&d(n,["avgLogprobs"],p);const y=u(o,["groundingMetadata"]);y!=null&&d(n,["groundingMetadata"],y);const m=u(o,["index"]);m!=null&&d(n,["index"],m);const _=u(o,["logprobsResult"]);_!=null&&d(n,["logprobsResult"],_);const S=u(o,["safetyRatings"]);if(S!=null){let A=S;Array.isArray(A)&&(A=A.map(x=>x)),d(n,["safetyRatings"],A)}return n}function X_(o){const n={},a=u(o,["citationSources"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(r=>r)),d(n,["citations"],l)}return n}function Q_(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let c=Zn(r);Array.isArray(c)&&(c=c.map(h=>h)),d(a,["contents"],c)}return a}function $_(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["tokensInfo"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),d(n,["tokensInfo"],r)}return n}function W_(o){const n={},a=u(o,["values"]);a!=null&&d(n,["values"],a);const l=u(o,["statistics"]);return l!=null&&d(n,["statistics"],eS(l)),n}function eS(o){const n={},a=u(o,["truncated"]);a!=null&&d(n,["truncated"],a);const l=u(o,["token_count"]);return l!=null&&d(n,["tokenCount"],l),n}function xu(o){const n={},a=u(o,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>aT(c))),d(n,["parts"],r)}const l=u(o,["role"]);return l!=null&&d(n,["role"],l),n}function tS(o){const n={},a=u(o,["controlType"]);a!=null&&d(n,["controlType"],a);const l=u(o,["enableControlImageComputation"]);return l!=null&&d(n,["computeControl"],l),n}function nS(o){const n={};if(u(o,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(o,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(o,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return n}function iS(o,n){const a={},l=u(o,["systemInstruction"]);n!==void 0&&l!=null&&d(n,["systemInstruction"],ln(l));const r=u(o,["tools"]);if(n!==void 0&&r!=null){let h=r;Array.isArray(h)&&(h=h.map(p=>Vg(p))),d(n,["tools"],h)}const c=u(o,["generationConfig"]);return n!==void 0&&c!=null&&d(n,["generationConfig"],JS(c)),a}function oS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let h=Zn(r);Array.isArray(h)&&(h=h.map(p=>xu(p))),d(a,["contents"],h)}const c=u(n,["config"]);return c!=null&&nS(c),a}function aS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let h=Zn(r);Array.isArray(h)&&(h=h.map(p=>p)),d(a,["contents"],h)}const c=u(n,["config"]);return c!=null&&iS(c,a),a}function sS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["totalTokens"]);l!=null&&d(n,["totalTokens"],l);const r=u(o,["cachedContentTokenCount"]);return r!=null&&d(n,["cachedContentTokenCount"],r),n}function lS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["totalTokens"]);return l!=null&&d(n,["totalTokens"],l),n}function rS(o,n){const a={},l=u(n,["model"]);return l!=null&&d(a,["_url","name"],rt(o,l)),a}function uS(o,n){const a={},l=u(n,["model"]);return l!=null&&d(a,["_url","name"],rt(o,l)),a}function cS(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function fS(o){const n={},a=u(o,["sdkHttpResponse"]);return a!=null&&d(n,["sdkHttpResponse"],a),n}function dS(o,n){const a={},l=u(o,["outputGcsUri"]);n!==void 0&&l!=null&&d(n,["parameters","storageUri"],l);const r=u(o,["negativePrompt"]);n!==void 0&&r!=null&&d(n,["parameters","negativePrompt"],r);const c=u(o,["numberOfImages"]);n!==void 0&&c!=null&&d(n,["parameters","sampleCount"],c);const h=u(o,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const p=u(o,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=u(o,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);n!==void 0&&m!=null&&d(n,["parameters","safetySetting"],m);const _=u(o,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(o,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const A=u(o,["includeRaiReason"]);n!==void 0&&A!=null&&d(n,["parameters","includeRaiReason"],A);const x=u(o,["language"]);n!==void 0&&x!=null&&d(n,["parameters","language"],x);const M=u(o,["outputMimeType"]);n!==void 0&&M!=null&&d(n,["parameters","outputOptions","mimeType"],M);const b=u(o,["outputCompressionQuality"]);n!==void 0&&b!=null&&d(n,["parameters","outputOptions","compressionQuality"],b);const I=u(o,["addWatermark"]);n!==void 0&&I!=null&&d(n,["parameters","addWatermark"],I);const R=u(o,["labels"]);n!==void 0&&R!=null&&d(n,["labels"],R);const k=u(o,["editMode"]);n!==void 0&&k!=null&&d(n,["parameters","editMode"],k);const z=u(o,["baseSteps"]);return n!==void 0&&z!=null&&d(n,["parameters","editConfig","baseSteps"],z),a}function hS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["prompt"]);r!=null&&d(a,["instances[0]","prompt"],r);const c=u(n,["referenceImages"]);if(c!=null){let p=c;Array.isArray(p)&&(p=p.map(y=>fT(y))),d(a,["instances[0]","referenceImages"],p)}const h=u(n,["config"]);return h!=null&&dS(h,a),a}function pS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>bu(c))),d(n,["generatedImages"],r)}return n}function mS(o,n){const a={},l=u(o,["taskType"]);n!==void 0&&l!=null&&d(n,["requests[]","taskType"],l);const r=u(o,["title"]);n!==void 0&&r!=null&&d(n,["requests[]","title"],r);const c=u(o,["outputDimensionality"]);if(n!==void 0&&c!=null&&d(n,["requests[]","outputDimensionality"],c),u(o,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(o,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function gS(o,n){const a={},l=u(o,["taskType"]);n!==void 0&&l!=null&&d(n,["instances[]","task_type"],l);const r=u(o,["title"]);n!==void 0&&r!=null&&d(n,["instances[]","title"],r);const c=u(o,["outputDimensionality"]);n!==void 0&&c!=null&&d(n,["parameters","outputDimensionality"],c);const h=u(o,["mimeType"]);n!==void 0&&h!=null&&d(n,["instances[]","mimeType"],h);const p=u(o,["autoTruncate"]);return n!==void 0&&p!=null&&d(n,["parameters","autoTruncate"],p),a}function yS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let p=Bf(o,r);Array.isArray(p)&&(p=p.map(y=>y)),d(a,["requests[]","content"],p)}const c=u(n,["config"]);c!=null&&mS(c,a);const h=u(n,["model"]);return h!==void 0&&d(a,["requests[]","model"],rt(o,h)),a}function vS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let h=Bf(o,r);Array.isArray(h)&&(h=h.map(p=>p)),d(a,["instances[]","content"],h)}const c=u(n,["config"]);return c!=null&&gS(c,a),a}function _S(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>h)),d(n,["embeddings"],c)}const r=u(o,["metadata"]);return r!=null&&d(n,["metadata"],r),n}function SS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["predictions[]","embeddings"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>W_(h))),d(n,["embeddings"],c)}const r=u(o,["metadata"]);return r!=null&&d(n,["metadata"],r),n}function TS(o){const n={},a=u(o,["endpoint"]);a!=null&&d(n,["name"],a);const l=u(o,["deployedModelId"]);return l!=null&&d(n,["deployedModelId"],l),n}function CS(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["fileUri"]);a!=null&&d(n,["fileUri"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function AS(o){const n={};if(u(o,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");const a=u(o,["description"]);a!=null&&d(n,["description"],a);const l=u(o,["name"]);l!=null&&d(n,["name"],l);const r=u(o,["parameters"]);r!=null&&d(n,["parameters"],r);const c=u(o,["parametersJsonSchema"]);c!=null&&d(n,["parametersJsonSchema"],c);const h=u(o,["response"]);h!=null&&d(n,["response"],h);const p=u(o,["responseJsonSchema"]);return p!=null&&d(n,["responseJsonSchema"],p),n}function ES(o,n,a){const l={},r=u(n,["systemInstruction"]);a!==void 0&&r!=null&&d(a,["systemInstruction"],xu(ln(r)));const c=u(n,["temperature"]);c!=null&&d(l,["temperature"],c);const h=u(n,["topP"]);h!=null&&d(l,["topP"],h);const p=u(n,["topK"]);p!=null&&d(l,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(l,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const A=u(n,["logprobs"]);A!=null&&d(l,["logprobs"],A);const x=u(n,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const M=u(n,["frequencyPenalty"]);M!=null&&d(l,["frequencyPenalty"],M);const b=u(n,["seed"]);b!=null&&d(l,["seed"],b);const I=u(n,["responseMimeType"]);I!=null&&d(l,["responseMimeType"],I);const R=u(n,["responseSchema"]);R!=null&&d(l,["responseSchema"],Gf(R));const k=u(n,["responseJsonSchema"]);if(k!=null&&d(l,["responseJsonSchema"],k),u(n,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(n,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const z=u(n,["safetySettings"]);if(a!==void 0&&z!=null){let V=z;Array.isArray(V)&&(V=V.map(se=>dT(se))),d(a,["safetySettings"],V)}const H=u(n,["tools"]);if(a!==void 0&&H!=null){let V=Es(H);Array.isArray(V)&&(V=V.map(se=>vT(As(se)))),d(a,["tools"],V)}const O=u(n,["toolConfig"]);if(a!==void 0&&O!=null&&d(a,["toolConfig"],O),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const W=u(n,["cachedContent"]);a!==void 0&&W!=null&&d(a,["cachedContent"],Xi(o,W));const J=u(n,["responseModalities"]);J!=null&&d(l,["responseModalities"],J);const de=u(n,["mediaResolution"]);de!=null&&d(l,["mediaResolution"],de);const Z=u(n,["speechConfig"]);if(Z!=null&&d(l,["speechConfig"],Vf(Z)),u(n,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ge=u(n,["thinkingConfig"]);ge!=null&&d(l,["thinkingConfig"],ge);const Me=u(n,["imageConfig"]);return Me!=null&&d(l,["imageConfig"],Me),l}function xS(o,n,a){const l={},r=u(n,["systemInstruction"]);a!==void 0&&r!=null&&d(a,["systemInstruction"],ln(r));const c=u(n,["temperature"]);c!=null&&d(l,["temperature"],c);const h=u(n,["topP"]);h!=null&&d(l,["topP"],h);const p=u(n,["topK"]);p!=null&&d(l,["topK"],p);const y=u(n,["candidateCount"]);y!=null&&d(l,["candidateCount"],y);const m=u(n,["maxOutputTokens"]);m!=null&&d(l,["maxOutputTokens"],m);const _=u(n,["stopSequences"]);_!=null&&d(l,["stopSequences"],_);const S=u(n,["responseLogprobs"]);S!=null&&d(l,["responseLogprobs"],S);const A=u(n,["logprobs"]);A!=null&&d(l,["logprobs"],A);const x=u(n,["presencePenalty"]);x!=null&&d(l,["presencePenalty"],x);const M=u(n,["frequencyPenalty"]);M!=null&&d(l,["frequencyPenalty"],M);const b=u(n,["seed"]);b!=null&&d(l,["seed"],b);const I=u(n,["responseMimeType"]);I!=null&&d(l,["responseMimeType"],I);const R=u(n,["responseSchema"]);R!=null&&d(l,["responseSchema"],Gf(R));const k=u(n,["responseJsonSchema"]);k!=null&&d(l,["responseJsonSchema"],k);const z=u(n,["routingConfig"]);z!=null&&d(l,["routingConfig"],z);const H=u(n,["modelSelectionConfig"]);H!=null&&d(l,["modelConfig"],H);const O=u(n,["safetySettings"]);if(a!==void 0&&O!=null){let j=O;Array.isArray(j)&&(j=j.map(Q=>Q)),d(a,["safetySettings"],j)}const W=u(n,["tools"]);if(a!==void 0&&W!=null){let j=Es(W);Array.isArray(j)&&(j=j.map(Q=>Vg(As(Q)))),d(a,["tools"],j)}const J=u(n,["toolConfig"]);a!==void 0&&J!=null&&d(a,["toolConfig"],J);const de=u(n,["labels"]);a!==void 0&&de!=null&&d(a,["labels"],de);const Z=u(n,["cachedContent"]);a!==void 0&&Z!=null&&d(a,["cachedContent"],Xi(o,Z));const ge=u(n,["responseModalities"]);ge!=null&&d(l,["responseModalities"],ge);const Me=u(n,["mediaResolution"]);Me!=null&&d(l,["mediaResolution"],Me);const V=u(n,["speechConfig"]);V!=null&&d(l,["speechConfig"],Gg(Vf(V)));const se=u(n,["audioTimestamp"]);se!=null&&d(l,["audioTimestamp"],se);const w=u(n,["thinkingConfig"]);w!=null&&d(l,["thinkingConfig"],w);const he=u(n,["imageConfig"]);return he!=null&&d(l,["imageConfig"],he),l}function Wm(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let h=Zn(r);Array.isArray(h)&&(h=h.map(p=>xu(p))),d(a,["contents"],h)}const c=u(n,["config"]);return c!=null&&d(a,["generationConfig"],ES(o,c,a)),a}function eg(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["contents"]);if(r!=null){let h=Zn(r);Array.isArray(h)&&(h=h.map(p=>p)),d(a,["contents"],h)}const c=u(n,["config"]);return c!=null&&d(a,["generationConfig"],xS(o,c,a)),a}function tg(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["candidates"]);if(l!=null){let y=l;Array.isArray(y)&&(y=y.map(m=>Z_(m))),d(n,["candidates"],y)}const r=u(o,["modelVersion"]);r!=null&&d(n,["modelVersion"],r);const c=u(o,["promptFeedback"]);c!=null&&d(n,["promptFeedback"],c);const h=u(o,["responseId"]);h!=null&&d(n,["responseId"],h);const p=u(o,["usageMetadata"]);return p!=null&&d(n,["usageMetadata"],p),n}function ng(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["candidates"]);if(l!=null){let m=l;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["candidates"],m)}const r=u(o,["createTime"]);r!=null&&d(n,["createTime"],r);const c=u(o,["modelVersion"]);c!=null&&d(n,["modelVersion"],c);const h=u(o,["promptFeedback"]);h!=null&&d(n,["promptFeedback"],h);const p=u(o,["responseId"]);p!=null&&d(n,["responseId"],p);const y=u(o,["usageMetadata"]);return y!=null&&d(n,["usageMetadata"],y),n}function bS(o,n){const a={};if(u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const l=u(o,["numberOfImages"]);n!==void 0&&l!=null&&d(n,["parameters","sampleCount"],l);const r=u(o,["aspectRatio"]);n!==void 0&&r!=null&&d(n,["parameters","aspectRatio"],r);const c=u(o,["guidanceScale"]);if(n!==void 0&&c!=null&&d(n,["parameters","guidanceScale"],c),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(o,["safetyFilterLevel"]);n!==void 0&&h!=null&&d(n,["parameters","safetySetting"],h);const p=u(o,["personGeneration"]);n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p);const y=u(o,["includeSafetyAttributes"]);n!==void 0&&y!=null&&d(n,["parameters","includeSafetyAttributes"],y);const m=u(o,["includeRaiReason"]);n!==void 0&&m!=null&&d(n,["parameters","includeRaiReason"],m);const _=u(o,["language"]);n!==void 0&&_!=null&&d(n,["parameters","language"],_);const S=u(o,["outputMimeType"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","mimeType"],S);const A=u(o,["outputCompressionQuality"]);if(n!==void 0&&A!=null&&d(n,["parameters","outputOptions","compressionQuality"],A),u(o,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const x=u(o,["imageSize"]);if(n!==void 0&&x!=null&&d(n,["parameters","sampleImageSize"],x),u(o,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function wS(o,n){const a={},l=u(o,["outputGcsUri"]);n!==void 0&&l!=null&&d(n,["parameters","storageUri"],l);const r=u(o,["negativePrompt"]);n!==void 0&&r!=null&&d(n,["parameters","negativePrompt"],r);const c=u(o,["numberOfImages"]);n!==void 0&&c!=null&&d(n,["parameters","sampleCount"],c);const h=u(o,["aspectRatio"]);n!==void 0&&h!=null&&d(n,["parameters","aspectRatio"],h);const p=u(o,["guidanceScale"]);n!==void 0&&p!=null&&d(n,["parameters","guidanceScale"],p);const y=u(o,["seed"]);n!==void 0&&y!=null&&d(n,["parameters","seed"],y);const m=u(o,["safetyFilterLevel"]);n!==void 0&&m!=null&&d(n,["parameters","safetySetting"],m);const _=u(o,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(o,["includeSafetyAttributes"]);n!==void 0&&S!=null&&d(n,["parameters","includeSafetyAttributes"],S);const A=u(o,["includeRaiReason"]);n!==void 0&&A!=null&&d(n,["parameters","includeRaiReason"],A);const x=u(o,["language"]);n!==void 0&&x!=null&&d(n,["parameters","language"],x);const M=u(o,["outputMimeType"]);n!==void 0&&M!=null&&d(n,["parameters","outputOptions","mimeType"],M);const b=u(o,["outputCompressionQuality"]);n!==void 0&&b!=null&&d(n,["parameters","outputOptions","compressionQuality"],b);const I=u(o,["addWatermark"]);n!==void 0&&I!=null&&d(n,["parameters","addWatermark"],I);const R=u(o,["labels"]);n!==void 0&&R!=null&&d(n,["labels"],R);const k=u(o,["imageSize"]);n!==void 0&&k!=null&&d(n,["parameters","sampleImageSize"],k);const z=u(o,["enhancePrompt"]);return n!==void 0&&z!=null&&d(n,["parameters","enhancePrompt"],z),a}function NS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["prompt"]);r!=null&&d(a,["instances[0]","prompt"],r);const c=u(n,["config"]);return c!=null&&bS(c,a),a}function RS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["prompt"]);r!=null&&d(a,["instances[0]","prompt"],r);const c=u(n,["config"]);return c!=null&&wS(c,a),a}function MS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>HS(h))),d(n,["generatedImages"],c)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&d(n,["positivePromptSafetyAttributes"],Pg(r)),n}function IS(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["predictions"]);if(l!=null){let c=l;Array.isArray(c)&&(c=c.map(h=>bu(h))),d(n,["generatedImages"],c)}const r=u(o,["positivePromptSafetyAttributes"]);return r!=null&&d(n,["positivePromptSafetyAttributes"],Bg(r)),n}function DS(o,n){const a={},l=u(o,["numberOfVideos"]);if(n!==void 0&&l!=null&&d(n,["parameters","sampleCount"],l),u(o,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(o,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const r=u(o,["durationSeconds"]);if(n!==void 0&&r!=null&&d(n,["parameters","durationSeconds"],r),u(o,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const c=u(o,["aspectRatio"]);n!==void 0&&c!=null&&d(n,["parameters","aspectRatio"],c);const h=u(o,["resolution"]);n!==void 0&&h!=null&&d(n,["parameters","resolution"],h);const p=u(o,["personGeneration"]);if(n!==void 0&&p!=null&&d(n,["parameters","personGeneration"],p),u(o,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const y=u(o,["negativePrompt"]);n!==void 0&&y!=null&&d(n,["parameters","negativePrompt"],y);const m=u(o,["enhancePrompt"]);if(n!==void 0&&m!=null&&d(n,["parameters","enhancePrompt"],m),u(o,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const _=u(o,["lastFrame"]);n!==void 0&&_!=null&&d(n,["instances[0]","lastFrame"],wu(_));const S=u(o,["referenceImages"]);if(n!==void 0&&S!=null){let A=S;Array.isArray(A)&&(A=A.map(x=>IT(x))),d(n,["instances[0]","referenceImages"],A)}if(u(o,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(o,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function kS(o,n){const a={},l=u(o,["numberOfVideos"]);n!==void 0&&l!=null&&d(n,["parameters","sampleCount"],l);const r=u(o,["outputGcsUri"]);n!==void 0&&r!=null&&d(n,["parameters","storageUri"],r);const c=u(o,["fps"]);n!==void 0&&c!=null&&d(n,["parameters","fps"],c);const h=u(o,["durationSeconds"]);n!==void 0&&h!=null&&d(n,["parameters","durationSeconds"],h);const p=u(o,["seed"]);n!==void 0&&p!=null&&d(n,["parameters","seed"],p);const y=u(o,["aspectRatio"]);n!==void 0&&y!=null&&d(n,["parameters","aspectRatio"],y);const m=u(o,["resolution"]);n!==void 0&&m!=null&&d(n,["parameters","resolution"],m);const _=u(o,["personGeneration"]);n!==void 0&&_!=null&&d(n,["parameters","personGeneration"],_);const S=u(o,["pubsubTopic"]);n!==void 0&&S!=null&&d(n,["parameters","pubsubTopic"],S);const A=u(o,["negativePrompt"]);n!==void 0&&A!=null&&d(n,["parameters","negativePrompt"],A);const x=u(o,["enhancePrompt"]);n!==void 0&&x!=null&&d(n,["parameters","enhancePrompt"],x);const M=u(o,["generateAudio"]);n!==void 0&&M!=null&&d(n,["parameters","generateAudio"],M);const b=u(o,["lastFrame"]);n!==void 0&&b!=null&&d(n,["instances[0]","lastFrame"],ai(b));const I=u(o,["referenceImages"]);if(n!==void 0&&I!=null){let z=I;Array.isArray(z)&&(z=z.map(H=>DT(H))),d(n,["instances[0]","referenceImages"],z)}const R=u(o,["mask"]);n!==void 0&&R!=null&&d(n,["instances[0]","mask"],MT(R));const k=u(o,["compressionQuality"]);return n!==void 0&&k!=null&&d(n,["parameters","compressionQuality"],k),a}function US(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["metadata"]);l!=null&&d(n,["metadata"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);c!=null&&d(n,["error"],c);const h=u(o,["response","generateVideoResponse"]);return h!=null&&d(n,["response"],BS(h)),n}function zS(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["metadata"]);l!=null&&d(n,["metadata"],l);const r=u(o,["done"]);r!=null&&d(n,["done"],r);const c=u(o,["error"]);c!=null&&d(n,["error"],c);const h=u(o,["response"]);return h!=null&&d(n,["response"],GS(h)),n}function LS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["prompt"]);r!=null&&d(a,["instances[0]","prompt"],r);const c=u(n,["image"]);c!=null&&d(a,["instances[0]","image"],wu(c));const h=u(n,["video"]);h!=null&&d(a,["instances[0]","video"],qg(h));const p=u(n,["source"]);p!=null&&VS(p,a);const y=u(n,["config"]);return y!=null&&DS(y,a),a}function PS(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["prompt"]);r!=null&&d(a,["instances[0]","prompt"],r);const c=u(n,["image"]);c!=null&&d(a,["instances[0]","image"],ai(c));const h=u(n,["video"]);h!=null&&d(a,["instances[0]","video"],Hg(h));const p=u(n,["source"]);p!=null&&qS(p,a);const y=u(n,["config"]);return y!=null&&kS(y,a),a}function BS(o){const n={},a=u(o,["generatedSamples"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>FS(h))),d(n,["generatedVideos"],c)}const l=u(o,["raiMediaFilteredCount"]);l!=null&&d(n,["raiMediaFilteredCount"],l);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function GS(o){const n={},a=u(o,["videos"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(h=>YS(h))),d(n,["generatedVideos"],c)}const l=u(o,["raiMediaFilteredCount"]);l!=null&&d(n,["raiMediaFilteredCount"],l);const r=u(o,["raiMediaFilteredReasons"]);return r!=null&&d(n,["raiMediaFilteredReasons"],r),n}function VS(o,n){const a={},l=u(o,["prompt"]);n!==void 0&&l!=null&&d(n,["instances[0]","prompt"],l);const r=u(o,["image"]);n!==void 0&&r!=null&&d(n,["instances[0]","image"],wu(r));const c=u(o,["video"]);return n!==void 0&&c!=null&&d(n,["instances[0]","video"],qg(c)),a}function qS(o,n){const a={},l=u(o,["prompt"]);n!==void 0&&l!=null&&d(n,["instances[0]","prompt"],l);const r=u(o,["image"]);n!==void 0&&r!=null&&d(n,["instances[0]","image"],ai(r));const c=u(o,["video"]);return n!==void 0&&c!=null&&d(n,["instances[0]","video"],Hg(c)),a}function HS(o){const n={},a=u(o,["_self"]);a!=null&&d(n,["image"],QS(a));const l=u(o,["raiFilteredReason"]);l!=null&&d(n,["raiFilteredReason"],l);const r=u(o,["_self"]);return r!=null&&d(n,["safetyAttributes"],Pg(r)),n}function bu(o){const n={},a=u(o,["_self"]);a!=null&&d(n,["image"],Lg(a));const l=u(o,["raiFilteredReason"]);l!=null&&d(n,["raiFilteredReason"],l);const r=u(o,["_self"]);r!=null&&d(n,["safetyAttributes"],Bg(r));const c=u(o,["prompt"]);return c!=null&&d(n,["enhancedPrompt"],c),n}function OS(o){const n={},a=u(o,["_self"]);a!=null&&d(n,["mask"],Lg(a));const l=u(o,["labels"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),d(n,["labels"],r)}return n}function FS(o){const n={},a=u(o,["video"]);return a!=null&&d(n,["video"],NT(a)),n}function YS(o){const n={},a=u(o,["_self"]);return a!=null&&d(n,["video"],RT(a)),n}function JS(o){const n={},a=u(o,["modelSelectionConfig"]);a!=null&&d(n,["modelConfig"],a);const l=u(o,["audioTimestamp"]);l!=null&&d(n,["audioTimestamp"],l);const r=u(o,["candidateCount"]);r!=null&&d(n,["candidateCount"],r);const c=u(o,["enableAffectiveDialog"]);c!=null&&d(n,["enableAffectiveDialog"],c);const h=u(o,["frequencyPenalty"]);h!=null&&d(n,["frequencyPenalty"],h);const p=u(o,["logprobs"]);p!=null&&d(n,["logprobs"],p);const y=u(o,["maxOutputTokens"]);y!=null&&d(n,["maxOutputTokens"],y);const m=u(o,["mediaResolution"]);m!=null&&d(n,["mediaResolution"],m);const _=u(o,["presencePenalty"]);_!=null&&d(n,["presencePenalty"],_);const S=u(o,["responseJsonSchema"]);S!=null&&d(n,["responseJsonSchema"],S);const A=u(o,["responseLogprobs"]);A!=null&&d(n,["responseLogprobs"],A);const x=u(o,["responseMimeType"]);x!=null&&d(n,["responseMimeType"],x);const M=u(o,["responseModalities"]);M!=null&&d(n,["responseModalities"],M);const b=u(o,["responseSchema"]);b!=null&&d(n,["responseSchema"],b);const I=u(o,["routingConfig"]);I!=null&&d(n,["routingConfig"],I);const R=u(o,["seed"]);R!=null&&d(n,["seed"],R);const k=u(o,["speechConfig"]);k!=null&&d(n,["speechConfig"],Gg(k));const z=u(o,["stopSequences"]);z!=null&&d(n,["stopSequences"],z);const H=u(o,["temperature"]);H!=null&&d(n,["temperature"],H);const O=u(o,["thinkingConfig"]);O!=null&&d(n,["thinkingConfig"],O);const W=u(o,["topK"]);W!=null&&d(n,["topK"],W);const J=u(o,["topP"]);if(J!=null&&d(n,["topP"],J),u(o,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return n}function KS(o,n){const a={},l=u(n,["model"]);return l!=null&&d(a,["_url","name"],rt(o,l)),a}function jS(o,n){const a={},l=u(n,["model"]);return l!=null&&d(a,["_url","name"],rt(o,l)),a}function ZS(o){const n={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(o,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function XS(o){const n={},a=u(o,["timeRangeFilter"]);if(a!=null&&d(n,["timeRangeFilter"],a),u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function QS(o){const n={},a=u(o,["bytesBase64Encoded"]);a!=null&&d(n,["imageBytes"],qo(a));const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function Lg(o){const n={},a=u(o,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const l=u(o,["bytesBase64Encoded"]);l!=null&&d(n,["imageBytes"],qo(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}function wu(o){const n={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(o,["imageBytes"]);a!=null&&d(n,["bytesBase64Encoded"],qo(a));const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function ai(o){const n={},a=u(o,["gcsUri"]);a!=null&&d(n,["gcsUri"],a);const l=u(o,["imageBytes"]);l!=null&&d(n,["bytesBase64Encoded"],qo(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}function $S(o,n,a){const l={},r=u(n,["pageSize"]);a!==void 0&&r!=null&&d(a,["_query","pageSize"],r);const c=u(n,["pageToken"]);a!==void 0&&c!=null&&d(a,["_query","pageToken"],c);const h=u(n,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const p=u(n,["queryBase"]);return a!==void 0&&p!=null&&d(a,["_url","models_url"],Ng(o,p)),l}function WS(o,n,a){const l={},r=u(n,["pageSize"]);a!==void 0&&r!=null&&d(a,["_query","pageSize"],r);const c=u(n,["pageToken"]);a!==void 0&&c!=null&&d(a,["_query","pageToken"],c);const h=u(n,["filter"]);a!==void 0&&h!=null&&d(a,["_query","filter"],h);const p=u(n,["queryBase"]);return a!==void 0&&p!=null&&d(a,["_url","models_url"],Ng(o,p)),l}function eT(o,n){const a={},l=u(n,["config"]);return l!=null&&$S(o,l,a),a}function tT(o,n){const a={},l=u(n,["config"]);return l!=null&&WS(o,l,a),a}function nT(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["_self"]);if(r!=null){let c=Rg(r);Array.isArray(c)&&(c=c.map(h=>If(h))),d(n,["models"],c)}return n}function iT(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["nextPageToken"]);l!=null&&d(n,["nextPageToken"],l);const r=u(o,["_self"]);if(r!=null){let c=Rg(r);Array.isArray(c)&&(c=c.map(h=>Df(h))),d(n,["models"],c)}return n}function oT(o){const n={},a=u(o,["maskMode"]);a!=null&&d(n,["maskMode"],a);const l=u(o,["segmentationClasses"]);l!=null&&d(n,["maskClasses"],l);const r=u(o,["maskDilation"]);return r!=null&&d(n,["dilation"],r),n}function If(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["displayName"]);l!=null&&d(n,["displayName"],l);const r=u(o,["description"]);r!=null&&d(n,["description"],r);const c=u(o,["version"]);c!=null&&d(n,["version"],c);const h=u(o,["_self"]);h!=null&&d(n,["tunedModelInfo"],_T(h));const p=u(o,["inputTokenLimit"]);p!=null&&d(n,["inputTokenLimit"],p);const y=u(o,["outputTokenLimit"]);y!=null&&d(n,["outputTokenLimit"],y);const m=u(o,["supportedGenerationMethods"]);return m!=null&&d(n,["supportedActions"],m),n}function Df(o){const n={},a=u(o,["name"]);a!=null&&d(n,["name"],a);const l=u(o,["displayName"]);l!=null&&d(n,["displayName"],l);const r=u(o,["description"]);r!=null&&d(n,["description"],r);const c=u(o,["versionId"]);c!=null&&d(n,["version"],c);const h=u(o,["deployedModels"]);if(h!=null){let S=h;Array.isArray(S)&&(S=S.map(A=>TS(A))),d(n,["endpoints"],S)}const p=u(o,["labels"]);p!=null&&d(n,["labels"],p);const y=u(o,["_self"]);y!=null&&d(n,["tunedModelInfo"],ST(y));const m=u(o,["defaultCheckpointId"]);m!=null&&d(n,["defaultCheckpointId"],m);const _=u(o,["checkpoints"]);if(_!=null){let S=_;Array.isArray(S)&&(S=S.map(A=>A)),d(n,["checkpoints"],S)}return n}function aT(o){const n={},a=u(o,["videoMetadata"]);a!=null&&d(n,["videoMetadata"],a);const l=u(o,["thought"]);l!=null&&d(n,["thought"],l);const r=u(o,["inlineData"]);r!=null&&d(n,["inlineData"],j_(r));const c=u(o,["fileData"]);c!=null&&d(n,["fileData"],CS(c));const h=u(o,["thoughtSignature"]);h!=null&&d(n,["thoughtSignature"],h);const p=u(o,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=u(o,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const m=u(o,["executableCode"]);m!=null&&d(n,["executableCode"],m);const _=u(o,["functionResponse"]);_!=null&&d(n,["functionResponse"],_);const S=u(o,["text"]);return S!=null&&d(n,["text"],S),n}function sT(o){const n={},a=u(o,["productImage"]);return a!=null&&d(n,["image"],ai(a)),n}function lT(o,n){const a={},l=u(o,["numberOfImages"]);n!==void 0&&l!=null&&d(n,["parameters","sampleCount"],l);const r=u(o,["baseSteps"]);n!==void 0&&r!=null&&d(n,["parameters","editConfig","baseSteps"],r);const c=u(o,["outputGcsUri"]);n!==void 0&&c!=null&&d(n,["parameters","storageUri"],c);const h=u(o,["seed"]);n!==void 0&&h!=null&&d(n,["parameters","seed"],h);const p=u(o,["safetyFilterLevel"]);n!==void 0&&p!=null&&d(n,["parameters","safetySetting"],p);const y=u(o,["personGeneration"]);n!==void 0&&y!=null&&d(n,["parameters","personGeneration"],y);const m=u(o,["addWatermark"]);n!==void 0&&m!=null&&d(n,["parameters","addWatermark"],m);const _=u(o,["outputMimeType"]);n!==void 0&&_!=null&&d(n,["parameters","outputOptions","mimeType"],_);const S=u(o,["outputCompressionQuality"]);n!==void 0&&S!=null&&d(n,["parameters","outputOptions","compressionQuality"],S);const A=u(o,["enhancePrompt"]);n!==void 0&&A!=null&&d(n,["parameters","enhancePrompt"],A);const x=u(o,["labels"]);return n!==void 0&&x!=null&&d(n,["labels"],x),a}function rT(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["source"]);r!=null&&cT(r,a);const c=u(n,["config"]);return c!=null&&lT(c,a),a}function uT(o){const n={},a=u(o,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(r=>bu(r))),d(n,["generatedImages"],l)}return n}function cT(o,n){const a={},l=u(o,["prompt"]);n!==void 0&&l!=null&&d(n,["instances[0]","prompt"],l);const r=u(o,["personImage"]);n!==void 0&&r!=null&&d(n,["instances[0]","personImage","image"],ai(r));const c=u(o,["productImages"]);if(n!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>sT(p))),d(n,["instances[0]","productImages"],h)}return a}function fT(o){const n={},a=u(o,["referenceImage"]);a!=null&&d(n,["referenceImage"],ai(a));const l=u(o,["referenceId"]);l!=null&&d(n,["referenceId"],l);const r=u(o,["referenceType"]);r!=null&&d(n,["referenceType"],r);const c=u(o,["maskImageConfig"]);c!=null&&d(n,["maskImageConfig"],oT(c));const h=u(o,["controlImageConfig"]);h!=null&&d(n,["controlImageConfig"],tS(h));const p=u(o,["styleImageConfig"]);p!=null&&d(n,["styleImageConfig"],p);const y=u(o,["subjectImageConfig"]);return y!=null&&d(n,["subjectImageConfig"],y),n}function Pg(o){const n={},a=u(o,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const l=u(o,["safetyAttributes","scores"]);l!=null&&d(n,["scores"],l);const r=u(o,["contentType"]);return r!=null&&d(n,["contentType"],r),n}function Bg(o){const n={},a=u(o,["safetyAttributes","categories"]);a!=null&&d(n,["categories"],a);const l=u(o,["safetyAttributes","scores"]);l!=null&&d(n,["scores"],l);const r=u(o,["contentType"]);return r!=null&&d(n,["contentType"],r),n}function dT(o){const n={};if(u(o,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(o,["category"]);a!=null&&d(n,["category"],a);const l=u(o,["threshold"]);return l!=null&&d(n,["threshold"],l),n}function hT(o){const n={},a=u(o,["image"]);return a!=null&&d(n,["image"],ai(a)),n}function pT(o,n){const a={},l=u(o,["mode"]);n!==void 0&&l!=null&&d(n,["parameters","mode"],l);const r=u(o,["maxPredictions"]);n!==void 0&&r!=null&&d(n,["parameters","maxPredictions"],r);const c=u(o,["confidenceThreshold"]);n!==void 0&&c!=null&&d(n,["parameters","confidenceThreshold"],c);const h=u(o,["maskDilation"]);n!==void 0&&h!=null&&d(n,["parameters","maskDilation"],h);const p=u(o,["binaryColorThreshold"]);n!==void 0&&p!=null&&d(n,["parameters","binaryColorThreshold"],p);const y=u(o,["labels"]);return n!==void 0&&y!=null&&d(n,["labels"],y),a}function mT(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["source"]);r!=null&&yT(r,a);const c=u(n,["config"]);return c!=null&&pT(c,a),a}function gT(o){const n={},a=u(o,["predictions"]);if(a!=null){let l=a;Array.isArray(l)&&(l=l.map(r=>OS(r))),d(n,["generatedMasks"],l)}return n}function yT(o,n){const a={},l=u(o,["prompt"]);n!==void 0&&l!=null&&d(n,["instances[0]","prompt"],l);const r=u(o,["image"]);n!==void 0&&r!=null&&d(n,["instances[0]","image"],ai(r));const c=u(o,["scribbleImage"]);return n!==void 0&&c!=null&&d(n,["instances[0]","scribble"],hT(c)),a}function Gg(o){const n={},a=u(o,["voiceConfig"]);if(a!=null&&d(n,["voiceConfig"],a),u(o,["multiSpeakerVoiceConfig"])!==void 0)throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const l=u(o,["languageCode"]);return l!=null&&d(n,["languageCode"],l),n}function vT(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["functionDeclarations"],m)}if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["googleSearch"]);l!=null&&d(n,["googleSearch"],XS(l));const r=u(o,["googleSearchRetrieval"]);if(r!=null&&d(n,["googleSearchRetrieval"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(o,["googleMaps"]);c!=null&&d(n,["googleMaps"],ZS(c));const h=u(o,["urlContext"]);h!=null&&d(n,["urlContext"],h);const p=u(o,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=u(o,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}function Vg(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let S=a;Array.isArray(S)&&(S=S.map(A=>AS(A))),d(n,["functionDeclarations"],S)}const l=u(o,["retrieval"]);l!=null&&d(n,["retrieval"],l);const r=u(o,["googleSearch"]);r!=null&&d(n,["googleSearch"],r);const c=u(o,["googleSearchRetrieval"]);c!=null&&d(n,["googleSearchRetrieval"],c);const h=u(o,["enterpriseWebSearch"]);h!=null&&d(n,["enterpriseWebSearch"],h);const p=u(o,["googleMaps"]);p!=null&&d(n,["googleMaps"],p);const y=u(o,["urlContext"]);y!=null&&d(n,["urlContext"],y);const m=u(o,["computerUse"]);m!=null&&d(n,["computerUse"],m);const _=u(o,["codeExecution"]);return _!=null&&d(n,["codeExecution"],_),n}function _T(o){const n={},a=u(o,["baseModel"]);a!=null&&d(n,["baseModel"],a);const l=u(o,["createTime"]);l!=null&&d(n,["createTime"],l);const r=u(o,["updateTime"]);return r!=null&&d(n,["updateTime"],r),n}function ST(o){const n={},a=u(o,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&d(n,["baseModel"],a);const l=u(o,["createTime"]);l!=null&&d(n,["createTime"],l);const r=u(o,["updateTime"]);return r!=null&&d(n,["updateTime"],r),n}function TT(o,n){const a={},l=u(o,["displayName"]);n!==void 0&&l!=null&&d(n,["displayName"],l);const r=u(o,["description"]);n!==void 0&&r!=null&&d(n,["description"],r);const c=u(o,["defaultCheckpointId"]);return n!==void 0&&c!=null&&d(n,["defaultCheckpointId"],c),a}function CT(o,n){const a={},l=u(o,["displayName"]);n!==void 0&&l!=null&&d(n,["displayName"],l);const r=u(o,["description"]);n!==void 0&&r!=null&&d(n,["description"],r);const c=u(o,["defaultCheckpointId"]);return n!==void 0&&c!=null&&d(n,["defaultCheckpointId"],c),a}function AT(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","name"],rt(o,l));const r=u(n,["config"]);return r!=null&&TT(r,a),a}function ET(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["config"]);return r!=null&&CT(r,a),a}function xT(o,n){const a={},l=u(o,["outputGcsUri"]);n!==void 0&&l!=null&&d(n,["parameters","storageUri"],l);const r=u(o,["includeRaiReason"]);n!==void 0&&r!=null&&d(n,["parameters","includeRaiReason"],r);const c=u(o,["outputMimeType"]);n!==void 0&&c!=null&&d(n,["parameters","outputOptions","mimeType"],c);const h=u(o,["outputCompressionQuality"]);n!==void 0&&h!=null&&d(n,["parameters","outputOptions","compressionQuality"],h);const p=u(o,["enhanceInputImage"]);n!==void 0&&p!=null&&d(n,["parameters","upscaleConfig","enhanceInputImage"],p);const y=u(o,["imagePreservationFactor"]);n!==void 0&&y!=null&&d(n,["parameters","upscaleConfig","imagePreservationFactor"],y);const m=u(o,["labels"]);n!==void 0&&m!=null&&d(n,["labels"],m);const _=u(o,["numberOfImages"]);n!==void 0&&_!=null&&d(n,["parameters","sampleCount"],_);const S=u(o,["mode"]);return n!==void 0&&S!=null&&d(n,["parameters","mode"],S),a}function bT(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["_url","model"],rt(o,l));const r=u(n,["image"]);r!=null&&d(a,["instances[0]","image"],ai(r));const c=u(n,["upscaleFactor"]);c!=null&&d(a,["parameters","upscaleConfig","upscaleFactor"],c);const h=u(n,["config"]);return h!=null&&xT(h,a),a}function wT(o){const n={},a=u(o,["sdkHttpResponse"]);a!=null&&d(n,["sdkHttpResponse"],a);const l=u(o,["predictions"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>bu(c))),d(n,["generatedImages"],r)}return n}function NT(o){const n={},a=u(o,["uri"]);a!=null&&d(n,["uri"],a);const l=u(o,["encodedVideo"]);l!=null&&d(n,["videoBytes"],qo(l));const r=u(o,["encoding"]);return r!=null&&d(n,["mimeType"],r),n}function RT(o){const n={},a=u(o,["gcsUri"]);a!=null&&d(n,["uri"],a);const l=u(o,["bytesBase64Encoded"]);l!=null&&d(n,["videoBytes"],qo(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}function MT(o){const n={},a=u(o,["image"]);a!=null&&d(n,["_self"],ai(a));const l=u(o,["maskMode"]);return l!=null&&d(n,["maskMode"],l),n}function IT(o){const n={},a=u(o,["image"]);a!=null&&d(n,["image"],wu(a));const l=u(o,["referenceType"]);return l!=null&&d(n,["referenceType"],l),n}function DT(o){const n={},a=u(o,["image"]);a!=null&&d(n,["image"],ai(a));const l=u(o,["referenceType"]);return l!=null&&d(n,["referenceType"],l),n}function qg(o){const n={},a=u(o,["uri"]);a!=null&&d(n,["uri"],a);const l=u(o,["videoBytes"]);l!=null&&d(n,["encodedVideo"],qo(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["encoding"],r),n}function Hg(o){const n={},a=u(o,["uri"]);a!=null&&d(n,["gcsUri"],a);const l=u(o,["videoBytes"]);l!=null&&d(n,["bytesBase64Encoded"],qo(l));const r=u(o,["mimeType"]);return r!=null&&d(n,["mimeType"],r),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const kT="Content-Type",UT="X-Server-Timeout",zT="User-Agent",kf="x-goog-api-client",LT="1.27.0",PT=`google-genai-sdk/${LT}`,BT="v1beta1",GT="v1beta",ig=/^\s*data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class VT{constructor(n){var a,l;this.clientOptions=Object.assign(Object.assign({},n),{project:n.project,location:n.location,apiKey:n.apiKey,vertexai:n.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:BT,r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=(l=this.clientOptions.apiVersion)!==null&&l!==void 0?l:GT,r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,n.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,n.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&this.clientOptions.location!=="global"?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){if(this.clientOptions.project&&this.clientOptions.location){this.clientOptions.apiKey=void 0;return}this.clientOptions.project=void 0,this.clientOptions.location=void 0}isVertexAI(){var n;return(n=this.clientOptions.vertexai)!==null&&n!==void 0?n:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(n){if(!n||n.baseUrl===void 0||n.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const l=[n.baseUrl.endsWith("/")?n.baseUrl.slice(0,-1):n.baseUrl];return n.apiVersion&&n.apiVersion!==""&&l.push(n.apiVersion),l.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const n=this.getBaseUrl(),a=new URL(n);return a.protocol=a.protocol=="http:"?"ws":"wss",a.toString()}setBaseUrl(n){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=n;else throw new Error("HTTP options are not correctly set.")}constructUrl(n,a,l){const r=[this.getRequestUrlInternal(a)];return l&&r.push(this.getBaseResourcePath()),n!==""&&r.push(n),new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(n){return!(this.clientOptions.apiKey||!this.clientOptions.vertexai||n.path.startsWith("projects/")||n.httpMethod==="GET"&&n.path.startsWith("publishers/google/models"))}async request(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const l=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,a,l);if(n.queryParams)for(const[h,p]of Object.entries(n.queryParams))r.searchParams.append(h,String(p));let c={};if(n.httpMethod==="GET"){if(n.body&&n.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=n.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,a,r.toString(),n.abortSignal),this.unaryApiCall(r,c,n.httpMethod)}patchHttpOptions(n,a){const l=JSON.parse(JSON.stringify(n));for(const[r,c]of Object.entries(a))typeof c=="object"?l[r]=Object.assign(Object.assign({},l[r]),c):c!==void 0&&(l[r]=c);return l}async requestStream(n){let a=this.clientOptions.httpOptions;n.httpOptions&&(a=this.patchHttpOptions(this.clientOptions.httpOptions,n.httpOptions));const l=this.shouldPrependVertexProjectPath(n),r=this.constructUrl(n.path,a,l);(!r.searchParams.has("alt")||r.searchParams.get("alt")!=="sse")&&r.searchParams.set("alt","sse");let c={};return c.body=n.body,c=await this.includeExtraHttpOptionsToRequestInit(c,a,r.toString(),n.abortSignal),this.streamApiCall(r,c,n.httpMethod)}async includeExtraHttpOptionsToRequestInit(n,a,l,r){if(a&&a.timeout||r){const c=new AbortController,h=c.signal;if(a.timeout&&(a==null?void 0:a.timeout)>0){const p=setTimeout(()=>c.abort(),a.timeout);p&&typeof p.unref=="function"&&p.unref()}r&&r.addEventListener("abort",()=>{c.abort()}),n.signal=h}return a&&a.extraBody!==null&&qT(n,a.extraBody),n.headers=await this.getHeadersInternal(a,l),n}async unaryApiCall(n,a,l){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:l})).then(async r=>(await og(r),new Nf(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}async streamApiCall(n,a,l){return this.apiCall(n.toString(),Object.assign(Object.assign({},a),{method:l})).then(async r=>(await og(r),this.processStreamResponse(r))).catch(r=>{throw r instanceof Error?r:new Error(JSON.stringify(r))})}processStreamResponse(n){var a;return Ts(this,arguments,function*(){const r=(a=n==null?void 0:n.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!r)throw new Error("Response body is empty");try{let h="";for(;;){const{done:p,value:y}=yield Et(r.read());if(p){if(h.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const m=c.decode(y,{stream:!0});try{const S=JSON.parse(m);if("error"in S){const A=JSON.parse(JSON.stringify(S.error)),x=A.status,M=A.code,b=`got status: ${x}. ${JSON.stringify(S)}`;if(M>=400&&M<600)throw new Eu({message:b,status:M})}}catch(S){if(S.name==="ApiError")throw S}h+=m;let _=h.match(ig);for(;_;){const S=_[1];try{const A=new Response(S,{headers:n==null?void 0:n.headers,status:n==null?void 0:n.status,statusText:n==null?void 0:n.statusText});yield yield Et(new Nf(A)),h=h.slice(_[0].length),_=h.match(ig)}catch(A){throw new Error(`exception parsing stream chunk ${S}. ${A}`)}}}}finally{r.releaseLock()}})}async apiCall(n,a){return fetch(n,a).catch(l=>{throw new Error(`exception ${l} sending request`)})}getDefaultHeaders(){const n={},a=PT+" "+this.clientOptions.userAgentExtra;return n[zT]=a,n[kf]=a,n[kT]="application/json",n}async getHeadersInternal(n,a){const l=new Headers;if(n&&n.headers){for(const[r,c]of Object.entries(n.headers))l.append(r,c);n.timeout&&n.timeout>0&&l.append(UT,String(Math.ceil(n.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(l,a),l}async uploadFile(n,a){var l;const r={};a!=null&&(r.mimeType=a.mimeType,r.name=a.name,r.displayName=a.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const c=this.clientOptions.uploader,h=await c.stat(n);r.sizeBytes=String(h.size);const p=(l=a==null?void 0:a.mimeType)!==null&&l!==void 0?l:h.type;if(p===void 0||p==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=p;const y=await this.fetchUploadUrl(r,a);return c.upload(n,y,this)}async downloadFile(n){await this.clientOptions.downloader.download(n,this)}async fetchUploadUrl(n,a){var l;let r={};a!=null&&a.httpOptions?r=a.httpOptions:r={apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${n.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${n.mimeType}`}};const c={file:n},h=await this.request({path:Pe("upload/v1beta/files",c._url),body:JSON.stringify(c),httpMethod:"POST",httpOptions:r});if(!h||!(h!=null&&h.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const p=(l=h==null?void 0:h.headers)===null||l===void 0?void 0:l["x-goog-upload-url"];if(p===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return p}}async function og(o){var n;if(o===void 0)throw new Error("response is undefined");if(!o.ok){const a=o.status;let l;!((n=o.headers.get("content-type"))===null||n===void 0)&&n.includes("application/json")?l=await o.json():l={error:{message:await o.text(),code:o.status,status:o.statusText}};const r=JSON.stringify(l);throw a>=400&&a<600?new Eu({message:r,status:a}):new Error(r)}}function qT(o,n){if(!n||Object.keys(n).length===0)return;if(o.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let a={};if(typeof o.body=="string"&&o.body.length>0)try{const c=JSON.parse(o.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))a=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function l(c,h){const p=Object.assign({},c);for(const y in h)if(Object.prototype.hasOwnProperty.call(h,y)){const m=h[y],_=p[y];m&&typeof m=="object"&&!Array.isArray(m)&&_&&typeof _=="object"&&!Array.isArray(_)?p[y]=l(_,m):(_&&m&&typeof _!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof _}, New type: ${typeof m}. Overwriting.`),p[y]=m)}return p}const r=l(a,n);o.body=JSON.stringify(r)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const HT="mcp_used/unknown";let OT=!1;function Og(o){for(const n of o)if(FT(n)||typeof n=="object"&&"inputSchema"in n)return!0;return OT}function Fg(o){var n;const a=(n=o[kf])!==null&&n!==void 0?n:"";o[kf]=(a+` ${HT}`).trimStart()}function FT(o){return o!==null&&typeof o=="object"&&o instanceof Hf}function YT(o,n=100){return Ts(this,arguments,function*(){let l,r=0;for(;r<n;){const c=yield Et(o.listTools({cursor:l}));for(const h of c.tools)yield yield Et(h),r++;if(!c.nextCursor)break;l=c.nextCursor}})}class Hf{constructor(n=[],a){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=n,this.config=a}static create(n,a){return new Hf(n,a)}async initialize(){var n,a,l,r;if(this.mcpTools.length>0)return;const c={},h=[];for(const _ of this.mcpClients)try{for(var p=!0,y=(a=void 0,kl(YT(_))),m;m=await y.next(),n=m.done,!n;p=!0){r=m.value,p=!1;const S=r;h.push(S);const A=S.name;if(c[A])throw new Error(`Duplicate function name ${A} found in MCP tools. Please ensure function names are unique.`);c[A]=_}}catch(S){a={error:S}}finally{try{!p&&!n&&(l=y.return)&&await l.call(y)}finally{if(a)throw a.error}}this.mcpTools=h,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),Xv(this.mcpTools,this.config)}async callTool(n){await this.initialize();const a=[];for(const l of n)if(l.name in this.functionNameToMcpClient){const r=this.functionNameToMcpClient[l.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const h=await r.callTool({name:l.name,arguments:l.args},void 0,c);a.push({functionResponse:{name:l.name,response:h.isError?{error:h}:h}})}return a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function JT(o,n,a){const l=new Hv;let r;a.data instanceof Blob?r=JSON.parse(await a.data.text()):r=JSON.parse(a.data),Object.assign(l,r),n(l)}class KT{constructor(n,a,l){this.apiClient=n,this.auth=a,this.webSocketFactory=l}async connect(n){var a,l;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),h=XT(this.apiClient.getDefaultHeaders()),p=this.apiClient.getApiKey(),y=`${r}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${p}`;let m=()=>{};const _=new Promise(z=>{m=z}),S=n.callbacks,A=function(){m({})},x=this.apiClient,M={onopen:A,onmessage:z=>{JT(x,S.onmessage,z)},onerror:(a=S==null?void 0:S.onerror)!==null&&a!==void 0?a:function(z){},onclose:(l=S==null?void 0:S.onclose)!==null&&l!==void 0?l:function(z){}},b=this.webSocketFactory.create(y,ZT(h),M);b.connect(),await _;const k={setup:{model:rt(this.apiClient,n.model)}};return b.send(JSON.stringify(k)),new jT(b,this.apiClient)}}class jT{constructor(n,a){this.conn=n,this.apiClient=a}async setWeightedPrompts(n){if(!n.weightedPrompts||Object.keys(n.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const a=G_(n);this.conn.send(JSON.stringify({clientContent:a}))}async setMusicGenerationConfig(n){n.musicGenerationConfig||(n.musicGenerationConfig={});const a=B_(n);this.conn.send(JSON.stringify(a))}sendPlaybackControl(n){const a={playbackControl:n};this.conn.send(JSON.stringify(a))}play(){this.sendPlaybackControl(_s.PLAY)}pause(){this.sendPlaybackControl(_s.PAUSE)}stop(){this.sendPlaybackControl(_s.STOP)}resetContext(){this.sendPlaybackControl(_s.RESET_CONTEXT)}close(){this.conn.close()}}function ZT(o){const n={};return o.forEach((a,l)=>{n[l]=a}),n}function XT(o){const n=new Headers;for(const[a,l]of Object.entries(o))n.append(a,l);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const QT="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function $T(o,n,a){const l=new qv;let r;a.data instanceof Blob?r=await a.data.text():a.data instanceof ArrayBuffer?r=new TextDecoder().decode(a.data):r=a.data;const c=JSON.parse(r);if(o.isVertexAI()){const h=H_(c);Object.assign(l,h)}else Object.assign(l,c);n(l)}class WT{constructor(n,a,l){this.apiClient=n,this.auth=a,this.webSocketFactory=l,this.music=new KT(this.apiClient,this.auth,this.webSocketFactory)}async connect(n){var a,l,r,c,h,p;if(n.config&&n.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let _;const S=this.apiClient.getHeaders();n.config&&n.config.tools&&Og(n.config.tools)&&Fg(S);const A=iC(S);if(this.apiClient.isVertexAI())_=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(A,_);else{const Z=this.apiClient.getApiKey();let ge="BidiGenerateContent",Me="key";Z!=null&&Z.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ge="BidiGenerateContentConstrained",Me="access_token"),_=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ge}?${Me}=${Z}`}let x=()=>{};const M=new Promise(Z=>{x=Z}),b=n.callbacks,I=function(){var Z;(Z=b==null?void 0:b.onopen)===null||Z===void 0||Z.call(b),x({})},R=this.apiClient,k={onopen:I,onmessage:Z=>{$T(R,b.onmessage,Z)},onerror:(a=b==null?void 0:b.onerror)!==null&&a!==void 0?a:function(Z){},onclose:(l=b==null?void 0:b.onclose)!==null&&l!==void 0?l:function(Z){}},z=this.webSocketFactory.create(_,nC(A),k);z.connect(),await M;let H=rt(this.apiClient,n.model);if(this.apiClient.isVertexAI()&&H.startsWith("publishers/")){const Z=this.apiClient.getProject(),ge=this.apiClient.getLocation();H=`projects/${Z}/locations/${ge}/`+H}let O={};this.apiClient.isVertexAI()&&((r=n.config)===null||r===void 0?void 0:r.responseModalities)===void 0&&(n.config===void 0?n.config={responseModalities:[Zi.AUDIO]}:n.config.responseModalities=[Zi.AUDIO]),!((c=n.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const W=(p=(h=n.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[],J=[];for(const Z of W)if(this.isCallableTool(Z)){const ge=Z;J.push(await ge.tool())}else J.push(Z);J.length>0&&(n.config.tools=J);const de={model:H,config:n.config,callbacks:n.callbacks};return this.apiClient.isVertexAI()?O=P_(this.apiClient,de):O=L_(this.apiClient,de),delete O.config,z.send(JSON.stringify(O)),new tC(z,this.apiClient)}isCallableTool(n){return"callTool"in n&&typeof n.callTool=="function"}}const eC={turnComplete:!0};class tC{constructor(n,a){this.conn=n,this.apiClient=a}tLiveClientContent(n,a){if(a.turns!==null&&a.turns!==void 0){let l=[];try{l=Zn(a.turns),n.isVertexAI()||(l=l.map(r=>xu(r)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof a.turns}'`)}return{clientContent:{turns:l,turnComplete:a.turnComplete}}}return{clientContent:{turnComplete:a.turnComplete}}}tLiveClienttToolResponse(n,a){let l=[];if(a.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(a.functionResponses)?l=a.functionResponses:l=[a.functionResponses],l.length===0)throw new Error("functionResponses is required.");for(const c of l){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!n.isVertexAI()&&!("id"in c))throw new Error(QT)}return{toolResponse:{functionResponses:l}}}sendClientContent(n){n=Object.assign(Object.assign({},eC),n);const a=this.tLiveClientContent(this.apiClient,n);this.conn.send(JSON.stringify(a))}sendRealtimeInput(n){let a={};this.apiClient.isVertexAI()?a={realtimeInput:q_(n)}:a={realtimeInput:V_(n)},this.conn.send(JSON.stringify(a))}sendToolResponse(n){if(n.functionResponses==null)throw new Error("Tool response parameters are required.");const a=this.tLiveClienttToolResponse(this.apiClient,n);this.conn.send(JSON.stringify(a))}close(){this.conn.close()}}function nC(o){const n={};return o.forEach((a,l)=>{n[l]=a}),n}function iC(o){const n=new Headers;for(const[a,l]of Object.entries(o))n.append(a,l);return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const ag=10;function sg(o){var n,a,l;if(!((n=o==null?void 0:o.automaticFunctionCalling)===null||n===void 0)&&n.disable)return!0;let r=!1;for(const h of(a=o==null?void 0:o.tools)!==null&&a!==void 0?a:[])if(Cs(h)){r=!0;break}if(!r)return!0;const c=(l=o==null?void 0:o.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function Cs(o){return"callTool"in o&&typeof o.callTool=="function"}function oC(o){var n,a,l;return(l=(a=(n=o.config)===null||n===void 0?void 0:n.tools)===null||a===void 0?void 0:a.some(r=>Cs(r)))!==null&&l!==void 0?l:!1}function aC(o){var n,a,l;return(l=(a=(n=o.config)===null||n===void 0?void 0:n.tools)===null||a===void 0?void 0:a.some(r=>!Cs(r)))!==null&&l!==void 0?l:!1}function lg(o){var n;return!(!((n=o==null?void 0:o.automaticFunctionCalling)===null||n===void 0)&&n.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class sC extends pa{constructor(n){super(),this.apiClient=n,this.generateContent=async a=>{var l,r,c,h,p;const y=await this.processParamsMaybeAddMcpUsage(a);if(this.maybeMoveToResponseJsonSchem(a),!oC(a)||sg(a.config))return await this.generateContentInternal(y);if(aC(a))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let m,_;const S=Zn(y.contents),A=(c=(r=(l=y.config)===null||l===void 0?void 0:l.automaticFunctionCalling)===null||r===void 0?void 0:r.maximumRemoteCalls)!==null&&c!==void 0?c:ag;let x=0;for(;x<A&&(m=await this.generateContentInternal(y),!(!m.functionCalls||m.functionCalls.length===0));){const M=m.candidates[0].content,b=[];for(const I of(p=(h=a.config)===null||h===void 0?void 0:h.tools)!==null&&p!==void 0?p:[])if(Cs(I)){const k=await I.callTool(m.functionCalls);b.push(...k)}x++,_={role:"user",parts:b},y.contents=Zn(y.contents),y.contents.push(M),y.contents.push(_),lg(y.config)&&(S.push(M),S.push(_))}return lg(y.config)&&(m.automaticFunctionCallingHistory=S),m},this.generateContentStream=async a=>{if(this.maybeMoveToResponseJsonSchem(a),sg(a.config)){const l=await this.processParamsMaybeAddMcpUsage(a);return await this.generateContentStreamInternal(l)}else return await this.processAfcStream(a)},this.generateImages=async a=>await this.generateImagesInternal(a).then(l=>{var r;let c;const h=[];if(l!=null&&l.generatedImages)for(const y of l.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((r=y==null?void 0:y.safetyAttributes)===null||r===void 0?void 0:r.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:h.push(y);let p;return c?p={generatedImages:h,positivePromptSafetyAttributes:c,sdkHttpResponse:l.sdkHttpResponse}:p={generatedImages:h,sdkHttpResponse:l.sdkHttpResponse},p}),this.list=async a=>{var l;const h={config:Object.assign(Object.assign({},{queryBase:!0}),a==null?void 0:a.config)};if(this.apiClient.isVertexAI()&&!h.config.queryBase){if(!((l=h.config)===null||l===void 0)&&l.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");h.config.filter="labels.tune-type:*"}return new zl(ha.PAGED_ITEM_MODELS,p=>this.listInternal(p),await this.listInternal(h),h)},this.editImage=async a=>{const l={model:a.model,prompt:a.prompt,referenceImages:[],config:a.config};return a.referenceImages&&a.referenceImages&&(l.referenceImages=a.referenceImages.map(r=>r.toReferenceImageAPI())),await this.editImageInternal(l)},this.upscaleImage=async a=>{let l={numberOfImages:1,mode:"upscale"};a.config&&(l=Object.assign(Object.assign({},l),a.config));const r={model:a.model,image:a.image,upscaleFactor:a.upscaleFactor,config:l};return await this.upscaleImageInternal(r)},this.generateVideos=async a=>{var l,r,c,h,p,y;if((a.prompt||a.image||a.video)&&a.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((l=a.video)===null||l===void 0)&&l.uri&&(!((r=a.video)===null||r===void 0)&&r.videoBytes)?a.video={uri:a.video.uri,mimeType:a.video.mimeType}:!((h=(c=a.source)===null||c===void 0?void 0:c.video)===null||h===void 0)&&h.uri&&(!((y=(p=a.source)===null||p===void 0?void 0:p.video)===null||y===void 0)&&y.videoBytes)&&(a.source.video={uri:a.source.video.uri,mimeType:a.source.video.mimeType})),await this.generateVideosInternal(a)}}maybeMoveToResponseJsonSchem(n){n.config&&n.config.responseSchema&&(n.config.responseJsonSchema||Object.keys(n.config.responseSchema).includes("$schema")&&(n.config.responseJsonSchema=n.config.responseSchema,delete n.config.responseSchema))}async processParamsMaybeAddMcpUsage(n){var a,l,r;const c=(a=n.config)===null||a===void 0?void 0:a.tools;if(!c)return n;const h=await Promise.all(c.map(async y=>Cs(y)?await y.tool():y)),p={model:n.model,contents:n.contents,config:Object.assign(Object.assign({},n.config),{tools:h})};if(p.config.tools=h,n.config&&n.config.tools&&Og(n.config.tools)){const y=(r=(l=n.config.httpOptions)===null||l===void 0?void 0:l.headers)!==null&&r!==void 0?r:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),Fg(m),p.config.httpOptions=Object.assign(Object.assign({},n.config.httpOptions),{headers:m})}return p}async initAfcToolsMap(n){var a,l,r;const c=new Map;for(const h of(l=(a=n.config)===null||a===void 0?void 0:a.tools)!==null&&l!==void 0?l:[])if(Cs(h)){const p=h,y=await p.tool();for(const m of(r=y.functionDeclarations)!==null&&r!==void 0?r:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,p)}}return c}async processAfcStream(n){var a,l,r;const c=(r=(l=(a=n.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||l===void 0?void 0:l.maximumRemoteCalls)!==null&&r!==void 0?r:ag;let h=!1,p=0;const y=await this.initAfcToolsMap(n);return(function(m,_,S){var A,x;return Ts(this,arguments,function*(){for(var M,b,I,R;p<c;){h&&(p++,h=!1);const O=yield Et(m.processParamsMaybeAddMcpUsage(S)),W=yield Et(m.generateContentStreamInternal(O)),J=[],de=[];try{for(var k=!0,z=(b=void 0,kl(W)),H;H=yield Et(z.next()),M=H.done,!M;k=!0){R=H.value,k=!1;const Z=R;if(yield yield Et(Z),Z.candidates&&(!((A=Z.candidates[0])===null||A===void 0)&&A.content)){de.push(Z.candidates[0].content);for(const ge of(x=Z.candidates[0].content.parts)!==null&&x!==void 0?x:[])if(p<c&&ge.functionCall){if(!ge.functionCall.name)throw new Error("Function call name was not returned by the model.");if(_.has(ge.functionCall.name)){const Me=yield Et(_.get(ge.functionCall.name).callTool([ge.functionCall]));J.push(...Me)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${_.keys()}, mising tool: ${ge.functionCall.name}`)}}}}catch(Z){b={error:Z}}finally{try{!k&&!M&&(I=z.return)&&(yield Et(I.call(z)))}finally{if(b)throw b.error}}if(J.length>0){h=!0;const Z=new Ml;Z.candidates=[{content:{role:"user",parts:J}}],yield yield Et(Z);const ge=[];ge.push(...de),ge.push({role:"user",parts:J});const Me=Zn(S.contents).concat(ge);S.contents=Me}else break}})})(this,y,n)}async generateContentInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=eg(this.apiClient,n);return p=Pe("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=ng(_),A=new Ml;return Object.assign(A,S),A})}else{const m=Wm(this.apiClient,n);return p=Pe("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=tg(_),A=new Ml;return Object.assign(A,S),A})}}async generateContentStreamInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=eg(this.apiClient,n);return p=Pe("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}),h.then(function(S){return Ts(this,arguments,function*(){var A,x,M,b;try{for(var I=!0,R=kl(S),k;k=yield Et(R.next()),A=k.done,!A;I=!0){b=k.value,I=!1;const z=b,H=ng(yield Et(z.json()));H.sdkHttpResponse={headers:z.headers};const O=new Ml;Object.assign(O,H),yield yield Et(O)}}catch(z){x={error:z}}finally{try{!I&&!A&&(M=R.return)&&(yield Et(M.call(R)))}finally{if(x)throw x.error}}})})}else{const m=Wm(this.apiClient,n);return p=Pe("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.requestStream({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}),h.then(function(S){return Ts(this,arguments,function*(){var A,x,M,b;try{for(var I=!0,R=kl(S),k;k=yield Et(R.next()),A=k.done,!A;I=!0){b=k.value,I=!1;const z=b,H=tg(yield Et(z.json()));H.sdkHttpResponse={headers:z.headers};const O=new Ml;Object.assign(O,H),yield yield Et(O)}}catch(z){x={error:z}}finally{try{!I&&!A&&(M=R.return)&&(yield Et(M.call(R)))}finally{if(x)throw x.error}}})})}}async embedContent(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=vS(this.apiClient,n);return p=Pe("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=SS(_),A=new Pm;return Object.assign(A,S),A})}else{const m=yS(this.apiClient,n);return p=Pe("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=_S(_),A=new Pm;return Object.assign(A,S),A})}}async generateImagesInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=RS(this.apiClient,n);return p=Pe("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=IS(_),A=new Bm;return Object.assign(A,S),A})}else{const m=NS(this.apiClient,n);return p=Pe("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=MS(_),A=new Bm;return Object.assign(A,S),A})}}async editImageInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=hS(this.apiClient,n);return c=Pe("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const m=pS(y),_=new kv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=bT(this.apiClient,n);return c=Pe("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const m=wT(y),_=new Uv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=rT(this.apiClient,n);return c=Pe("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const m=uT(y),_=new zv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=mT(this.apiClient,n);return c=Pe("{model}:predict",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r.then(y=>{const m=gT(y),_=new Lv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async get(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=jS(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>Df(_))}else{const m=KS(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>If(_))}}async listInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=tT(this.apiClient,n);return p=Pe("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=iT(_),A=new Gm;return Object.assign(A,S),A})}else{const m=eT(this.apiClient,n);return p=Pe("{models_url}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=nT(_),A=new Gm;return Object.assign(A,S),A})}}async update(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=ET(this.apiClient,n);return p=Pe("{model}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>Df(_))}else{const m=AT(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>If(_))}}async delete(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=uS(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=fS(_),A=new Vm;return Object.assign(A,S),A})}else{const m=rS(this.apiClient,n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=cS(_),A=new Vm;return Object.assign(A,S),A})}}async countTokens(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=aS(this.apiClient,n);return p=Pe("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=lS(_),A=new qm;return Object.assign(A,S),A})}else{const m=oS(this.apiClient,n);return p=Pe("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=sS(_),A=new qm;return Object.assign(A,S),A})}}async computeTokens(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=Q_(this.apiClient,n);return c=Pe("{model}:computeTokens",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>{const m=$_(y),_=new Pv;return Object.assign(_,m),_})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=PS(this.apiClient,n);return p=Pe("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h.then(_=>{const S=zS(_),A=new Cu;return Object.assign(A,S),A})}else{const m=LS(this.apiClient,n);return p=Pe("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h.then(_=>{const S=US(_),A=new Cu;return Object.assign(A,S),A})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class lC extends pa{constructor(n){super(),this.apiClient=n}async getVideosOperation(n){const a=n.operation,l=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=a.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:r,config:{httpOptions:c}});return a._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:a.name,config:l});return a._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async get(n){const a=n.operation,l=n.config;if(a.name===void 0||a.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const r=a.name.split("/operations/")[0];let c;l&&"httpOptions"in l&&(c=l.httpOptions);const h=await this.fetchPredictVideosOperationInternal({operationName:a.name,resourceName:r,config:{httpOptions:c}});return a._fromAPIResponse({apiResponse:h,isVertexAI:!0})}else{const r=await this.getVideosOperationInternal({operationName:a.name,config:l});return a._fromAPIResponse({apiResponse:r,isVertexAI:!1})}}async getVideosOperationInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=Mv(n);return p=Pe("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json()),h}else{const m=Rv(n);return p=Pe("{operationName}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json()),h}}async fetchPredictVideosOperationInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=Cv(n);return c=Pe("{resourceName}:fetchPredictOperation",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json()),r}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function rC(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["data"]);a!=null&&d(n,["data"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function uC(o){const n={},a=u(o,["parts"]);if(a!=null){let r=a;Array.isArray(r)&&(r=r.map(c=>yC(c))),d(n,["parts"],r)}const l=u(o,["role"]);return l!=null&&d(n,["role"],l),n}function cC(o,n,a){const l={},r=u(n,["expireTime"]);a!==void 0&&r!=null&&d(a,["expireTime"],r);const c=u(n,["newSessionExpireTime"]);a!==void 0&&c!=null&&d(a,["newSessionExpireTime"],c);const h=u(n,["uses"]);a!==void 0&&h!=null&&d(a,["uses"],h);const p=u(n,["liveConnectConstraints"]);a!==void 0&&p!=null&&d(a,["bidiGenerateContentSetup"],gC(o,p));const y=u(n,["lockAdditionalFields"]);return a!==void 0&&y!=null&&d(a,["fieldMask"],y),l}function fC(o,n){const a={},l=u(n,["config"]);return l!=null&&d(a,["config"],cC(o,l,a)),a}function dC(o){const n={};if(u(o,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(o,["fileUri"]);a!=null&&d(n,["fileUri"],a);const l=u(o,["mimeType"]);return l!=null&&d(n,["mimeType"],l),n}function hC(o){const n={};if(u(o,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(o,["enableWidget"]);return a!=null&&d(n,["enableWidget"],a),n}function pC(o){const n={},a=u(o,["timeRangeFilter"]);if(a!=null&&d(n,["timeRangeFilter"],a),u(o,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");return n}function mC(o,n){const a={},l=u(o,["generationConfig"]);n!==void 0&&l!=null&&d(n,["setup","generationConfig"],l);const r=u(o,["responseModalities"]);n!==void 0&&r!=null&&d(n,["setup","generationConfig","responseModalities"],r);const c=u(o,["temperature"]);n!==void 0&&c!=null&&d(n,["setup","generationConfig","temperature"],c);const h=u(o,["topP"]);n!==void 0&&h!=null&&d(n,["setup","generationConfig","topP"],h);const p=u(o,["topK"]);n!==void 0&&p!=null&&d(n,["setup","generationConfig","topK"],p);const y=u(o,["maxOutputTokens"]);n!==void 0&&y!=null&&d(n,["setup","generationConfig","maxOutputTokens"],y);const m=u(o,["mediaResolution"]);n!==void 0&&m!=null&&d(n,["setup","generationConfig","mediaResolution"],m);const _=u(o,["seed"]);n!==void 0&&_!=null&&d(n,["setup","generationConfig","seed"],_);const S=u(o,["speechConfig"]);n!==void 0&&S!=null&&d(n,["setup","generationConfig","speechConfig"],qf(S));const A=u(o,["thinkingConfig"]);n!==void 0&&A!=null&&d(n,["setup","generationConfig","thinkingConfig"],A);const x=u(o,["enableAffectiveDialog"]);n!==void 0&&x!=null&&d(n,["setup","generationConfig","enableAffectiveDialog"],x);const M=u(o,["systemInstruction"]);n!==void 0&&M!=null&&d(n,["setup","systemInstruction"],uC(ln(M)));const b=u(o,["tools"]);if(n!==void 0&&b!=null){let W=Es(b);Array.isArray(W)&&(W=W.map(J=>_C(As(J)))),d(n,["setup","tools"],W)}const I=u(o,["sessionResumption"]);n!==void 0&&I!=null&&d(n,["setup","sessionResumption"],vC(I));const R=u(o,["inputAudioTranscription"]);n!==void 0&&R!=null&&d(n,["setup","inputAudioTranscription"],R);const k=u(o,["outputAudioTranscription"]);n!==void 0&&k!=null&&d(n,["setup","outputAudioTranscription"],k);const z=u(o,["realtimeInputConfig"]);n!==void 0&&z!=null&&d(n,["setup","realtimeInputConfig"],z);const H=u(o,["contextWindowCompression"]);n!==void 0&&H!=null&&d(n,["setup","contextWindowCompression"],H);const O=u(o,["proactivity"]);return n!==void 0&&O!=null&&d(n,["setup","proactivity"],O),a}function gC(o,n){const a={},l=u(n,["model"]);l!=null&&d(a,["setup","model"],rt(o,l));const r=u(n,["config"]);return r!=null&&d(a,["config"],mC(r,a)),a}function yC(o){const n={},a=u(o,["videoMetadata"]);a!=null&&d(n,["videoMetadata"],a);const l=u(o,["thought"]);l!=null&&d(n,["thought"],l);const r=u(o,["inlineData"]);r!=null&&d(n,["inlineData"],rC(r));const c=u(o,["fileData"]);c!=null&&d(n,["fileData"],dC(c));const h=u(o,["thoughtSignature"]);h!=null&&d(n,["thoughtSignature"],h);const p=u(o,["functionCall"]);p!=null&&d(n,["functionCall"],p);const y=u(o,["codeExecutionResult"]);y!=null&&d(n,["codeExecutionResult"],y);const m=u(o,["executableCode"]);m!=null&&d(n,["executableCode"],m);const _=u(o,["functionResponse"]);_!=null&&d(n,["functionResponse"],_);const S=u(o,["text"]);return S!=null&&d(n,["text"],S),n}function vC(o){const n={},a=u(o,["handle"]);if(a!=null&&d(n,["handle"],a),u(o,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return n}function _C(o){const n={},a=u(o,["functionDeclarations"]);if(a!=null){let m=a;Array.isArray(m)&&(m=m.map(_=>_)),d(n,["functionDeclarations"],m)}if(u(o,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const l=u(o,["googleSearch"]);l!=null&&d(n,["googleSearch"],pC(l));const r=u(o,["googleSearchRetrieval"]);if(r!=null&&d(n,["googleSearchRetrieval"],r),u(o,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(o,["googleMaps"]);c!=null&&d(n,["googleMaps"],hC(c));const h=u(o,["urlContext"]);h!=null&&d(n,["urlContext"],h);const p=u(o,["computerUse"]);p!=null&&d(n,["computerUse"],p);const y=u(o,["codeExecution"]);return y!=null&&d(n,["codeExecution"],y),n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function SC(o){const n=[];for(const a in o)if(Object.prototype.hasOwnProperty.call(o,a)){const l=o[a];if(typeof l=="object"&&l!=null&&Object.keys(l).length>0){const r=Object.keys(l).map(c=>`${a}.${c}`);n.push(...r)}else n.push(a)}return n.join(",")}function TC(o,n){let a=null;const l=o.bidiGenerateContentSetup;if(typeof l=="object"&&l!==null&&"setup"in l){const c=l.setup;typeof c=="object"&&c!==null?(o.bidiGenerateContentSetup=c,a=c):delete o.bidiGenerateContentSetup}else l!==void 0&&delete o.bidiGenerateContentSetup;const r=o.fieldMask;if(a){const c=SC(a);if(Array.isArray(n==null?void 0:n.lockAdditionalFields)&&(n==null?void 0:n.lockAdditionalFields.length)===0)c?o.fieldMask=c:delete o.fieldMask;else if(n!=null&&n.lockAdditionalFields&&n.lockAdditionalFields.length>0&&r!==null&&Array.isArray(r)&&r.length>0){const h=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let p=[];r.length>0&&(p=r.map(m=>h.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),p.length>0&&y.push(...p),y.length>0?o.fieldMask=y.join(","):delete o.fieldMask}else delete o.fieldMask}else r!==null&&Array.isArray(r)&&r.length>0?o.fieldMask=r.join(","):delete o.fieldMask;return o}class CC extends pa{constructor(n){super(),this.apiClient=n}async create(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const p=fC(this.apiClient,n);c=Pe("auth_tokens",p._url),h=p._query,delete p.config,delete p._url,delete p._query;const y=TC(p,n.config);return r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(m=>m.json()),r.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function AC(o,n){const a={},l=u(o,["name"]);return l!=null&&d(a,["_url","name"],l),a}function EC(o,n){const a={},l=u(o,["name"]);return l!=null&&d(a,["_url","name"],l),a}function xC(o,n,a){const l={};if(u(o,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const r=u(o,["tunedModelDisplayName"]);if(n!==void 0&&r!=null&&d(n,["displayName"],r),u(o,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(o,["epochCount"]);n!==void 0&&c!=null&&d(n,["tuningTask","hyperparameters","epochCount"],c);const h=u(o,["learningRateMultiplier"]);if(h!=null&&d(l,["tuningTask","hyperparameters","learningRateMultiplier"],h),u(o,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(o,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(o,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");const p=u(o,["batchSize"]);n!==void 0&&p!=null&&d(n,["tuningTask","hyperparameters","batchSize"],p);const y=u(o,["learningRate"]);if(n!==void 0&&y!=null&&d(n,["tuningTask","hyperparameters","learningRate"],y),u(o,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");return l}function bC(o,n,a){const l={},r=u(o,["validationDataset"]);n!==void 0&&r!=null&&d(n,["supervisedTuningSpec"],qC(r));const c=u(o,["tunedModelDisplayName"]);n!==void 0&&c!=null&&d(n,["tunedModelDisplayName"],c);const h=u(o,["description"]);n!==void 0&&h!=null&&d(n,["description"],h);const p=u(o,["epochCount"]);n!==void 0&&p!=null&&d(n,["supervisedTuningSpec","hyperParameters","epochCount"],p);const y=u(o,["learningRateMultiplier"]);n!==void 0&&y!=null&&d(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],y);const m=u(o,["exportLastCheckpointOnly"]);n!==void 0&&m!=null&&d(n,["supervisedTuningSpec","exportLastCheckpointOnly"],m);const _=u(o,["adapterSize"]);if(n!==void 0&&_!=null&&d(n,["supervisedTuningSpec","hyperParameters","adapterSize"],_),u(o,["batchSize"])!==void 0)throw new Error("batchSize parameter is not supported in Vertex AI.");if(u(o,["learningRate"])!==void 0)throw new Error("learningRate parameter is not supported in Vertex AI.");const S=u(o,["labels"]);return n!==void 0&&S!=null&&d(n,["labels"],S),l}function wC(o,n){const a={},l=u(o,["baseModel"]);l!=null&&d(a,["baseModel"],l);const r=u(o,["preTunedModel"]);r!=null&&d(a,["preTunedModel"],r);const c=u(o,["trainingDataset"]);c!=null&&d(a,["tuningTask","trainingData"],BC(c));const h=u(o,["config"]);return h!=null&&xC(h,a),a}function NC(o,n){const a={},l=u(o,["baseModel"]);l!=null&&d(a,["baseModel"],l);const r=u(o,["preTunedModel"]);r!=null&&d(a,["preTunedModel"],r);const c=u(o,["trainingDataset"]);c!=null&&GC(c,a);const h=u(o,["config"]);return h!=null&&bC(h,a),a}function RC(o,n){const a={},l=u(o,["name"]);return l!=null&&d(a,["_url","name"],l),a}function MC(o,n){const a={},l=u(o,["name"]);return l!=null&&d(a,["_url","name"],l),a}function IC(o,n,a){const l={},r=u(o,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const c=u(o,["pageToken"]);n!==void 0&&c!=null&&d(n,["_query","pageToken"],c);const h=u(o,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),l}function DC(o,n,a){const l={},r=u(o,["pageSize"]);n!==void 0&&r!=null&&d(n,["_query","pageSize"],r);const c=u(o,["pageToken"]);n!==void 0&&c!=null&&d(n,["_query","pageToken"],c);const h=u(o,["filter"]);return n!==void 0&&h!=null&&d(n,["_query","filter"],h),l}function kC(o,n){const a={},l=u(o,["config"]);return l!=null&&IC(l,a),a}function UC(o,n){const a={},l=u(o,["config"]);return l!=null&&DC(l,a),a}function zC(o,n){const a={},l=u(o,["sdkHttpResponse"]);l!=null&&d(a,["sdkHttpResponse"],l);const r=u(o,["nextPageToken"]);r!=null&&d(a,["nextPageToken"],r);const c=u(o,["tunedModels"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Yg(p))),d(a,["tuningJobs"],h)}return a}function LC(o,n){const a={},l=u(o,["sdkHttpResponse"]);l!=null&&d(a,["sdkHttpResponse"],l);const r=u(o,["nextPageToken"]);r!=null&&d(a,["nextPageToken"],r);const c=u(o,["tuningJobs"]);if(c!=null){let h=c;Array.isArray(h)&&(h=h.map(p=>Uf(p))),d(a,["tuningJobs"],h)}return a}function PC(o,n){const a={},l=u(o,["name"]);l!=null&&d(a,["model"],l);const r=u(o,["name"]);return r!=null&&d(a,["endpoint"],r),a}function BC(o,n){const a={};if(u(o,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(o,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const l=u(o,["examples"]);if(l!=null){let r=l;Array.isArray(r)&&(r=r.map(c=>c)),d(a,["examples","examples"],r)}return a}function GC(o,n,a){const l={},r=u(o,["gcsUri"]);n!==void 0&&r!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],r);const c=u(o,["vertexDatasetResource"]);if(n!==void 0&&c!=null&&d(n,["supervisedTuningSpec","trainingDatasetUri"],c),u(o,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return l}function Yg(o,n){const a={},l=u(o,["sdkHttpResponse"]);l!=null&&d(a,["sdkHttpResponse"],l);const r=u(o,["name"]);r!=null&&d(a,["name"],r);const c=u(o,["state"]);c!=null&&d(a,["state"],bg(c));const h=u(o,["createTime"]);h!=null&&d(a,["createTime"],h);const p=u(o,["tuningTask","startTime"]);p!=null&&d(a,["startTime"],p);const y=u(o,["tuningTask","completeTime"]);y!=null&&d(a,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&d(a,["updateTime"],m);const _=u(o,["description"]);_!=null&&d(a,["description"],_);const S=u(o,["baseModel"]);S!=null&&d(a,["baseModel"],S);const A=u(o,["_self"]);return A!=null&&d(a,["tunedModel"],PC(A)),a}function Uf(o,n){const a={},l=u(o,["sdkHttpResponse"]);l!=null&&d(a,["sdkHttpResponse"],l);const r=u(o,["name"]);r!=null&&d(a,["name"],r);const c=u(o,["state"]);c!=null&&d(a,["state"],bg(c));const h=u(o,["createTime"]);h!=null&&d(a,["createTime"],h);const p=u(o,["startTime"]);p!=null&&d(a,["startTime"],p);const y=u(o,["endTime"]);y!=null&&d(a,["endTime"],y);const m=u(o,["updateTime"]);m!=null&&d(a,["updateTime"],m);const _=u(o,["error"]);_!=null&&d(a,["error"],_);const S=u(o,["description"]);S!=null&&d(a,["description"],S);const A=u(o,["baseModel"]);A!=null&&d(a,["baseModel"],A);const x=u(o,["tunedModel"]);x!=null&&d(a,["tunedModel"],x);const M=u(o,["preTunedModel"]);M!=null&&d(a,["preTunedModel"],M);const b=u(o,["supervisedTuningSpec"]);b!=null&&d(a,["supervisedTuningSpec"],b);const I=u(o,["tuningDataStats"]);I!=null&&d(a,["tuningDataStats"],I);const R=u(o,["encryptionSpec"]);R!=null&&d(a,["encryptionSpec"],R);const k=u(o,["partnerModelTuningSpec"]);k!=null&&d(a,["partnerModelTuningSpec"],k);const z=u(o,["customBaseModel"]);z!=null&&d(a,["customBaseModel"],z);const H=u(o,["experiment"]);H!=null&&d(a,["experiment"],H);const O=u(o,["labels"]);O!=null&&d(a,["labels"],O);const W=u(o,["outputUri"]);W!=null&&d(a,["outputUri"],W);const J=u(o,["pipelineJob"]);J!=null&&d(a,["pipelineJob"],J);const de=u(o,["serviceAccount"]);de!=null&&d(a,["serviceAccount"],de);const Z=u(o,["tunedModelDisplayName"]);Z!=null&&d(a,["tunedModelDisplayName"],Z);const ge=u(o,["veoTuningSpec"]);return ge!=null&&d(a,["veoTuningSpec"],ge),a}function VC(o,n){const a={},l=u(o,["sdkHttpResponse"]);l!=null&&d(a,["sdkHttpResponse"],l);const r=u(o,["name"]);r!=null&&d(a,["name"],r);const c=u(o,["metadata"]);c!=null&&d(a,["metadata"],c);const h=u(o,["done"]);h!=null&&d(a,["done"],h);const p=u(o,["error"]);return p!=null&&d(a,["error"],p),a}function qC(o,n){const a={},l=u(o,["gcsUri"]);l!=null&&d(a,["validationDatasetUri"],l);const r=u(o,["vertexDatasetResource"]);return r!=null&&d(a,["validationDatasetUri"],r),a}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class HC extends pa{constructor(n){super(),this.apiClient=n,this.get=async a=>await this.getInternal(a),this.list=async(a={})=>new zl(ha.PAGED_ITEM_TUNING_JOBS,l=>this.listInternal(l),await this.listInternal(a),a),this.tune=async a=>{var l;if(this.apiClient.isVertexAI())if(a.baseModel.startsWith("projects/")){const r={tunedModelName:a.baseModel};!((l=a.config)===null||l===void 0)&&l.preTunedModelCheckpointId&&(r.checkpointId=a.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},a),{preTunedModel:r});return c.baseModel=void 0,await this.tuneInternal(c)}else{const r=Object.assign({},a);return await this.tuneInternal(r)}else{const r=Object.assign({},a),c=await this.tuneMldevInternal(r);let h="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?h=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(h=c.name.split("/operations/")[0]),{name:h,state:wf.JOB_STATE_QUEUED}}}}async getInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=MC(n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>Uf(_))}else{const m=RC(n);return p=Pe("{name}",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>Yg(_))}}async listInternal(n){var a,l,r,c;let h,p="",y={};if(this.apiClient.isVertexAI()){const m=UC(n);return p=Pe("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=LC(_),A=new Hm;return Object.assign(A,S),A})}else{const m=kC(n);return p=Pe("tunedModels",m._url),y=m._query,delete m._url,delete m._query,h=this.apiClient.request({path:p,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal}).then(_=>_.json().then(S=>{const A=S;return A.sdkHttpResponse={headers:_.headers},A})),h.then(_=>{const S=zC(_),A=new Hm;return Object.assign(A,S),A})}}async cancel(n){var a,l,r,c;let h="",p={};if(this.apiClient.isVertexAI()){const y=EC(n);h=Pe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal})}else{const y=AC(n);h=Pe("{name}:cancel",y._url),p=y._query,delete y._url,delete y._query,await this.apiClient.request({path:h,queryParams:p,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(r=n.config)===null||r===void 0?void 0:r.httpOptions,abortSignal:(c=n.config)===null||c===void 0?void 0:c.abortSignal})}}async tuneInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI()){const p=NC(n);return c=Pe("tuningJobs",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>Uf(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(n){var a,l;let r,c="",h={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const p=wC(n);return c=Pe("tunedModels",p._url),h=p._query,delete p._url,delete p._query,r=this.apiClient.request({path:c,queryParams:h,body:JSON.stringify(p),httpMethod:"POST",httpOptions:(a=n.config)===null||a===void 0?void 0:a.httpOptions,abortSignal:(l=n.config)===null||l===void 0?void 0:l.abortSignal}).then(y=>y.json().then(m=>{const _=m;return _.sdkHttpResponse={headers:y.headers},_})),r.then(y=>VC(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class OC{async download(n,a){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const FC=1024*1024*8,YC=3,JC=1e3,KC=2,Cf="x-goog-upload-status";async function jC(o,n,a){var l,r,c;let h=0,p=0,y=new Nf(new Response),m="upload";for(h=o.size;p<h;){const S=Math.min(FC,h-p),A=o.slice(p,p+S);p+S>=h&&(m+=", finalize");let x=0,M=JC;for(;x<YC&&(y=await a.request({path:"",body:A,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:n,headers:{"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":String(p),"Content-Length":String(S)}}}),!(!((l=y==null?void 0:y.headers)===null||l===void 0)&&l[Cf]));)x++,await XC(M),M=M*KC;if(p+=S,((r=y==null?void 0:y.headers)===null||r===void 0?void 0:r[Cf])!=="active")break;if(h<=p)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const _=await(y==null?void 0:y.json());if(((c=y==null?void 0:y.headers)===null||c===void 0?void 0:c[Cf])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return _.file}async function ZC(o){return{size:o.size,type:o.type}}function XC(o){return new Promise(n=>setTimeout(n,o))}class QC{async upload(n,a,l){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await jC(n,a,l)}async stat(n){if(typeof n=="string")throw new Error("File path is not supported in browser uploader.");return await ZC(n)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class $C{create(n,a,l){return new WC(n,a,l)}}class WC{constructor(n,a,l){this.url=n,this.headers=a,this.callbacks=l}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(n){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(n)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const rg="x-goog-api-key";class eA{constructor(n){this.apiKey=n}async addAuthHeaders(n,a){if(n.get(rg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");n.append(rg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tA="gl-node/";class fu{constructor(n){var a;if(n.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(n.project||n.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(a=n.vertexai)!==null&&a!==void 0?a:!1,this.apiKey=n.apiKey;const l=Sv(n.httpOptions,n.vertexai,void 0,void 0);l&&(n.httpOptions?n.httpOptions.baseUrl=l:n.httpOptions={baseUrl:l}),this.apiVersion=n.apiVersion;const r=new eA(this.apiKey);this.apiClient=new VT({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:n.httpOptions,userAgentExtra:tA+"web",uploader:new QC,downloader:new OC}),this.models=new sC(this.apiClient),this.live=new WT(this.apiClient,r,new $C),this.batches=new G0(this.apiClient),this.chats=new y_(this.models,this.apiClient),this.caches=new p_(this.apiClient),this.files=new w_(this.apiClient),this.operations=new lC(this.apiClient),this.authTokens=new CC(this.apiClient),this.tunings=new HC(this.apiClient)}}function du(o){throw new Error('Could not dynamically require "'+o+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Af={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ug;function nA(){return ug||(ug=1,(function(o,n){(function(a){o.exports=a()})(function(){return(function a(l,r,c){function h(m,_){if(!r[m]){if(!l[m]){var S=typeof du=="function"&&du;if(!_&&S)return S(m,!0);if(p)return p(m,!0);var A=new Error("Cannot find module '"+m+"'");throw A.code="MODULE_NOT_FOUND",A}var x=r[m]={exports:{}};l[m][0].call(x.exports,function(M){var b=l[m][1][M];return h(b||M)},x,x.exports,a,l,r,c)}return r[m].exports}for(var p=typeof du=="function"&&du,y=0;y<c.length;y++)h(c[y]);return h})({1:[function(a,l,r){var c=a("./utils"),h=a("./support"),p="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(y){for(var m,_,S,A,x,M,b,I=[],R=0,k=y.length,z=k,H=c.getTypeOf(y)!=="string";R<y.length;)z=k-R,S=H?(m=y[R++],_=R<k?y[R++]:0,R<k?y[R++]:0):(m=y.charCodeAt(R++),_=R<k?y.charCodeAt(R++):0,R<k?y.charCodeAt(R++):0),A=m>>2,x=(3&m)<<4|_>>4,M=1<z?(15&_)<<2|S>>6:64,b=2<z?63&S:64,I.push(p.charAt(A)+p.charAt(x)+p.charAt(M)+p.charAt(b));return I.join("")},r.decode=function(y){var m,_,S,A,x,M,b=0,I=0,R="data:";if(y.substr(0,R.length)===R)throw new Error("Invalid base64 input, it looks like a data url.");var k,z=3*(y=y.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(y.charAt(y.length-1)===p.charAt(64)&&z--,y.charAt(y.length-2)===p.charAt(64)&&z--,z%1!=0)throw new Error("Invalid base64 input, bad content length.");for(k=h.uint8array?new Uint8Array(0|z):new Array(0|z);b<y.length;)m=p.indexOf(y.charAt(b++))<<2|(A=p.indexOf(y.charAt(b++)))>>4,_=(15&A)<<4|(x=p.indexOf(y.charAt(b++)))>>2,S=(3&x)<<6|(M=p.indexOf(y.charAt(b++))),k[I++]=m,x!==64&&(k[I++]=_),M!==64&&(k[I++]=S);return k}},{"./support":30,"./utils":32}],2:[function(a,l,r){var c=a("./external"),h=a("./stream/DataWorker"),p=a("./stream/Crc32Probe"),y=a("./stream/DataLengthProbe");function m(_,S,A,x,M){this.compressedSize=_,this.uncompressedSize=S,this.crc32=A,this.compression=x,this.compressedContent=M}m.prototype={getContentWorker:function(){var _=new h(c.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new y("data_length")),S=this;return _.on("end",function(){if(this.streamInfo.data_length!==S.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),_},getCompressedWorker:function(){return new h(c.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},m.createWorkerFrom=function(_,S,A){return _.pipe(new p).pipe(new y("uncompressedSize")).pipe(S.compressWorker(A)).pipe(new y("compressedSize")).withStreamInfo("compression",S)},l.exports=m},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(a,l,r){var c=a("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new c("STORE compression")},uncompressWorker:function(){return new c("STORE decompression")}},r.DEFLATE=a("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(a,l,r){var c=a("./utils"),h=(function(){for(var p,y=[],m=0;m<256;m++){p=m;for(var _=0;_<8;_++)p=1&p?3988292384^p>>>1:p>>>1;y[m]=p}return y})();l.exports=function(p,y){return p!==void 0&&p.length?c.getTypeOf(p)!=="string"?(function(m,_,S,A){var x=h,M=A+S;m^=-1;for(var b=A;b<M;b++)m=m>>>8^x[255&(m^_[b])];return-1^m})(0|y,p,p.length,0):(function(m,_,S,A){var x=h,M=A+S;m^=-1;for(var b=A;b<M;b++)m=m>>>8^x[255&(m^_.charCodeAt(b))];return-1^m})(0|y,p,p.length,0):0}},{"./utils":32}],5:[function(a,l,r){r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(a,l,r){var c=null;c=typeof Promise<"u"?Promise:a("lie"),l.exports={Promise:c}},{lie:37}],7:[function(a,l,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",h=a("pako"),p=a("./utils"),y=a("./stream/GenericWorker"),m=c?"uint8array":"array";function _(S,A){y.call(this,"FlateWorker/"+S),this._pako=null,this._pakoAction=S,this._pakoOptions=A,this.meta={}}r.magic="\b\0",p.inherits(_,y),_.prototype.processChunk=function(S){this.meta=S.meta,this._pako===null&&this._createPako(),this._pako.push(p.transformTo(m,S.data),!1)},_.prototype.flush=function(){y.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},_.prototype.cleanUp=function(){y.prototype.cleanUp.call(this),this._pako=null},_.prototype._createPako=function(){this._pako=new h[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var S=this;this._pako.onData=function(A){S.push({data:A,meta:S.meta})}},r.compressWorker=function(S){return new _("Deflate",S)},r.uncompressWorker=function(){return new _("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(a,l,r){function c(x,M){var b,I="";for(b=0;b<M;b++)I+=String.fromCharCode(255&x),x>>>=8;return I}function h(x,M,b,I,R,k){var z,H,O=x.file,W=x.compression,J=k!==m.utf8encode,de=p.transformTo("string",k(O.name)),Z=p.transformTo("string",m.utf8encode(O.name)),ge=O.comment,Me=p.transformTo("string",k(ge)),V=p.transformTo("string",m.utf8encode(ge)),se=Z.length!==O.name.length,w=V.length!==ge.length,he="",j="",Q="",Ee=O.dir,ye=O.date,Re={crc32:0,compressedSize:0,uncompressedSize:0};M&&!b||(Re.crc32=x.crc32,Re.compressedSize=x.compressedSize,Re.uncompressedSize=x.uncompressedSize);var D=0;M&&(D|=8),J||!se&&!w||(D|=2048);var B=0,ce=0;Ee&&(B|=16),R==="UNIX"?(ce=798,B|=(function(pe,Ue){var Oe=pe;return pe||(Oe=Ue?16893:33204),(65535&Oe)<<16})(O.unixPermissions,Ee)):(ce=20,B|=(function(pe){return 63&(pe||0)})(O.dosPermissions)),z=ye.getUTCHours(),z<<=6,z|=ye.getUTCMinutes(),z<<=5,z|=ye.getUTCSeconds()/2,H=ye.getUTCFullYear()-1980,H<<=4,H|=ye.getUTCMonth()+1,H<<=5,H|=ye.getUTCDate(),se&&(j=c(1,1)+c(_(de),4)+Z,he+="up"+c(j.length,2)+j),w&&(Q=c(1,1)+c(_(Me),4)+V,he+="uc"+c(Q.length,2)+Q);var re="";return re+=`
\0`,re+=c(D,2),re+=W.magic,re+=c(z,2),re+=c(H,2),re+=c(Re.crc32,4),re+=c(Re.compressedSize,4),re+=c(Re.uncompressedSize,4),re+=c(de.length,2),re+=c(he.length,2),{fileRecord:S.LOCAL_FILE_HEADER+re+de+he,dirRecord:S.CENTRAL_FILE_HEADER+c(ce,2)+re+c(Me.length,2)+"\0\0\0\0"+c(B,4)+c(I,4)+de+he+Me}}var p=a("../utils"),y=a("../stream/GenericWorker"),m=a("../utf8"),_=a("../crc32"),S=a("../signature");function A(x,M,b,I){y.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=M,this.zipPlatform=b,this.encodeFileName=I,this.streamFiles=x,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}p.inherits(A,y),A.prototype.push=function(x){var M=x.meta.percent||0,b=this.entriesCount,I=this._sources.length;this.accumulate?this.contentBuffer.push(x):(this.bytesWritten+=x.data.length,y.prototype.push.call(this,{data:x.data,meta:{currentFile:this.currentFile,percent:b?(M+100*(b-I-1))/b:100}}))},A.prototype.openedSource=function(x){this.currentSourceOffset=this.bytesWritten,this.currentFile=x.file.name;var M=this.streamFiles&&!x.file.dir;if(M){var b=h(x,M,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:b.fileRecord,meta:{percent:0}})}else this.accumulate=!0},A.prototype.closedSource=function(x){this.accumulate=!1;var M=this.streamFiles&&!x.file.dir,b=h(x,M,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(b.dirRecord),M)this.push({data:(function(I){return S.DATA_DESCRIPTOR+c(I.crc32,4)+c(I.compressedSize,4)+c(I.uncompressedSize,4)})(x),meta:{percent:100}});else for(this.push({data:b.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},A.prototype.flush=function(){for(var x=this.bytesWritten,M=0;M<this.dirRecords.length;M++)this.push({data:this.dirRecords[M],meta:{percent:100}});var b=this.bytesWritten-x,I=(function(R,k,z,H,O){var W=p.transformTo("string",O(H));return S.CENTRAL_DIRECTORY_END+"\0\0\0\0"+c(R,2)+c(R,2)+c(k,4)+c(z,4)+c(W.length,2)+W})(this.dirRecords.length,b,x,this.zipComment,this.encodeFileName);this.push({data:I,meta:{percent:100}})},A.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},A.prototype.registerPrevious=function(x){this._sources.push(x);var M=this;return x.on("data",function(b){M.processChunk(b)}),x.on("end",function(){M.closedSource(M.previous.streamInfo),M._sources.length?M.prepareNextSource():M.end()}),x.on("error",function(b){M.error(b)}),this},A.prototype.resume=function(){return!!y.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},A.prototype.error=function(x){var M=this._sources;if(!y.prototype.error.call(this,x))return!1;for(var b=0;b<M.length;b++)try{M[b].error(x)}catch{}return!0},A.prototype.lock=function(){y.prototype.lock.call(this);for(var x=this._sources,M=0;M<x.length;M++)x[M].lock()},l.exports=A},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(a,l,r){var c=a("../compressions"),h=a("./ZipFileWorker");r.generateWorker=function(p,y,m){var _=new h(y.streamFiles,m,y.platform,y.encodeFileName),S=0;try{p.forEach(function(A,x){S++;var M=(function(k,z){var H=k||z,O=c[H];if(!O)throw new Error(H+" is not a valid compression method !");return O})(x.options.compression,y.compression),b=x.options.compressionOptions||y.compressionOptions||{},I=x.dir,R=x.date;x._compressWorker(M,b).withStreamInfo("file",{name:A,dir:I,date:R,comment:x.comment||"",unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions}).pipe(_)}),_.entriesCount=S}catch(A){_.error(A)}return _}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(a,l,r){function c(){if(!(this instanceof c))return new c;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var h=new c;for(var p in this)typeof this[p]!="function"&&(h[p]=this[p]);return h}}(c.prototype=a("./object")).loadAsync=a("./load"),c.support=a("./support"),c.defaults=a("./defaults"),c.version="3.10.1",c.loadAsync=function(h,p){return new c().loadAsync(h,p)},c.external=a("./external"),l.exports=c},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(a,l,r){var c=a("./utils"),h=a("./external"),p=a("./utf8"),y=a("./zipEntries"),m=a("./stream/Crc32Probe"),_=a("./nodejsUtils");function S(A){return new h.Promise(function(x,M){var b=A.decompressed.getContentWorker().pipe(new m);b.on("error",function(I){M(I)}).on("end",function(){b.streamInfo.crc32!==A.decompressed.crc32?M(new Error("Corrupted zip : CRC32 mismatch")):x()}).resume()})}l.exports=function(A,x){var M=this;return x=c.extend(x||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:p.utf8decode}),_.isNode&&_.isStream(A)?h.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):c.prepareContent("the loaded zip file",A,!0,x.optimizedBinaryString,x.base64).then(function(b){var I=new y(x);return I.load(b),I}).then(function(b){var I=[h.Promise.resolve(b)],R=b.files;if(x.checkCRC32)for(var k=0;k<R.length;k++)I.push(S(R[k]));return h.Promise.all(I)}).then(function(b){for(var I=b.shift(),R=I.files,k=0;k<R.length;k++){var z=R[k],H=z.fileNameStr,O=c.resolve(z.fileNameStr);M.file(O,z.decompressed,{binary:!0,optimizedBinaryString:!0,date:z.date,dir:z.dir,comment:z.fileCommentStr.length?z.fileCommentStr:null,unixPermissions:z.unixPermissions,dosPermissions:z.dosPermissions,createFolders:x.createFolders}),z.dir||(M.file(O).unsafeOriginalName=H)}return I.zipComment.length&&(M.comment=I.zipComment),M})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(a,l,r){var c=a("../utils"),h=a("../stream/GenericWorker");function p(y,m){h.call(this,"Nodejs stream input adapter for "+y),this._upstreamEnded=!1,this._bindStream(m)}c.inherits(p,h),p.prototype._bindStream=function(y){var m=this;(this._stream=y).pause(),y.on("data",function(_){m.push({data:_,meta:{percent:0}})}).on("error",function(_){m.isPaused?this.generatedError=_:m.error(_)}).on("end",function(){m.isPaused?m._upstreamEnded=!0:m.end()})},p.prototype.pause=function(){return!!h.prototype.pause.call(this)&&(this._stream.pause(),!0)},p.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},l.exports=p},{"../stream/GenericWorker":28,"../utils":32}],13:[function(a,l,r){var c=a("readable-stream").Readable;function h(p,y,m){c.call(this,y),this._helper=p;var _=this;p.on("data",function(S,A){_.push(S)||_._helper.pause(),m&&m(A)}).on("error",function(S){_.emit("error",S)}).on("end",function(){_.push(null)})}a("../utils").inherits(h,c),h.prototype._read=function(){this._helper.resume()},l.exports=h},{"../utils":32,"readable-stream":16}],14:[function(a,l,r){l.exports={isNode:typeof Buffer<"u",newBufferFrom:function(c,h){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(c,h);if(typeof c=="number")throw new Error('The "data" argument must not be a number');return new Buffer(c,h)},allocBuffer:function(c){if(Buffer.alloc)return Buffer.alloc(c);var h=new Buffer(c);return h.fill(0),h},isBuffer:function(c){return Buffer.isBuffer(c)},isStream:function(c){return c&&typeof c.on=="function"&&typeof c.pause=="function"&&typeof c.resume=="function"}}},{}],15:[function(a,l,r){function c(O,W,J){var de,Z=p.getTypeOf(W),ge=p.extend(J||{},_);ge.date=ge.date||new Date,ge.compression!==null&&(ge.compression=ge.compression.toUpperCase()),typeof ge.unixPermissions=="string"&&(ge.unixPermissions=parseInt(ge.unixPermissions,8)),ge.unixPermissions&&16384&ge.unixPermissions&&(ge.dir=!0),ge.dosPermissions&&16&ge.dosPermissions&&(ge.dir=!0),ge.dir&&(O=R(O)),ge.createFolders&&(de=I(O))&&k.call(this,de,!0);var Me=Z==="string"&&ge.binary===!1&&ge.base64===!1;J&&J.binary!==void 0||(ge.binary=!Me),(W instanceof S&&W.uncompressedSize===0||ge.dir||!W||W.length===0)&&(ge.base64=!1,ge.binary=!0,W="",ge.compression="STORE",Z="string");var V=null;V=W instanceof S||W instanceof y?W:M.isNode&&M.isStream(W)?new b(O,W):p.prepareContent(O,W,ge.binary,ge.optimizedBinaryString,ge.base64);var se=new A(O,V,ge);this.files[O]=se}var h=a("./utf8"),p=a("./utils"),y=a("./stream/GenericWorker"),m=a("./stream/StreamHelper"),_=a("./defaults"),S=a("./compressedObject"),A=a("./zipObject"),x=a("./generate"),M=a("./nodejsUtils"),b=a("./nodejs/NodejsStreamInputAdapter"),I=function(O){O.slice(-1)==="/"&&(O=O.substring(0,O.length-1));var W=O.lastIndexOf("/");return 0<W?O.substring(0,W):""},R=function(O){return O.slice(-1)!=="/"&&(O+="/"),O},k=function(O,W){return W=W!==void 0?W:_.createFolders,O=R(O),this.files[O]||c.call(this,O,null,{dir:!0,createFolders:W}),this.files[O]};function z(O){return Object.prototype.toString.call(O)==="[object RegExp]"}var H={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(O){var W,J,de;for(W in this.files)de=this.files[W],(J=W.slice(this.root.length,W.length))&&W.slice(0,this.root.length)===this.root&&O(J,de)},filter:function(O){var W=[];return this.forEach(function(J,de){O(J,de)&&W.push(de)}),W},file:function(O,W,J){if(arguments.length!==1)return O=this.root+O,c.call(this,O,W,J),this;if(z(O)){var de=O;return this.filter(function(ge,Me){return!Me.dir&&de.test(ge)})}var Z=this.files[this.root+O];return Z&&!Z.dir?Z:null},folder:function(O){if(!O)return this;if(z(O))return this.filter(function(Z,ge){return ge.dir&&O.test(Z)});var W=this.root+O,J=k.call(this,W),de=this.clone();return de.root=J.name,de},remove:function(O){O=this.root+O;var W=this.files[O];if(W||(O.slice(-1)!=="/"&&(O+="/"),W=this.files[O]),W&&!W.dir)delete this.files[O];else for(var J=this.filter(function(Z,ge){return ge.name.slice(0,O.length)===O}),de=0;de<J.length;de++)delete this.files[J[de].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(O){var W,J={};try{if((J=p.extend(O||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:h.utf8encode})).type=J.type.toLowerCase(),J.compression=J.compression.toUpperCase(),J.type==="binarystring"&&(J.type="string"),!J.type)throw new Error("No output type specified.");p.checkSupport(J.type),J.platform!=="darwin"&&J.platform!=="freebsd"&&J.platform!=="linux"&&J.platform!=="sunos"||(J.platform="UNIX"),J.platform==="win32"&&(J.platform="DOS");var de=J.comment||this.comment||"";W=x.generateWorker(this,J,de)}catch(Z){(W=new y("error")).error(Z)}return new m(W,J.type||"string",J.mimeType)},generateAsync:function(O,W){return this.generateInternalStream(O).accumulate(W)},generateNodeStream:function(O,W){return(O=O||{}).type||(O.type="nodebuffer"),this.generateInternalStream(O).toNodejsStream(W)}};l.exports=H},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(a,l,r){l.exports=a("stream")},{stream:void 0}],17:[function(a,l,r){var c=a("./DataReader");function h(p){c.call(this,p);for(var y=0;y<this.data.length;y++)p[y]=255&p[y]}a("../utils").inherits(h,c),h.prototype.byteAt=function(p){return this.data[this.zero+p]},h.prototype.lastIndexOfSignature=function(p){for(var y=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),A=this.length-4;0<=A;--A)if(this.data[A]===y&&this.data[A+1]===m&&this.data[A+2]===_&&this.data[A+3]===S)return A-this.zero;return-1},h.prototype.readAndCheckSignature=function(p){var y=p.charCodeAt(0),m=p.charCodeAt(1),_=p.charCodeAt(2),S=p.charCodeAt(3),A=this.readData(4);return y===A[0]&&m===A[1]&&_===A[2]&&S===A[3]},h.prototype.readData=function(p){if(this.checkOffset(p),p===0)return[];var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},l.exports=h},{"../utils":32,"./DataReader":18}],18:[function(a,l,r){var c=a("../utils");function h(p){this.data=p,this.length=p.length,this.index=0,this.zero=0}h.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var y,m=0;for(this.checkOffset(p),y=this.index+p-1;y>=this.index;y--)m=(m<<8)+this.byteAt(y);return this.index+=p,m},readString:function(p){return c.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},l.exports=h},{"../utils":32}],19:[function(a,l,r){var c=a("./Uint8ArrayReader");function h(p){c.call(this,p)}a("../utils").inherits(h,c),h.prototype.readData=function(p){this.checkOffset(p);var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},l.exports=h},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(a,l,r){var c=a("./DataReader");function h(p){c.call(this,p)}a("../utils").inherits(h,c),h.prototype.byteAt=function(p){return this.data.charCodeAt(this.zero+p)},h.prototype.lastIndexOfSignature=function(p){return this.data.lastIndexOf(p)-this.zero},h.prototype.readAndCheckSignature=function(p){return p===this.readData(4)},h.prototype.readData=function(p){this.checkOffset(p);var y=this.data.slice(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},l.exports=h},{"../utils":32,"./DataReader":18}],21:[function(a,l,r){var c=a("./ArrayReader");function h(p){c.call(this,p)}a("../utils").inherits(h,c),h.prototype.readData=function(p){if(this.checkOffset(p),p===0)return new Uint8Array(0);var y=this.data.subarray(this.zero+this.index,this.zero+this.index+p);return this.index+=p,y},l.exports=h},{"../utils":32,"./ArrayReader":17}],22:[function(a,l,r){var c=a("../utils"),h=a("../support"),p=a("./ArrayReader"),y=a("./StringReader"),m=a("./NodeBufferReader"),_=a("./Uint8ArrayReader");l.exports=function(S){var A=c.getTypeOf(S);return c.checkSupport(A),A!=="string"||h.uint8array?A==="nodebuffer"?new m(S):h.uint8array?new _(c.transformTo("uint8array",S)):new p(c.transformTo("array",S)):new y(S)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(a,l,r){r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(a,l,r){var c=a("./GenericWorker"),h=a("../utils");function p(y){c.call(this,"ConvertWorker to "+y),this.destType=y}h.inherits(p,c),p.prototype.processChunk=function(y){this.push({data:h.transformTo(this.destType,y.data),meta:y.meta})},l.exports=p},{"../utils":32,"./GenericWorker":28}],25:[function(a,l,r){var c=a("./GenericWorker"),h=a("../crc32");function p(){c.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}a("../utils").inherits(p,c),p.prototype.processChunk=function(y){this.streamInfo.crc32=h(y.data,this.streamInfo.crc32||0),this.push(y)},l.exports=p},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(a,l,r){var c=a("../utils"),h=a("./GenericWorker");function p(y){h.call(this,"DataLengthProbe for "+y),this.propName=y,this.withStreamInfo(y,0)}c.inherits(p,h),p.prototype.processChunk=function(y){if(y){var m=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=m+y.data.length}h.prototype.processChunk.call(this,y)},l.exports=p},{"../utils":32,"./GenericWorker":28}],27:[function(a,l,r){var c=a("../utils"),h=a("./GenericWorker");function p(y){h.call(this,"DataWorker");var m=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,y.then(function(_){m.dataIsReady=!0,m.data=_,m.max=_&&_.length||0,m.type=c.getTypeOf(_),m.isPaused||m._tickAndRepeat()},function(_){m.error(_)})}c.inherits(p,h),p.prototype.cleanUp=function(){h.prototype.cleanUp.call(this),this.data=null},p.prototype.resume=function(){return!!h.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,c.delay(this._tickAndRepeat,[],this)),!0)},p.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(c.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},p.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var y=null,m=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":y=this.data.substring(this.index,m);break;case"uint8array":y=this.data.subarray(this.index,m);break;case"array":case"nodebuffer":y=this.data.slice(this.index,m)}return this.index=m,this.push({data:y,meta:{percent:this.max?this.index/this.max*100:0}})},l.exports=p},{"../utils":32,"./GenericWorker":28}],28:[function(a,l,r){function c(h){this.name=h||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}c.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,p){return this._listeners[h].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,p){if(this._listeners[h])for(var y=0;y<this._listeners[h].length;y++)this._listeners[h][y].call(this,p)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var p=this;return h.on("data",function(y){p.processChunk(y)}),h.on("end",function(){p.end()}),h.on("error",function(y){p.error(y)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,p){return this.extraStreamInfo[h]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},l.exports=c},{}],29:[function(a,l,r){var c=a("../utils"),h=a("./ConvertWorker"),p=a("./GenericWorker"),y=a("../base64"),m=a("../support"),_=a("../external"),S=null;if(m.nodestream)try{S=a("../nodejs/NodejsStreamOutputAdapter")}catch{}function A(M,b){return new _.Promise(function(I,R){var k=[],z=M._internalType,H=M._outputType,O=M._mimeType;M.on("data",function(W,J){k.push(W),b&&b(J)}).on("error",function(W){k=[],R(W)}).on("end",function(){try{var W=(function(J,de,Z){switch(J){case"blob":return c.newBlob(c.transformTo("arraybuffer",de),Z);case"base64":return y.encode(de);default:return c.transformTo(J,de)}})(H,(function(J,de){var Z,ge=0,Me=null,V=0;for(Z=0;Z<de.length;Z++)V+=de[Z].length;switch(J){case"string":return de.join("");case"array":return Array.prototype.concat.apply([],de);case"uint8array":for(Me=new Uint8Array(V),Z=0;Z<de.length;Z++)Me.set(de[Z],ge),ge+=de[Z].length;return Me;case"nodebuffer":return Buffer.concat(de);default:throw new Error("concat : unsupported type '"+J+"'")}})(z,k),O);I(W)}catch(J){R(J)}k=[]}).resume()})}function x(M,b,I){var R=b;switch(b){case"blob":case"arraybuffer":R="uint8array";break;case"base64":R="string"}try{this._internalType=R,this._outputType=b,this._mimeType=I,c.checkSupport(R),this._worker=M.pipe(new h(R)),M.lock()}catch(k){this._worker=new p("error"),this._worker.error(k)}}x.prototype={accumulate:function(M){return A(this,M)},on:function(M,b){var I=this;return M==="data"?this._worker.on(M,function(R){b.call(I,R.data,R.meta)}):this._worker.on(M,function(){c.delay(b,arguments,I)}),this},resume:function(){return c.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(M){if(c.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new S(this,{objectMode:this._outputType!=="nodebuffer"},M)}},l.exports=x},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(a,l,r){if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",r.nodebuffer=typeof Buffer<"u",r.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")r.blob=!1;else{var c=new ArrayBuffer(0);try{r.blob=new Blob([c],{type:"application/zip"}).size===0}catch{try{var h=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);h.append(c),r.blob=h.getBlob("application/zip").size===0}catch{r.blob=!1}}}try{r.nodestream=!!a("readable-stream").Readable}catch{r.nodestream=!1}},{"readable-stream":16}],31:[function(a,l,r){for(var c=a("./utils"),h=a("./support"),p=a("./nodejsUtils"),y=a("./stream/GenericWorker"),m=new Array(256),_=0;_<256;_++)m[_]=252<=_?6:248<=_?5:240<=_?4:224<=_?3:192<=_?2:1;m[254]=m[254]=1;function S(){y.call(this,"utf-8 decode"),this.leftOver=null}function A(){y.call(this,"utf-8 encode")}r.utf8encode=function(x){return h.nodebuffer?p.newBufferFrom(x,"utf-8"):(function(M){var b,I,R,k,z,H=M.length,O=0;for(k=0;k<H;k++)(64512&(I=M.charCodeAt(k)))==55296&&k+1<H&&(64512&(R=M.charCodeAt(k+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),k++),O+=I<128?1:I<2048?2:I<65536?3:4;for(b=h.uint8array?new Uint8Array(O):new Array(O),k=z=0;z<O;k++)(64512&(I=M.charCodeAt(k)))==55296&&k+1<H&&(64512&(R=M.charCodeAt(k+1)))==56320&&(I=65536+(I-55296<<10)+(R-56320),k++),I<128?b[z++]=I:(I<2048?b[z++]=192|I>>>6:(I<65536?b[z++]=224|I>>>12:(b[z++]=240|I>>>18,b[z++]=128|I>>>12&63),b[z++]=128|I>>>6&63),b[z++]=128|63&I);return b})(x)},r.utf8decode=function(x){return h.nodebuffer?c.transformTo("nodebuffer",x).toString("utf-8"):(function(M){var b,I,R,k,z=M.length,H=new Array(2*z);for(b=I=0;b<z;)if((R=M[b++])<128)H[I++]=R;else if(4<(k=m[R]))H[I++]=65533,b+=k-1;else{for(R&=k===2?31:k===3?15:7;1<k&&b<z;)R=R<<6|63&M[b++],k--;1<k?H[I++]=65533:R<65536?H[I++]=R:(R-=65536,H[I++]=55296|R>>10&1023,H[I++]=56320|1023&R)}return H.length!==I&&(H.subarray?H=H.subarray(0,I):H.length=I),c.applyFromCharCode(H)})(x=c.transformTo(h.uint8array?"uint8array":"array",x))},c.inherits(S,y),S.prototype.processChunk=function(x){var M=c.transformTo(h.uint8array?"uint8array":"array",x.data);if(this.leftOver&&this.leftOver.length){if(h.uint8array){var b=M;(M=new Uint8Array(b.length+this.leftOver.length)).set(this.leftOver,0),M.set(b,this.leftOver.length)}else M=this.leftOver.concat(M);this.leftOver=null}var I=(function(k,z){var H;for((z=z||k.length)>k.length&&(z=k.length),H=z-1;0<=H&&(192&k[H])==128;)H--;return H<0||H===0?z:H+m[k[H]]>z?H:z})(M),R=M;I!==M.length&&(h.uint8array?(R=M.subarray(0,I),this.leftOver=M.subarray(I,M.length)):(R=M.slice(0,I),this.leftOver=M.slice(I,M.length))),this.push({data:r.utf8decode(R),meta:x.meta})},S.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=S,c.inherits(A,y),A.prototype.processChunk=function(x){this.push({data:r.utf8encode(x.data),meta:x.meta})},r.Utf8EncodeWorker=A},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(a,l,r){var c=a("./support"),h=a("./base64"),p=a("./nodejsUtils"),y=a("./external");function m(b){return b}function _(b,I){for(var R=0;R<b.length;++R)I[R]=255&b.charCodeAt(R);return I}a("setimmediate"),r.newBlob=function(b,I){r.checkSupport("blob");try{return new Blob([b],{type:I})}catch{try{var R=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return R.append(b),R.getBlob(I)}catch{throw new Error("Bug : can't construct the Blob.")}}};var S={stringifyByChunk:function(b,I,R){var k=[],z=0,H=b.length;if(H<=R)return String.fromCharCode.apply(null,b);for(;z<H;)I==="array"||I==="nodebuffer"?k.push(String.fromCharCode.apply(null,b.slice(z,Math.min(z+R,H)))):k.push(String.fromCharCode.apply(null,b.subarray(z,Math.min(z+R,H)))),z+=R;return k.join("")},stringifyByChar:function(b){for(var I="",R=0;R<b.length;R++)I+=String.fromCharCode(b[R]);return I},applyCanBeUsed:{uint8array:(function(){try{return c.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return c.nodebuffer&&String.fromCharCode.apply(null,p.allocBuffer(1)).length===1}catch{return!1}})()}};function A(b){var I=65536,R=r.getTypeOf(b),k=!0;if(R==="uint8array"?k=S.applyCanBeUsed.uint8array:R==="nodebuffer"&&(k=S.applyCanBeUsed.nodebuffer),k)for(;1<I;)try{return S.stringifyByChunk(b,R,I)}catch{I=Math.floor(I/2)}return S.stringifyByChar(b)}function x(b,I){for(var R=0;R<b.length;R++)I[R]=b[R];return I}r.applyFromCharCode=A;var M={};M.string={string:m,array:function(b){return _(b,new Array(b.length))},arraybuffer:function(b){return M.string.uint8array(b).buffer},uint8array:function(b){return _(b,new Uint8Array(b.length))},nodebuffer:function(b){return _(b,p.allocBuffer(b.length))}},M.array={string:A,array:m,arraybuffer:function(b){return new Uint8Array(b).buffer},uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return p.newBufferFrom(b)}},M.arraybuffer={string:function(b){return A(new Uint8Array(b))},array:function(b){return x(new Uint8Array(b),new Array(b.byteLength))},arraybuffer:m,uint8array:function(b){return new Uint8Array(b)},nodebuffer:function(b){return p.newBufferFrom(new Uint8Array(b))}},M.uint8array={string:A,array:function(b){return x(b,new Array(b.length))},arraybuffer:function(b){return b.buffer},uint8array:m,nodebuffer:function(b){return p.newBufferFrom(b)}},M.nodebuffer={string:A,array:function(b){return x(b,new Array(b.length))},arraybuffer:function(b){return M.nodebuffer.uint8array(b).buffer},uint8array:function(b){return x(b,new Uint8Array(b.length))},nodebuffer:m},r.transformTo=function(b,I){if(I=I||"",!b)return I;r.checkSupport(b);var R=r.getTypeOf(I);return M[R][b](I)},r.resolve=function(b){for(var I=b.split("/"),R=[],k=0;k<I.length;k++){var z=I[k];z==="."||z===""&&k!==0&&k!==I.length-1||(z===".."?R.pop():R.push(z))}return R.join("/")},r.getTypeOf=function(b){return typeof b=="string"?"string":Object.prototype.toString.call(b)==="[object Array]"?"array":c.nodebuffer&&p.isBuffer(b)?"nodebuffer":c.uint8array&&b instanceof Uint8Array?"uint8array":c.arraybuffer&&b instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(b){if(!c[b.toLowerCase()])throw new Error(b+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(b){var I,R,k="";for(R=0;R<(b||"").length;R++)k+="\\x"+((I=b.charCodeAt(R))<16?"0":"")+I.toString(16).toUpperCase();return k},r.delay=function(b,I,R){setImmediate(function(){b.apply(R||null,I||[])})},r.inherits=function(b,I){function R(){}R.prototype=I.prototype,b.prototype=new R},r.extend=function(){var b,I,R={};for(b=0;b<arguments.length;b++)for(I in arguments[b])Object.prototype.hasOwnProperty.call(arguments[b],I)&&R[I]===void 0&&(R[I]=arguments[b][I]);return R},r.prepareContent=function(b,I,R,k,z){return y.Promise.resolve(I).then(function(H){return c.blob&&(H instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(H))!==-1)&&typeof FileReader<"u"?new y.Promise(function(O,W){var J=new FileReader;J.onload=function(de){O(de.target.result)},J.onerror=function(de){W(de.target.error)},J.readAsArrayBuffer(H)}):H}).then(function(H){var O=r.getTypeOf(H);return O?(O==="arraybuffer"?H=r.transformTo("uint8array",H):O==="string"&&(z?H=h.decode(H):R&&k!==!0&&(H=(function(W){return _(W,c.uint8array?new Uint8Array(W.length):new Array(W.length))})(H))),H):y.Promise.reject(new Error("Can't read the data of '"+b+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(a,l,r){var c=a("./reader/readerFor"),h=a("./utils"),p=a("./signature"),y=a("./zipEntry"),m=a("./support");function _(S){this.files=[],this.loadOptions=S}_.prototype={checkSignature:function(S){if(!this.reader.readAndCheckSignature(S)){this.reader.index-=4;var A=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+h.pretty(A)+", expected "+h.pretty(S)+")")}},isSignature:function(S,A){var x=this.reader.index;this.reader.setIndex(S);var M=this.reader.readString(4)===A;return this.reader.setIndex(x),M},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var S=this.reader.readData(this.zipCommentLength),A=m.uint8array?"uint8array":"array",x=h.transformTo(A,S);this.zipComment=this.loadOptions.decodeFileName(x)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var S,A,x,M=this.zip64EndOfCentralSize-44;0<M;)S=this.reader.readInt(2),A=this.reader.readInt(4),x=this.reader.readData(A),this.zip64ExtensibleData[S]={id:S,length:A,value:x}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var S,A;for(S=0;S<this.files.length;S++)A=this.files[S],this.reader.setIndex(A.localHeaderOffset),this.checkSignature(p.LOCAL_FILE_HEADER),A.readLocalPart(this.reader),A.handleUTF8(),A.processAttributes()},readCentralDir:function(){var S;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(p.CENTRAL_FILE_HEADER);)(S=new y({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(S);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var S=this.reader.lastIndexOfSignature(p.CENTRAL_DIRECTORY_END);if(S<0)throw this.isSignature(0,p.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(S);var A=S;if(this.checkSignature(p.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===h.MAX_VALUE_16BITS||this.diskWithCentralDirStart===h.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===h.MAX_VALUE_16BITS||this.centralDirRecords===h.MAX_VALUE_16BITS||this.centralDirSize===h.MAX_VALUE_32BITS||this.centralDirOffset===h.MAX_VALUE_32BITS){if(this.zip64=!0,(S=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(S),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,p.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(p.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var x=this.centralDirOffset+this.centralDirSize;this.zip64&&(x+=20,x+=12+this.zip64EndOfCentralSize);var M=A-x;if(0<M)this.isSignature(A,p.CENTRAL_FILE_HEADER)||(this.reader.zero=M);else if(M<0)throw new Error("Corrupted zip: missing "+Math.abs(M)+" bytes.")},prepareReader:function(S){this.reader=c(S)},load:function(S){this.prepareReader(S),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},l.exports=_},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(a,l,r){var c=a("./reader/readerFor"),h=a("./utils"),p=a("./compressedObject"),y=a("./crc32"),m=a("./utf8"),_=a("./compressions"),S=a("./support");function A(x,M){this.options=x,this.loadOptions=M}A.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(x){var M,b;if(x.skip(22),this.fileNameLength=x.readInt(2),b=x.readInt(2),this.fileName=x.readData(this.fileNameLength),x.skip(b),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((M=(function(I){for(var R in _)if(Object.prototype.hasOwnProperty.call(_,R)&&_[R].magic===I)return _[R];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+h.pretty(this.compressionMethod)+" unknown (inner file : "+h.transformTo("string",this.fileName)+")");this.decompressed=new p(this.compressedSize,this.uncompressedSize,this.crc32,M,x.readData(this.compressedSize))},readCentralPart:function(x){this.versionMadeBy=x.readInt(2),x.skip(2),this.bitFlag=x.readInt(2),this.compressionMethod=x.readString(2),this.date=x.readDate(),this.crc32=x.readInt(4),this.compressedSize=x.readInt(4),this.uncompressedSize=x.readInt(4);var M=x.readInt(2);if(this.extraFieldsLength=x.readInt(2),this.fileCommentLength=x.readInt(2),this.diskNumberStart=x.readInt(2),this.internalFileAttributes=x.readInt(2),this.externalFileAttributes=x.readInt(4),this.localHeaderOffset=x.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");x.skip(M),this.readExtraFields(x),this.parseZIP64ExtraField(x),this.fileComment=x.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var x=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),x==0&&(this.dosPermissions=63&this.externalFileAttributes),x==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var x=c(this.extraFields[1].value);this.uncompressedSize===h.MAX_VALUE_32BITS&&(this.uncompressedSize=x.readInt(8)),this.compressedSize===h.MAX_VALUE_32BITS&&(this.compressedSize=x.readInt(8)),this.localHeaderOffset===h.MAX_VALUE_32BITS&&(this.localHeaderOffset=x.readInt(8)),this.diskNumberStart===h.MAX_VALUE_32BITS&&(this.diskNumberStart=x.readInt(4))}},readExtraFields:function(x){var M,b,I,R=x.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});x.index+4<R;)M=x.readInt(2),b=x.readInt(2),I=x.readData(b),this.extraFields[M]={id:M,length:b,value:I};x.setIndex(R)},handleUTF8:function(){var x=S.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=m.utf8decode(this.fileName),this.fileCommentStr=m.utf8decode(this.fileComment);else{var M=this.findExtraFieldUnicodePath();if(M!==null)this.fileNameStr=M;else{var b=h.transformTo(x,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(b)}var I=this.findExtraFieldUnicodeComment();if(I!==null)this.fileCommentStr=I;else{var R=h.transformTo(x,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(R)}}},findExtraFieldUnicodePath:function(){var x=this.extraFields[28789];if(x){var M=c(x.value);return M.readInt(1)!==1||y(this.fileName)!==M.readInt(4)?null:m.utf8decode(M.readData(x.length-5))}return null},findExtraFieldUnicodeComment:function(){var x=this.extraFields[25461];if(x){var M=c(x.value);return M.readInt(1)!==1||y(this.fileComment)!==M.readInt(4)?null:m.utf8decode(M.readData(x.length-5))}return null}},l.exports=A},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(a,l,r){function c(M,b,I){this.name=M,this.dir=I.dir,this.date=I.date,this.comment=I.comment,this.unixPermissions=I.unixPermissions,this.dosPermissions=I.dosPermissions,this._data=b,this._dataBinary=I.binary,this.options={compression:I.compression,compressionOptions:I.compressionOptions}}var h=a("./stream/StreamHelper"),p=a("./stream/DataWorker"),y=a("./utf8"),m=a("./compressedObject"),_=a("./stream/GenericWorker");c.prototype={internalStream:function(M){var b=null,I="string";try{if(!M)throw new Error("No output type specified.");var R=(I=M.toLowerCase())==="string"||I==="text";I!=="binarystring"&&I!=="text"||(I="string"),b=this._decompressWorker();var k=!this._dataBinary;k&&!R&&(b=b.pipe(new y.Utf8EncodeWorker)),!k&&R&&(b=b.pipe(new y.Utf8DecodeWorker))}catch(z){(b=new _("error")).error(z)}return new h(b,I,"")},async:function(M,b){return this.internalStream(M).accumulate(b)},nodeStream:function(M,b){return this.internalStream(M||"nodebuffer").toNodejsStream(b)},_compressWorker:function(M,b){if(this._data instanceof m&&this._data.compression.magic===M.magic)return this._data.getCompressedWorker();var I=this._decompressWorker();return this._dataBinary||(I=I.pipe(new y.Utf8EncodeWorker)),m.createWorkerFrom(I,M,b)},_decompressWorker:function(){return this._data instanceof m?this._data.getContentWorker():this._data instanceof _?this._data:new p(this._data)}};for(var S=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],A=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},x=0;x<S.length;x++)c.prototype[S[x]]=A;l.exports=c},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(a,l,r){(function(c){var h,p,y=c.MutationObserver||c.WebKitMutationObserver;if(y){var m=0,_=new y(M),S=c.document.createTextNode("");_.observe(S,{characterData:!0}),h=function(){S.data=m=++m%2}}else if(c.setImmediate||c.MessageChannel===void 0)h="document"in c&&"onreadystatechange"in c.document.createElement("script")?function(){var b=c.document.createElement("script");b.onreadystatechange=function(){M(),b.onreadystatechange=null,b.parentNode.removeChild(b),b=null},c.document.documentElement.appendChild(b)}:function(){setTimeout(M,0)};else{var A=new c.MessageChannel;A.port1.onmessage=M,h=function(){A.port2.postMessage(0)}}var x=[];function M(){var b,I;p=!0;for(var R=x.length;R;){for(I=x,x=[],b=-1;++b<R;)I[b]();R=x.length}p=!1}l.exports=function(b){x.push(b)!==1||p||h()}}).call(this,typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(a,l,r){var c=a("immediate");function h(){}var p={},y=["REJECTED"],m=["FULFILLED"],_=["PENDING"];function S(R){if(typeof R!="function")throw new TypeError("resolver must be a function");this.state=_,this.queue=[],this.outcome=void 0,R!==h&&b(this,R)}function A(R,k,z){this.promise=R,typeof k=="function"&&(this.onFulfilled=k,this.callFulfilled=this.otherCallFulfilled),typeof z=="function"&&(this.onRejected=z,this.callRejected=this.otherCallRejected)}function x(R,k,z){c(function(){var H;try{H=k(z)}catch(O){return p.reject(R,O)}H===R?p.reject(R,new TypeError("Cannot resolve promise with itself")):p.resolve(R,H)})}function M(R){var k=R&&R.then;if(R&&(typeof R=="object"||typeof R=="function")&&typeof k=="function")return function(){k.apply(R,arguments)}}function b(R,k){var z=!1;function H(J){z||(z=!0,p.reject(R,J))}function O(J){z||(z=!0,p.resolve(R,J))}var W=I(function(){k(O,H)});W.status==="error"&&H(W.value)}function I(R,k){var z={};try{z.value=R(k),z.status="success"}catch(H){z.status="error",z.value=H}return z}(l.exports=S).prototype.finally=function(R){if(typeof R!="function")return this;var k=this.constructor;return this.then(function(z){return k.resolve(R()).then(function(){return z})},function(z){return k.resolve(R()).then(function(){throw z})})},S.prototype.catch=function(R){return this.then(null,R)},S.prototype.then=function(R,k){if(typeof R!="function"&&this.state===m||typeof k!="function"&&this.state===y)return this;var z=new this.constructor(h);return this.state!==_?x(z,this.state===m?R:k,this.outcome):this.queue.push(new A(z,R,k)),z},A.prototype.callFulfilled=function(R){p.resolve(this.promise,R)},A.prototype.otherCallFulfilled=function(R){x(this.promise,this.onFulfilled,R)},A.prototype.callRejected=function(R){p.reject(this.promise,R)},A.prototype.otherCallRejected=function(R){x(this.promise,this.onRejected,R)},p.resolve=function(R,k){var z=I(M,k);if(z.status==="error")return p.reject(R,z.value);var H=z.value;if(H)b(R,H);else{R.state=m,R.outcome=k;for(var O=-1,W=R.queue.length;++O<W;)R.queue[O].callFulfilled(k)}return R},p.reject=function(R,k){R.state=y,R.outcome=k;for(var z=-1,H=R.queue.length;++z<H;)R.queue[z].callRejected(k);return R},S.resolve=function(R){return R instanceof this?R:p.resolve(new this(h),R)},S.reject=function(R){var k=new this(h);return p.reject(k,R)},S.all=function(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=R.length,H=!1;if(!z)return this.resolve([]);for(var O=new Array(z),W=0,J=-1,de=new this(h);++J<z;)Z(R[J],J);return de;function Z(ge,Me){k.resolve(ge).then(function(V){O[Me]=V,++W!==z||H||(H=!0,p.resolve(de,O))},function(V){H||(H=!0,p.reject(de,V))})}},S.race=function(R){var k=this;if(Object.prototype.toString.call(R)!=="[object Array]")return this.reject(new TypeError("must be an array"));var z=R.length,H=!1;if(!z)return this.resolve([]);for(var O=-1,W=new this(h);++O<z;)J=R[O],k.resolve(J).then(function(de){H||(H=!0,p.resolve(W,de))},function(de){H||(H=!0,p.reject(W,de))});var J;return W}},{immediate:36}],38:[function(a,l,r){var c={};(0,a("./lib/utils/common").assign)(c,a("./lib/deflate"),a("./lib/inflate"),a("./lib/zlib/constants")),l.exports=c},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(a,l,r){var c=a("./zlib/deflate"),h=a("./utils/common"),p=a("./utils/strings"),y=a("./zlib/messages"),m=a("./zlib/zstream"),_=Object.prototype.toString,S=0,A=-1,x=0,M=8;function b(R){if(!(this instanceof b))return new b(R);this.options=h.assign({level:A,method:M,chunkSize:16384,windowBits:15,memLevel:8,strategy:x,to:""},R||{});var k=this.options;k.raw&&0<k.windowBits?k.windowBits=-k.windowBits:k.gzip&&0<k.windowBits&&k.windowBits<16&&(k.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var z=c.deflateInit2(this.strm,k.level,k.method,k.windowBits,k.memLevel,k.strategy);if(z!==S)throw new Error(y[z]);if(k.header&&c.deflateSetHeader(this.strm,k.header),k.dictionary){var H;if(H=typeof k.dictionary=="string"?p.string2buf(k.dictionary):_.call(k.dictionary)==="[object ArrayBuffer]"?new Uint8Array(k.dictionary):k.dictionary,(z=c.deflateSetDictionary(this.strm,H))!==S)throw new Error(y[z]);this._dict_set=!0}}function I(R,k){var z=new b(k);if(z.push(R,!0),z.err)throw z.msg||y[z.err];return z.result}b.prototype.push=function(R,k){var z,H,O=this.strm,W=this.options.chunkSize;if(this.ended)return!1;H=k===~~k?k:k===!0?4:0,typeof R=="string"?O.input=p.string2buf(R):_.call(R)==="[object ArrayBuffer]"?O.input=new Uint8Array(R):O.input=R,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new h.Buf8(W),O.next_out=0,O.avail_out=W),(z=c.deflate(O,H))!==1&&z!==S)return this.onEnd(z),!(this.ended=!0);O.avail_out!==0&&(O.avail_in!==0||H!==4&&H!==2)||(this.options.to==="string"?this.onData(p.buf2binstring(h.shrinkBuf(O.output,O.next_out))):this.onData(h.shrinkBuf(O.output,O.next_out)))}while((0<O.avail_in||O.avail_out===0)&&z!==1);return H===4?(z=c.deflateEnd(this.strm),this.onEnd(z),this.ended=!0,z===S):H!==2||(this.onEnd(S),!(O.avail_out=0))},b.prototype.onData=function(R){this.chunks.push(R)},b.prototype.onEnd=function(R){R===S&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=R,this.msg=this.strm.msg},r.Deflate=b,r.deflate=I,r.deflateRaw=function(R,k){return(k=k||{}).raw=!0,I(R,k)},r.gzip=function(R,k){return(k=k||{}).gzip=!0,I(R,k)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(a,l,r){var c=a("./zlib/inflate"),h=a("./utils/common"),p=a("./utils/strings"),y=a("./zlib/constants"),m=a("./zlib/messages"),_=a("./zlib/zstream"),S=a("./zlib/gzheader"),A=Object.prototype.toString;function x(b){if(!(this instanceof x))return new x(b);this.options=h.assign({chunkSize:16384,windowBits:0,to:""},b||{});var I=this.options;I.raw&&0<=I.windowBits&&I.windowBits<16&&(I.windowBits=-I.windowBits,I.windowBits===0&&(I.windowBits=-15)),!(0<=I.windowBits&&I.windowBits<16)||b&&b.windowBits||(I.windowBits+=32),15<I.windowBits&&I.windowBits<48&&(15&I.windowBits)==0&&(I.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _,this.strm.avail_out=0;var R=c.inflateInit2(this.strm,I.windowBits);if(R!==y.Z_OK)throw new Error(m[R]);this.header=new S,c.inflateGetHeader(this.strm,this.header)}function M(b,I){var R=new x(I);if(R.push(b,!0),R.err)throw R.msg||m[R.err];return R.result}x.prototype.push=function(b,I){var R,k,z,H,O,W,J=this.strm,de=this.options.chunkSize,Z=this.options.dictionary,ge=!1;if(this.ended)return!1;k=I===~~I?I:I===!0?y.Z_FINISH:y.Z_NO_FLUSH,typeof b=="string"?J.input=p.binstring2buf(b):A.call(b)==="[object ArrayBuffer]"?J.input=new Uint8Array(b):J.input=b,J.next_in=0,J.avail_in=J.input.length;do{if(J.avail_out===0&&(J.output=new h.Buf8(de),J.next_out=0,J.avail_out=de),(R=c.inflate(J,y.Z_NO_FLUSH))===y.Z_NEED_DICT&&Z&&(W=typeof Z=="string"?p.string2buf(Z):A.call(Z)==="[object ArrayBuffer]"?new Uint8Array(Z):Z,R=c.inflateSetDictionary(this.strm,W)),R===y.Z_BUF_ERROR&&ge===!0&&(R=y.Z_OK,ge=!1),R!==y.Z_STREAM_END&&R!==y.Z_OK)return this.onEnd(R),!(this.ended=!0);J.next_out&&(J.avail_out!==0&&R!==y.Z_STREAM_END&&(J.avail_in!==0||k!==y.Z_FINISH&&k!==y.Z_SYNC_FLUSH)||(this.options.to==="string"?(z=p.utf8border(J.output,J.next_out),H=J.next_out-z,O=p.buf2string(J.output,z),J.next_out=H,J.avail_out=de-H,H&&h.arraySet(J.output,J.output,z,H,0),this.onData(O)):this.onData(h.shrinkBuf(J.output,J.next_out)))),J.avail_in===0&&J.avail_out===0&&(ge=!0)}while((0<J.avail_in||J.avail_out===0)&&R!==y.Z_STREAM_END);return R===y.Z_STREAM_END&&(k=y.Z_FINISH),k===y.Z_FINISH?(R=c.inflateEnd(this.strm),this.onEnd(R),this.ended=!0,R===y.Z_OK):k!==y.Z_SYNC_FLUSH||(this.onEnd(y.Z_OK),!(J.avail_out=0))},x.prototype.onData=function(b){this.chunks.push(b)},x.prototype.onEnd=function(b){b===y.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=h.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},r.Inflate=x,r.inflate=M,r.inflateRaw=function(b,I){return(I=I||{}).raw=!0,M(b,I)},r.ungzip=M},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(a,l,r){var c=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";r.assign=function(y){for(var m=Array.prototype.slice.call(arguments,1);m.length;){var _=m.shift();if(_){if(typeof _!="object")throw new TypeError(_+"must be non-object");for(var S in _)_.hasOwnProperty(S)&&(y[S]=_[S])}}return y},r.shrinkBuf=function(y,m){return y.length===m?y:y.subarray?y.subarray(0,m):(y.length=m,y)};var h={arraySet:function(y,m,_,S,A){if(m.subarray&&y.subarray)y.set(m.subarray(_,_+S),A);else for(var x=0;x<S;x++)y[A+x]=m[_+x]},flattenChunks:function(y){var m,_,S,A,x,M;for(m=S=0,_=y.length;m<_;m++)S+=y[m].length;for(M=new Uint8Array(S),m=A=0,_=y.length;m<_;m++)x=y[m],M.set(x,A),A+=x.length;return M}},p={arraySet:function(y,m,_,S,A){for(var x=0;x<S;x++)y[A+x]=m[_+x]},flattenChunks:function(y){return[].concat.apply([],y)}};r.setTyped=function(y){y?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,h)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,p))},r.setTyped(c)},{}],42:[function(a,l,r){var c=a("./common"),h=!0,p=!0;try{String.fromCharCode.apply(null,[0])}catch{h=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{p=!1}for(var y=new c.Buf8(256),m=0;m<256;m++)y[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;function _(S,A){if(A<65537&&(S.subarray&&p||!S.subarray&&h))return String.fromCharCode.apply(null,c.shrinkBuf(S,A));for(var x="",M=0;M<A;M++)x+=String.fromCharCode(S[M]);return x}y[254]=y[254]=1,r.string2buf=function(S){var A,x,M,b,I,R=S.length,k=0;for(b=0;b<R;b++)(64512&(x=S.charCodeAt(b)))==55296&&b+1<R&&(64512&(M=S.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(M-56320),b++),k+=x<128?1:x<2048?2:x<65536?3:4;for(A=new c.Buf8(k),b=I=0;I<k;b++)(64512&(x=S.charCodeAt(b)))==55296&&b+1<R&&(64512&(M=S.charCodeAt(b+1)))==56320&&(x=65536+(x-55296<<10)+(M-56320),b++),x<128?A[I++]=x:(x<2048?A[I++]=192|x>>>6:(x<65536?A[I++]=224|x>>>12:(A[I++]=240|x>>>18,A[I++]=128|x>>>12&63),A[I++]=128|x>>>6&63),A[I++]=128|63&x);return A},r.buf2binstring=function(S){return _(S,S.length)},r.binstring2buf=function(S){for(var A=new c.Buf8(S.length),x=0,M=A.length;x<M;x++)A[x]=S.charCodeAt(x);return A},r.buf2string=function(S,A){var x,M,b,I,R=A||S.length,k=new Array(2*R);for(x=M=0;x<R;)if((b=S[x++])<128)k[M++]=b;else if(4<(I=y[b]))k[M++]=65533,x+=I-1;else{for(b&=I===2?31:I===3?15:7;1<I&&x<R;)b=b<<6|63&S[x++],I--;1<I?k[M++]=65533:b<65536?k[M++]=b:(b-=65536,k[M++]=55296|b>>10&1023,k[M++]=56320|1023&b)}return _(k,M)},r.utf8border=function(S,A){var x;for((A=A||S.length)>S.length&&(A=S.length),x=A-1;0<=x&&(192&S[x])==128;)x--;return x<0||x===0?A:x+y[S[x]]>A?x:A}},{"./common":41}],43:[function(a,l,r){l.exports=function(c,h,p,y){for(var m=65535&c|0,_=c>>>16&65535|0,S=0;p!==0;){for(p-=S=2e3<p?2e3:p;_=_+(m=m+h[y++]|0)|0,--S;);m%=65521,_%=65521}return m|_<<16|0}},{}],44:[function(a,l,r){l.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(a,l,r){var c=(function(){for(var h,p=[],y=0;y<256;y++){h=y;for(var m=0;m<8;m++)h=1&h?3988292384^h>>>1:h>>>1;p[y]=h}return p})();l.exports=function(h,p,y,m){var _=c,S=m+y;h^=-1;for(var A=m;A<S;A++)h=h>>>8^_[255&(h^p[A])];return-1^h}},{}],46:[function(a,l,r){var c,h=a("../utils/common"),p=a("./trees"),y=a("./adler32"),m=a("./crc32"),_=a("./messages"),S=0,A=4,x=0,M=-2,b=-1,I=4,R=2,k=8,z=9,H=286,O=30,W=19,J=2*H+1,de=15,Z=3,ge=258,Me=ge+Z+1,V=42,se=113,w=1,he=2,j=3,Q=4;function Ee(E,ve){return E.msg=_[ve],ve}function ye(E){return(E<<1)-(4<E?9:0)}function Re(E){for(var ve=E.length;0<=--ve;)E[ve]=0}function D(E){var ve=E.state,le=ve.pending;le>E.avail_out&&(le=E.avail_out),le!==0&&(h.arraySet(E.output,ve.pending_buf,ve.pending_out,le,E.next_out),E.next_out+=le,ve.pending_out+=le,E.total_out+=le,E.avail_out-=le,ve.pending-=le,ve.pending===0&&(ve.pending_out=0))}function B(E,ve){p._tr_flush_block(E,0<=E.block_start?E.block_start:-1,E.strstart-E.block_start,ve),E.block_start=E.strstart,D(E.strm)}function ce(E,ve){E.pending_buf[E.pending++]=ve}function re(E,ve){E.pending_buf[E.pending++]=ve>>>8&255,E.pending_buf[E.pending++]=255&ve}function pe(E,ve){var le,G,P=E.max_chain_length,K=E.strstart,Te=E.prev_length,Ce=E.nice_match,ne=E.strstart>E.w_size-Me?E.strstart-(E.w_size-Me):0,be=E.window,Ne=E.w_mask,we=E.prev,ze=E.strstart+ge,et=be[K+Te-1],Je=be[K+Te];E.prev_length>=E.good_match&&(P>>=2),Ce>E.lookahead&&(Ce=E.lookahead);do if(be[(le=ve)+Te]===Je&&be[le+Te-1]===et&&be[le]===be[K]&&be[++le]===be[K+1]){K+=2,le++;do;while(be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&be[++K]===be[++le]&&K<ze);if(G=ge-(ze-K),K=ze-ge,Te<G){if(E.match_start=ve,Ce<=(Te=G))break;et=be[K+Te-1],Je=be[K+Te]}}while((ve=we[ve&Ne])>ne&&--P!=0);return Te<=E.lookahead?Te:E.lookahead}function Ue(E){var ve,le,G,P,K,Te,Ce,ne,be,Ne,we=E.w_size;do{if(P=E.window_size-E.lookahead-E.strstart,E.strstart>=we+(we-Me)){for(h.arraySet(E.window,E.window,we,we,0),E.match_start-=we,E.strstart-=we,E.block_start-=we,ve=le=E.hash_size;G=E.head[--ve],E.head[ve]=we<=G?G-we:0,--le;);for(ve=le=we;G=E.prev[--ve],E.prev[ve]=we<=G?G-we:0,--le;);P+=we}if(E.strm.avail_in===0)break;if(Te=E.strm,Ce=E.window,ne=E.strstart+E.lookahead,be=P,Ne=void 0,Ne=Te.avail_in,be<Ne&&(Ne=be),le=Ne===0?0:(Te.avail_in-=Ne,h.arraySet(Ce,Te.input,Te.next_in,Ne,ne),Te.state.wrap===1?Te.adler=y(Te.adler,Ce,Ne,ne):Te.state.wrap===2&&(Te.adler=m(Te.adler,Ce,Ne,ne)),Te.next_in+=Ne,Te.total_in+=Ne,Ne),E.lookahead+=le,E.lookahead+E.insert>=Z)for(K=E.strstart-E.insert,E.ins_h=E.window[K],E.ins_h=(E.ins_h<<E.hash_shift^E.window[K+1])&E.hash_mask;E.insert&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[K+Z-1])&E.hash_mask,E.prev[K&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=K,K++,E.insert--,!(E.lookahead+E.insert<Z)););}while(E.lookahead<Me&&E.strm.avail_in!==0)}function Oe(E,ve){for(var le,G;;){if(E.lookahead<Me){if(Ue(E),E.lookahead<Me&&ve===S)return w;if(E.lookahead===0)break}if(le=0,E.lookahead>=Z&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Z-1])&E.hash_mask,le=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),le!==0&&E.strstart-le<=E.w_size-Me&&(E.match_length=pe(E,le)),E.match_length>=Z)if(G=p._tr_tally(E,E.strstart-E.match_start,E.match_length-Z),E.lookahead-=E.match_length,E.match_length<=E.max_lazy_match&&E.lookahead>=Z){for(E.match_length--;E.strstart++,E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Z-1])&E.hash_mask,le=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart,--E.match_length!=0;);E.strstart++}else E.strstart+=E.match_length,E.match_length=0,E.ins_h=E.window[E.strstart],E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+1])&E.hash_mask;else G=p._tr_tally(E,0,E.window[E.strstart]),E.lookahead--,E.strstart++;if(G&&(B(E,!1),E.strm.avail_out===0))return w}return E.insert=E.strstart<Z-1?E.strstart:Z-1,ve===A?(B(E,!0),E.strm.avail_out===0?j:Q):E.last_lit&&(B(E,!1),E.strm.avail_out===0)?w:he}function He(E,ve){for(var le,G,P;;){if(E.lookahead<Me){if(Ue(E),E.lookahead<Me&&ve===S)return w;if(E.lookahead===0)break}if(le=0,E.lookahead>=Z&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Z-1])&E.hash_mask,le=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),E.prev_length=E.match_length,E.prev_match=E.match_start,E.match_length=Z-1,le!==0&&E.prev_length<E.max_lazy_match&&E.strstart-le<=E.w_size-Me&&(E.match_length=pe(E,le),E.match_length<=5&&(E.strategy===1||E.match_length===Z&&4096<E.strstart-E.match_start)&&(E.match_length=Z-1)),E.prev_length>=Z&&E.match_length<=E.prev_length){for(P=E.strstart+E.lookahead-Z,G=p._tr_tally(E,E.strstart-1-E.prev_match,E.prev_length-Z),E.lookahead-=E.prev_length-1,E.prev_length-=2;++E.strstart<=P&&(E.ins_h=(E.ins_h<<E.hash_shift^E.window[E.strstart+Z-1])&E.hash_mask,le=E.prev[E.strstart&E.w_mask]=E.head[E.ins_h],E.head[E.ins_h]=E.strstart),--E.prev_length!=0;);if(E.match_available=0,E.match_length=Z-1,E.strstart++,G&&(B(E,!1),E.strm.avail_out===0))return w}else if(E.match_available){if((G=p._tr_tally(E,0,E.window[E.strstart-1]))&&B(E,!1),E.strstart++,E.lookahead--,E.strm.avail_out===0)return w}else E.match_available=1,E.strstart++,E.lookahead--}return E.match_available&&(G=p._tr_tally(E,0,E.window[E.strstart-1]),E.match_available=0),E.insert=E.strstart<Z-1?E.strstart:Z-1,ve===A?(B(E,!0),E.strm.avail_out===0?j:Q):E.last_lit&&(B(E,!1),E.strm.avail_out===0)?w:he}function Ve(E,ve,le,G,P){this.good_length=E,this.max_lazy=ve,this.nice_length=le,this.max_chain=G,this.func=P}function pt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=k,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new h.Buf16(2*J),this.dyn_dtree=new h.Buf16(2*(2*O+1)),this.bl_tree=new h.Buf16(2*(2*W+1)),Re(this.dyn_ltree),Re(this.dyn_dtree),Re(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new h.Buf16(de+1),this.heap=new h.Buf16(2*H+1),Re(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new h.Buf16(2*H+1),Re(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ft(E){var ve;return E&&E.state?(E.total_in=E.total_out=0,E.data_type=R,(ve=E.state).pending=0,ve.pending_out=0,ve.wrap<0&&(ve.wrap=-ve.wrap),ve.status=ve.wrap?V:se,E.adler=ve.wrap===2?0:1,ve.last_flush=S,p._tr_init(ve),x):Ee(E,M)}function qt(E){var ve=ft(E);return ve===x&&(function(le){le.window_size=2*le.w_size,Re(le.head),le.max_lazy_match=c[le.level].max_lazy,le.good_match=c[le.level].good_length,le.nice_match=c[le.level].nice_length,le.max_chain_length=c[le.level].max_chain,le.strstart=0,le.block_start=0,le.lookahead=0,le.insert=0,le.match_length=le.prev_length=Z-1,le.match_available=0,le.ins_h=0})(E.state),ve}function en(E,ve,le,G,P,K){if(!E)return M;var Te=1;if(ve===b&&(ve=6),G<0?(Te=0,G=-G):15<G&&(Te=2,G-=16),P<1||z<P||le!==k||G<8||15<G||ve<0||9<ve||K<0||I<K)return Ee(E,M);G===8&&(G=9);var Ce=new pt;return(E.state=Ce).strm=E,Ce.wrap=Te,Ce.gzhead=null,Ce.w_bits=G,Ce.w_size=1<<Ce.w_bits,Ce.w_mask=Ce.w_size-1,Ce.hash_bits=P+7,Ce.hash_size=1<<Ce.hash_bits,Ce.hash_mask=Ce.hash_size-1,Ce.hash_shift=~~((Ce.hash_bits+Z-1)/Z),Ce.window=new h.Buf8(2*Ce.w_size),Ce.head=new h.Buf16(Ce.hash_size),Ce.prev=new h.Buf16(Ce.w_size),Ce.lit_bufsize=1<<P+6,Ce.pending_buf_size=4*Ce.lit_bufsize,Ce.pending_buf=new h.Buf8(Ce.pending_buf_size),Ce.d_buf=1*Ce.lit_bufsize,Ce.l_buf=3*Ce.lit_bufsize,Ce.level=ve,Ce.strategy=K,Ce.method=le,qt(E)}c=[new Ve(0,0,0,0,function(E,ve){var le=65535;for(le>E.pending_buf_size-5&&(le=E.pending_buf_size-5);;){if(E.lookahead<=1){if(Ue(E),E.lookahead===0&&ve===S)return w;if(E.lookahead===0)break}E.strstart+=E.lookahead,E.lookahead=0;var G=E.block_start+le;if((E.strstart===0||E.strstart>=G)&&(E.lookahead=E.strstart-G,E.strstart=G,B(E,!1),E.strm.avail_out===0)||E.strstart-E.block_start>=E.w_size-Me&&(B(E,!1),E.strm.avail_out===0))return w}return E.insert=0,ve===A?(B(E,!0),E.strm.avail_out===0?j:Q):(E.strstart>E.block_start&&(B(E,!1),E.strm.avail_out),w)}),new Ve(4,4,8,4,Oe),new Ve(4,5,16,8,Oe),new Ve(4,6,32,32,Oe),new Ve(4,4,16,16,He),new Ve(8,16,32,32,He),new Ve(8,16,128,128,He),new Ve(8,32,128,256,He),new Ve(32,128,258,1024,He),new Ve(32,258,258,4096,He)],r.deflateInit=function(E,ve){return en(E,ve,k,15,8,0)},r.deflateInit2=en,r.deflateReset=qt,r.deflateResetKeep=ft,r.deflateSetHeader=function(E,ve){return E&&E.state?E.state.wrap!==2?M:(E.state.gzhead=ve,x):M},r.deflate=function(E,ve){var le,G,P,K;if(!E||!E.state||5<ve||ve<0)return E?Ee(E,M):M;if(G=E.state,!E.output||!E.input&&E.avail_in!==0||G.status===666&&ve!==A)return Ee(E,E.avail_out===0?-5:M);if(G.strm=E,le=G.last_flush,G.last_flush=ve,G.status===V)if(G.wrap===2)E.adler=0,ce(G,31),ce(G,139),ce(G,8),G.gzhead?(ce(G,(G.gzhead.text?1:0)+(G.gzhead.hcrc?2:0)+(G.gzhead.extra?4:0)+(G.gzhead.name?8:0)+(G.gzhead.comment?16:0)),ce(G,255&G.gzhead.time),ce(G,G.gzhead.time>>8&255),ce(G,G.gzhead.time>>16&255),ce(G,G.gzhead.time>>24&255),ce(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ce(G,255&G.gzhead.os),G.gzhead.extra&&G.gzhead.extra.length&&(ce(G,255&G.gzhead.extra.length),ce(G,G.gzhead.extra.length>>8&255)),G.gzhead.hcrc&&(E.adler=m(E.adler,G.pending_buf,G.pending,0)),G.gzindex=0,G.status=69):(ce(G,0),ce(G,0),ce(G,0),ce(G,0),ce(G,0),ce(G,G.level===9?2:2<=G.strategy||G.level<2?4:0),ce(G,3),G.status=se);else{var Te=k+(G.w_bits-8<<4)<<8;Te|=(2<=G.strategy||G.level<2?0:G.level<6?1:G.level===6?2:3)<<6,G.strstart!==0&&(Te|=32),Te+=31-Te%31,G.status=se,re(G,Te),G.strstart!==0&&(re(G,E.adler>>>16),re(G,65535&E.adler)),E.adler=1}if(G.status===69)if(G.gzhead.extra){for(P=G.pending;G.gzindex<(65535&G.gzhead.extra.length)&&(G.pending!==G.pending_buf_size||(G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),D(E),P=G.pending,G.pending!==G.pending_buf_size));)ce(G,255&G.gzhead.extra[G.gzindex]),G.gzindex++;G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),G.gzindex===G.gzhead.extra.length&&(G.gzindex=0,G.status=73)}else G.status=73;if(G.status===73)if(G.gzhead.name){P=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),D(E),P=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.name.length?255&G.gzhead.name.charCodeAt(G.gzindex++):0,ce(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),K===0&&(G.gzindex=0,G.status=91)}else G.status=91;if(G.status===91)if(G.gzhead.comment){P=G.pending;do{if(G.pending===G.pending_buf_size&&(G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),D(E),P=G.pending,G.pending===G.pending_buf_size)){K=1;break}K=G.gzindex<G.gzhead.comment.length?255&G.gzhead.comment.charCodeAt(G.gzindex++):0,ce(G,K)}while(K!==0);G.gzhead.hcrc&&G.pending>P&&(E.adler=m(E.adler,G.pending_buf,G.pending-P,P)),K===0&&(G.status=103)}else G.status=103;if(G.status===103&&(G.gzhead.hcrc?(G.pending+2>G.pending_buf_size&&D(E),G.pending+2<=G.pending_buf_size&&(ce(G,255&E.adler),ce(G,E.adler>>8&255),E.adler=0,G.status=se)):G.status=se),G.pending!==0){if(D(E),E.avail_out===0)return G.last_flush=-1,x}else if(E.avail_in===0&&ye(ve)<=ye(le)&&ve!==A)return Ee(E,-5);if(G.status===666&&E.avail_in!==0)return Ee(E,-5);if(E.avail_in!==0||G.lookahead!==0||ve!==S&&G.status!==666){var Ce=G.strategy===2?(function(ne,be){for(var Ne;;){if(ne.lookahead===0&&(Ue(ne),ne.lookahead===0)){if(be===S)return w;break}if(ne.match_length=0,Ne=p._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++,Ne&&(B(ne,!1),ne.strm.avail_out===0))return w}return ne.insert=0,be===A?(B(ne,!0),ne.strm.avail_out===0?j:Q):ne.last_lit&&(B(ne,!1),ne.strm.avail_out===0)?w:he})(G,ve):G.strategy===3?(function(ne,be){for(var Ne,we,ze,et,Je=ne.window;;){if(ne.lookahead<=ge){if(Ue(ne),ne.lookahead<=ge&&be===S)return w;if(ne.lookahead===0)break}if(ne.match_length=0,ne.lookahead>=Z&&0<ne.strstart&&(we=Je[ze=ne.strstart-1])===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]){et=ne.strstart+ge;do;while(we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&we===Je[++ze]&&ze<et);ne.match_length=ge-(et-ze),ne.match_length>ne.lookahead&&(ne.match_length=ne.lookahead)}if(ne.match_length>=Z?(Ne=p._tr_tally(ne,1,ne.match_length-Z),ne.lookahead-=ne.match_length,ne.strstart+=ne.match_length,ne.match_length=0):(Ne=p._tr_tally(ne,0,ne.window[ne.strstart]),ne.lookahead--,ne.strstart++),Ne&&(B(ne,!1),ne.strm.avail_out===0))return w}return ne.insert=0,be===A?(B(ne,!0),ne.strm.avail_out===0?j:Q):ne.last_lit&&(B(ne,!1),ne.strm.avail_out===0)?w:he})(G,ve):c[G.level].func(G,ve);if(Ce!==j&&Ce!==Q||(G.status=666),Ce===w||Ce===j)return E.avail_out===0&&(G.last_flush=-1),x;if(Ce===he&&(ve===1?p._tr_align(G):ve!==5&&(p._tr_stored_block(G,0,0,!1),ve===3&&(Re(G.head),G.lookahead===0&&(G.strstart=0,G.block_start=0,G.insert=0))),D(E),E.avail_out===0))return G.last_flush=-1,x}return ve!==A?x:G.wrap<=0?1:(G.wrap===2?(ce(G,255&E.adler),ce(G,E.adler>>8&255),ce(G,E.adler>>16&255),ce(G,E.adler>>24&255),ce(G,255&E.total_in),ce(G,E.total_in>>8&255),ce(G,E.total_in>>16&255),ce(G,E.total_in>>24&255)):(re(G,E.adler>>>16),re(G,65535&E.adler)),D(E),0<G.wrap&&(G.wrap=-G.wrap),G.pending!==0?x:1)},r.deflateEnd=function(E){var ve;return E&&E.state?(ve=E.state.status)!==V&&ve!==69&&ve!==73&&ve!==91&&ve!==103&&ve!==se&&ve!==666?Ee(E,M):(E.state=null,ve===se?Ee(E,-3):x):M},r.deflateSetDictionary=function(E,ve){var le,G,P,K,Te,Ce,ne,be,Ne=ve.length;if(!E||!E.state||(K=(le=E.state).wrap)===2||K===1&&le.status!==V||le.lookahead)return M;for(K===1&&(E.adler=y(E.adler,ve,Ne,0)),le.wrap=0,Ne>=le.w_size&&(K===0&&(Re(le.head),le.strstart=0,le.block_start=0,le.insert=0),be=new h.Buf8(le.w_size),h.arraySet(be,ve,Ne-le.w_size,le.w_size,0),ve=be,Ne=le.w_size),Te=E.avail_in,Ce=E.next_in,ne=E.input,E.avail_in=Ne,E.next_in=0,E.input=ve,Ue(le);le.lookahead>=Z;){for(G=le.strstart,P=le.lookahead-(Z-1);le.ins_h=(le.ins_h<<le.hash_shift^le.window[G+Z-1])&le.hash_mask,le.prev[G&le.w_mask]=le.head[le.ins_h],le.head[le.ins_h]=G,G++,--P;);le.strstart=G,le.lookahead=Z-1,Ue(le)}return le.strstart+=le.lookahead,le.block_start=le.strstart,le.insert=le.lookahead,le.lookahead=0,le.match_length=le.prev_length=Z-1,le.match_available=0,E.next_in=Ce,E.input=ne,E.avail_in=Te,le.wrap=K,x},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(a,l,r){l.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(a,l,r){l.exports=function(c,h){var p,y,m,_,S,A,x,M,b,I,R,k,z,H,O,W,J,de,Z,ge,Me,V,se,w,he;p=c.state,y=c.next_in,w=c.input,m=y+(c.avail_in-5),_=c.next_out,he=c.output,S=_-(h-c.avail_out),A=_+(c.avail_out-257),x=p.dmax,M=p.wsize,b=p.whave,I=p.wnext,R=p.window,k=p.hold,z=p.bits,H=p.lencode,O=p.distcode,W=(1<<p.lenbits)-1,J=(1<<p.distbits)-1;e:do{z<15&&(k+=w[y++]<<z,z+=8,k+=w[y++]<<z,z+=8),de=H[k&W];t:for(;;){if(k>>>=Z=de>>>24,z-=Z,(Z=de>>>16&255)===0)he[_++]=65535&de;else{if(!(16&Z)){if((64&Z)==0){de=H[(65535&de)+(k&(1<<Z)-1)];continue t}if(32&Z){p.mode=12;break e}c.msg="invalid literal/length code",p.mode=30;break e}ge=65535&de,(Z&=15)&&(z<Z&&(k+=w[y++]<<z,z+=8),ge+=k&(1<<Z)-1,k>>>=Z,z-=Z),z<15&&(k+=w[y++]<<z,z+=8,k+=w[y++]<<z,z+=8),de=O[k&J];n:for(;;){if(k>>>=Z=de>>>24,z-=Z,!(16&(Z=de>>>16&255))){if((64&Z)==0){de=O[(65535&de)+(k&(1<<Z)-1)];continue n}c.msg="invalid distance code",p.mode=30;break e}if(Me=65535&de,z<(Z&=15)&&(k+=w[y++]<<z,(z+=8)<Z&&(k+=w[y++]<<z,z+=8)),x<(Me+=k&(1<<Z)-1)){c.msg="invalid distance too far back",p.mode=30;break e}if(k>>>=Z,z-=Z,(Z=_-S)<Me){if(b<(Z=Me-Z)&&p.sane){c.msg="invalid distance too far back",p.mode=30;break e}if(se=R,(V=0)===I){if(V+=M-Z,Z<ge){for(ge-=Z;he[_++]=R[V++],--Z;);V=_-Me,se=he}}else if(I<Z){if(V+=M+I-Z,(Z-=I)<ge){for(ge-=Z;he[_++]=R[V++],--Z;);if(V=0,I<ge){for(ge-=Z=I;he[_++]=R[V++],--Z;);V=_-Me,se=he}}}else if(V+=I-Z,Z<ge){for(ge-=Z;he[_++]=R[V++],--Z;);V=_-Me,se=he}for(;2<ge;)he[_++]=se[V++],he[_++]=se[V++],he[_++]=se[V++],ge-=3;ge&&(he[_++]=se[V++],1<ge&&(he[_++]=se[V++]))}else{for(V=_-Me;he[_++]=he[V++],he[_++]=he[V++],he[_++]=he[V++],2<(ge-=3););ge&&(he[_++]=he[V++],1<ge&&(he[_++]=he[V++]))}break}}break}}while(y<m&&_<A);y-=ge=z>>3,k&=(1<<(z-=ge<<3))-1,c.next_in=y,c.next_out=_,c.avail_in=y<m?m-y+5:5-(y-m),c.avail_out=_<A?A-_+257:257-(_-A),p.hold=k,p.bits=z}},{}],49:[function(a,l,r){var c=a("../utils/common"),h=a("./adler32"),p=a("./crc32"),y=a("./inffast"),m=a("./inftrees"),_=1,S=2,A=0,x=-2,M=1,b=852,I=592;function R(V){return(V>>>24&255)+(V>>>8&65280)+((65280&V)<<8)+((255&V)<<24)}function k(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new c.Buf16(320),this.work=new c.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function z(V){var se;return V&&V.state?(se=V.state,V.total_in=V.total_out=se.total=0,V.msg="",se.wrap&&(V.adler=1&se.wrap),se.mode=M,se.last=0,se.havedict=0,se.dmax=32768,se.head=null,se.hold=0,se.bits=0,se.lencode=se.lendyn=new c.Buf32(b),se.distcode=se.distdyn=new c.Buf32(I),se.sane=1,se.back=-1,A):x}function H(V){var se;return V&&V.state?((se=V.state).wsize=0,se.whave=0,se.wnext=0,z(V)):x}function O(V,se){var w,he;return V&&V.state?(he=V.state,se<0?(w=0,se=-se):(w=1+(se>>4),se<48&&(se&=15)),se&&(se<8||15<se)?x:(he.window!==null&&he.wbits!==se&&(he.window=null),he.wrap=w,he.wbits=se,H(V))):x}function W(V,se){var w,he;return V?(he=new k,(V.state=he).window=null,(w=O(V,se))!==A&&(V.state=null),w):x}var J,de,Z=!0;function ge(V){if(Z){var se;for(J=new c.Buf32(512),de=new c.Buf32(32),se=0;se<144;)V.lens[se++]=8;for(;se<256;)V.lens[se++]=9;for(;se<280;)V.lens[se++]=7;for(;se<288;)V.lens[se++]=8;for(m(_,V.lens,0,288,J,0,V.work,{bits:9}),se=0;se<32;)V.lens[se++]=5;m(S,V.lens,0,32,de,0,V.work,{bits:5}),Z=!1}V.lencode=J,V.lenbits=9,V.distcode=de,V.distbits=5}function Me(V,se,w,he){var j,Q=V.state;return Q.window===null&&(Q.wsize=1<<Q.wbits,Q.wnext=0,Q.whave=0,Q.window=new c.Buf8(Q.wsize)),he>=Q.wsize?(c.arraySet(Q.window,se,w-Q.wsize,Q.wsize,0),Q.wnext=0,Q.whave=Q.wsize):(he<(j=Q.wsize-Q.wnext)&&(j=he),c.arraySet(Q.window,se,w-he,j,Q.wnext),(he-=j)?(c.arraySet(Q.window,se,w-he,he,0),Q.wnext=he,Q.whave=Q.wsize):(Q.wnext+=j,Q.wnext===Q.wsize&&(Q.wnext=0),Q.whave<Q.wsize&&(Q.whave+=j))),0}r.inflateReset=H,r.inflateReset2=O,r.inflateResetKeep=z,r.inflateInit=function(V){return W(V,15)},r.inflateInit2=W,r.inflate=function(V,se){var w,he,j,Q,Ee,ye,Re,D,B,ce,re,pe,Ue,Oe,He,Ve,pt,ft,qt,en,E,ve,le,G,P=0,K=new c.Buf8(4),Te=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!V||!V.state||!V.output||!V.input&&V.avail_in!==0)return x;(w=V.state).mode===12&&(w.mode=13),Ee=V.next_out,j=V.output,Re=V.avail_out,Q=V.next_in,he=V.input,ye=V.avail_in,D=w.hold,B=w.bits,ce=ye,re=Re,ve=A;e:for(;;)switch(w.mode){case M:if(w.wrap===0){w.mode=13;break}for(;B<16;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(2&w.wrap&&D===35615){K[w.check=0]=255&D,K[1]=D>>>8&255,w.check=p(w.check,K,2,0),B=D=0,w.mode=2;break}if(w.flags=0,w.head&&(w.head.done=!1),!(1&w.wrap)||(((255&D)<<8)+(D>>8))%31){V.msg="incorrect header check",w.mode=30;break}if((15&D)!=8){V.msg="unknown compression method",w.mode=30;break}if(B-=4,E=8+(15&(D>>>=4)),w.wbits===0)w.wbits=E;else if(E>w.wbits){V.msg="invalid window size",w.mode=30;break}w.dmax=1<<E,V.adler=w.check=1,w.mode=512&D?10:12,B=D=0;break;case 2:for(;B<16;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(w.flags=D,(255&w.flags)!=8){V.msg="unknown compression method",w.mode=30;break}if(57344&w.flags){V.msg="unknown header flags set",w.mode=30;break}w.head&&(w.head.text=D>>8&1),512&w.flags&&(K[0]=255&D,K[1]=D>>>8&255,w.check=p(w.check,K,2,0)),B=D=0,w.mode=3;case 3:for(;B<32;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.head&&(w.head.time=D),512&w.flags&&(K[0]=255&D,K[1]=D>>>8&255,K[2]=D>>>16&255,K[3]=D>>>24&255,w.check=p(w.check,K,4,0)),B=D=0,w.mode=4;case 4:for(;B<16;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.head&&(w.head.xflags=255&D,w.head.os=D>>8),512&w.flags&&(K[0]=255&D,K[1]=D>>>8&255,w.check=p(w.check,K,2,0)),B=D=0,w.mode=5;case 5:if(1024&w.flags){for(;B<16;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.length=D,w.head&&(w.head.extra_len=D),512&w.flags&&(K[0]=255&D,K[1]=D>>>8&255,w.check=p(w.check,K,2,0)),B=D=0}else w.head&&(w.head.extra=null);w.mode=6;case 6:if(1024&w.flags&&(ye<(pe=w.length)&&(pe=ye),pe&&(w.head&&(E=w.head.extra_len-w.length,w.head.extra||(w.head.extra=new Array(w.head.extra_len)),c.arraySet(w.head.extra,he,Q,pe,E)),512&w.flags&&(w.check=p(w.check,he,pe,Q)),ye-=pe,Q+=pe,w.length-=pe),w.length))break e;w.length=0,w.mode=7;case 7:if(2048&w.flags){if(ye===0)break e;for(pe=0;E=he[Q+pe++],w.head&&E&&w.length<65536&&(w.head.name+=String.fromCharCode(E)),E&&pe<ye;);if(512&w.flags&&(w.check=p(w.check,he,pe,Q)),ye-=pe,Q+=pe,E)break e}else w.head&&(w.head.name=null);w.length=0,w.mode=8;case 8:if(4096&w.flags){if(ye===0)break e;for(pe=0;E=he[Q+pe++],w.head&&E&&w.length<65536&&(w.head.comment+=String.fromCharCode(E)),E&&pe<ye;);if(512&w.flags&&(w.check=p(w.check,he,pe,Q)),ye-=pe,Q+=pe,E)break e}else w.head&&(w.head.comment=null);w.mode=9;case 9:if(512&w.flags){for(;B<16;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(D!==(65535&w.check)){V.msg="header crc mismatch",w.mode=30;break}B=D=0}w.head&&(w.head.hcrc=w.flags>>9&1,w.head.done=!0),V.adler=w.check=0,w.mode=12;break;case 10:for(;B<32;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}V.adler=w.check=R(D),B=D=0,w.mode=11;case 11:if(w.havedict===0)return V.next_out=Ee,V.avail_out=Re,V.next_in=Q,V.avail_in=ye,w.hold=D,w.bits=B,2;V.adler=w.check=1,w.mode=12;case 12:if(se===5||se===6)break e;case 13:if(w.last){D>>>=7&B,B-=7&B,w.mode=27;break}for(;B<3;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}switch(w.last=1&D,B-=1,3&(D>>>=1)){case 0:w.mode=14;break;case 1:if(ge(w),w.mode=20,se!==6)break;D>>>=2,B-=2;break e;case 2:w.mode=17;break;case 3:V.msg="invalid block type",w.mode=30}D>>>=2,B-=2;break;case 14:for(D>>>=7&B,B-=7&B;B<32;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if((65535&D)!=(D>>>16^65535)){V.msg="invalid stored block lengths",w.mode=30;break}if(w.length=65535&D,B=D=0,w.mode=15,se===6)break e;case 15:w.mode=16;case 16:if(pe=w.length){if(ye<pe&&(pe=ye),Re<pe&&(pe=Re),pe===0)break e;c.arraySet(j,he,Q,pe,Ee),ye-=pe,Q+=pe,Re-=pe,Ee+=pe,w.length-=pe;break}w.mode=12;break;case 17:for(;B<14;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(w.nlen=257+(31&D),D>>>=5,B-=5,w.ndist=1+(31&D),D>>>=5,B-=5,w.ncode=4+(15&D),D>>>=4,B-=4,286<w.nlen||30<w.ndist){V.msg="too many length or distance symbols",w.mode=30;break}w.have=0,w.mode=18;case 18:for(;w.have<w.ncode;){for(;B<3;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.lens[Te[w.have++]]=7&D,D>>>=3,B-=3}for(;w.have<19;)w.lens[Te[w.have++]]=0;if(w.lencode=w.lendyn,w.lenbits=7,le={bits:w.lenbits},ve=m(0,w.lens,0,19,w.lencode,0,w.work,le),w.lenbits=le.bits,ve){V.msg="invalid code lengths set",w.mode=30;break}w.have=0,w.mode=19;case 19:for(;w.have<w.nlen+w.ndist;){for(;Ve=(P=w.lencode[D&(1<<w.lenbits)-1])>>>16&255,pt=65535&P,!((He=P>>>24)<=B);){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(pt<16)D>>>=He,B-=He,w.lens[w.have++]=pt;else{if(pt===16){for(G=He+2;B<G;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(D>>>=He,B-=He,w.have===0){V.msg="invalid bit length repeat",w.mode=30;break}E=w.lens[w.have-1],pe=3+(3&D),D>>>=2,B-=2}else if(pt===17){for(G=He+3;B<G;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}B-=He,E=0,pe=3+(7&(D>>>=He)),D>>>=3,B-=3}else{for(G=He+7;B<G;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}B-=He,E=0,pe=11+(127&(D>>>=He)),D>>>=7,B-=7}if(w.have+pe>w.nlen+w.ndist){V.msg="invalid bit length repeat",w.mode=30;break}for(;pe--;)w.lens[w.have++]=E}}if(w.mode===30)break;if(w.lens[256]===0){V.msg="invalid code -- missing end-of-block",w.mode=30;break}if(w.lenbits=9,le={bits:w.lenbits},ve=m(_,w.lens,0,w.nlen,w.lencode,0,w.work,le),w.lenbits=le.bits,ve){V.msg="invalid literal/lengths set",w.mode=30;break}if(w.distbits=6,w.distcode=w.distdyn,le={bits:w.distbits},ve=m(S,w.lens,w.nlen,w.ndist,w.distcode,0,w.work,le),w.distbits=le.bits,ve){V.msg="invalid distances set",w.mode=30;break}if(w.mode=20,se===6)break e;case 20:w.mode=21;case 21:if(6<=ye&&258<=Re){V.next_out=Ee,V.avail_out=Re,V.next_in=Q,V.avail_in=ye,w.hold=D,w.bits=B,y(V,re),Ee=V.next_out,j=V.output,Re=V.avail_out,Q=V.next_in,he=V.input,ye=V.avail_in,D=w.hold,B=w.bits,w.mode===12&&(w.back=-1);break}for(w.back=0;Ve=(P=w.lencode[D&(1<<w.lenbits)-1])>>>16&255,pt=65535&P,!((He=P>>>24)<=B);){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(Ve&&(240&Ve)==0){for(ft=He,qt=Ve,en=pt;Ve=(P=w.lencode[en+((D&(1<<ft+qt)-1)>>ft)])>>>16&255,pt=65535&P,!(ft+(He=P>>>24)<=B);){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}D>>>=ft,B-=ft,w.back+=ft}if(D>>>=He,B-=He,w.back+=He,w.length=pt,Ve===0){w.mode=26;break}if(32&Ve){w.back=-1,w.mode=12;break}if(64&Ve){V.msg="invalid literal/length code",w.mode=30;break}w.extra=15&Ve,w.mode=22;case 22:if(w.extra){for(G=w.extra;B<G;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.length+=D&(1<<w.extra)-1,D>>>=w.extra,B-=w.extra,w.back+=w.extra}w.was=w.length,w.mode=23;case 23:for(;Ve=(P=w.distcode[D&(1<<w.distbits)-1])>>>16&255,pt=65535&P,!((He=P>>>24)<=B);){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if((240&Ve)==0){for(ft=He,qt=Ve,en=pt;Ve=(P=w.distcode[en+((D&(1<<ft+qt)-1)>>ft)])>>>16&255,pt=65535&P,!(ft+(He=P>>>24)<=B);){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}D>>>=ft,B-=ft,w.back+=ft}if(D>>>=He,B-=He,w.back+=He,64&Ve){V.msg="invalid distance code",w.mode=30;break}w.offset=pt,w.extra=15&Ve,w.mode=24;case 24:if(w.extra){for(G=w.extra;B<G;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}w.offset+=D&(1<<w.extra)-1,D>>>=w.extra,B-=w.extra,w.back+=w.extra}if(w.offset>w.dmax){V.msg="invalid distance too far back",w.mode=30;break}w.mode=25;case 25:if(Re===0)break e;if(pe=re-Re,w.offset>pe){if((pe=w.offset-pe)>w.whave&&w.sane){V.msg="invalid distance too far back",w.mode=30;break}Ue=pe>w.wnext?(pe-=w.wnext,w.wsize-pe):w.wnext-pe,pe>w.length&&(pe=w.length),Oe=w.window}else Oe=j,Ue=Ee-w.offset,pe=w.length;for(Re<pe&&(pe=Re),Re-=pe,w.length-=pe;j[Ee++]=Oe[Ue++],--pe;);w.length===0&&(w.mode=21);break;case 26:if(Re===0)break e;j[Ee++]=w.length,Re--,w.mode=21;break;case 27:if(w.wrap){for(;B<32;){if(ye===0)break e;ye--,D|=he[Q++]<<B,B+=8}if(re-=Re,V.total_out+=re,w.total+=re,re&&(V.adler=w.check=w.flags?p(w.check,j,re,Ee-re):h(w.check,j,re,Ee-re)),re=Re,(w.flags?D:R(D))!==w.check){V.msg="incorrect data check",w.mode=30;break}B=D=0}w.mode=28;case 28:if(w.wrap&&w.flags){for(;B<32;){if(ye===0)break e;ye--,D+=he[Q++]<<B,B+=8}if(D!==(4294967295&w.total)){V.msg="incorrect length check",w.mode=30;break}B=D=0}w.mode=29;case 29:ve=1;break e;case 30:ve=-3;break e;case 31:return-4;case 32:default:return x}return V.next_out=Ee,V.avail_out=Re,V.next_in=Q,V.avail_in=ye,w.hold=D,w.bits=B,(w.wsize||re!==V.avail_out&&w.mode<30&&(w.mode<27||se!==4))&&Me(V,V.output,V.next_out,re-V.avail_out)?(w.mode=31,-4):(ce-=V.avail_in,re-=V.avail_out,V.total_in+=ce,V.total_out+=re,w.total+=re,w.wrap&&re&&(V.adler=w.check=w.flags?p(w.check,j,re,V.next_out-re):h(w.check,j,re,V.next_out-re)),V.data_type=w.bits+(w.last?64:0)+(w.mode===12?128:0)+(w.mode===20||w.mode===15?256:0),(ce==0&&re===0||se===4)&&ve===A&&(ve=-5),ve)},r.inflateEnd=function(V){if(!V||!V.state)return x;var se=V.state;return se.window&&(se.window=null),V.state=null,A},r.inflateGetHeader=function(V,se){var w;return V&&V.state?(2&(w=V.state).wrap)==0?x:((w.head=se).done=!1,A):x},r.inflateSetDictionary=function(V,se){var w,he=se.length;return V&&V.state?(w=V.state).wrap!==0&&w.mode!==11?x:w.mode===11&&h(1,se,he,0)!==w.check?-3:Me(V,se,he,he)?(w.mode=31,-4):(w.havedict=1,A):x},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(a,l,r){var c=a("../utils/common"),h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],p=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],y=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],m=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];l.exports=function(_,S,A,x,M,b,I,R){var k,z,H,O,W,J,de,Z,ge,Me=R.bits,V=0,se=0,w=0,he=0,j=0,Q=0,Ee=0,ye=0,Re=0,D=0,B=null,ce=0,re=new c.Buf16(16),pe=new c.Buf16(16),Ue=null,Oe=0;for(V=0;V<=15;V++)re[V]=0;for(se=0;se<x;se++)re[S[A+se]]++;for(j=Me,he=15;1<=he&&re[he]===0;he--);if(he<j&&(j=he),he===0)return M[b++]=20971520,M[b++]=20971520,R.bits=1,0;for(w=1;w<he&&re[w]===0;w++);for(j<w&&(j=w),V=ye=1;V<=15;V++)if(ye<<=1,(ye-=re[V])<0)return-1;if(0<ye&&(_===0||he!==1))return-1;for(pe[1]=0,V=1;V<15;V++)pe[V+1]=pe[V]+re[V];for(se=0;se<x;se++)S[A+se]!==0&&(I[pe[S[A+se]]++]=se);if(J=_===0?(B=Ue=I,19):_===1?(B=h,ce-=257,Ue=p,Oe-=257,256):(B=y,Ue=m,-1),V=w,W=b,Ee=se=D=0,H=-1,O=(Re=1<<(Q=j))-1,_===1&&852<Re||_===2&&592<Re)return 1;for(;;){for(de=V-Ee,ge=I[se]<J?(Z=0,I[se]):I[se]>J?(Z=Ue[Oe+I[se]],B[ce+I[se]]):(Z=96,0),k=1<<V-Ee,w=z=1<<Q;M[W+(D>>Ee)+(z-=k)]=de<<24|Z<<16|ge|0,z!==0;);for(k=1<<V-1;D&k;)k>>=1;if(k!==0?(D&=k-1,D+=k):D=0,se++,--re[V]==0){if(V===he)break;V=S[A+I[se]]}if(j<V&&(D&O)!==H){for(Ee===0&&(Ee=j),W+=w,ye=1<<(Q=V-Ee);Q+Ee<he&&!((ye-=re[Q+Ee])<=0);)Q++,ye<<=1;if(Re+=1<<Q,_===1&&852<Re||_===2&&592<Re)return 1;M[H=D&O]=j<<24|Q<<16|W-b|0}}return D!==0&&(M[W+D]=V-Ee<<24|64<<16|0),R.bits=j,0}},{"../utils/common":41}],51:[function(a,l,r){l.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(a,l,r){var c=a("../utils/common"),h=0,p=1;function y(P){for(var K=P.length;0<=--K;)P[K]=0}var m=0,_=29,S=256,A=S+1+_,x=30,M=19,b=2*A+1,I=15,R=16,k=7,z=256,H=16,O=17,W=18,J=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],de=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ge=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Me=new Array(2*(A+2));y(Me);var V=new Array(2*x);y(V);var se=new Array(512);y(se);var w=new Array(256);y(w);var he=new Array(_);y(he);var j,Q,Ee,ye=new Array(x);function Re(P,K,Te,Ce,ne){this.static_tree=P,this.extra_bits=K,this.extra_base=Te,this.elems=Ce,this.max_length=ne,this.has_stree=P&&P.length}function D(P,K){this.dyn_tree=P,this.max_code=0,this.stat_desc=K}function B(P){return P<256?se[P]:se[256+(P>>>7)]}function ce(P,K){P.pending_buf[P.pending++]=255&K,P.pending_buf[P.pending++]=K>>>8&255}function re(P,K,Te){P.bi_valid>R-Te?(P.bi_buf|=K<<P.bi_valid&65535,ce(P,P.bi_buf),P.bi_buf=K>>R-P.bi_valid,P.bi_valid+=Te-R):(P.bi_buf|=K<<P.bi_valid&65535,P.bi_valid+=Te)}function pe(P,K,Te){re(P,Te[2*K],Te[2*K+1])}function Ue(P,K){for(var Te=0;Te|=1&P,P>>>=1,Te<<=1,0<--K;);return Te>>>1}function Oe(P,K,Te){var Ce,ne,be=new Array(I+1),Ne=0;for(Ce=1;Ce<=I;Ce++)be[Ce]=Ne=Ne+Te[Ce-1]<<1;for(ne=0;ne<=K;ne++){var we=P[2*ne+1];we!==0&&(P[2*ne]=Ue(be[we]++,we))}}function He(P){var K;for(K=0;K<A;K++)P.dyn_ltree[2*K]=0;for(K=0;K<x;K++)P.dyn_dtree[2*K]=0;for(K=0;K<M;K++)P.bl_tree[2*K]=0;P.dyn_ltree[2*z]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function Ve(P){8<P.bi_valid?ce(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function pt(P,K,Te,Ce){var ne=2*K,be=2*Te;return P[ne]<P[be]||P[ne]===P[be]&&Ce[K]<=Ce[Te]}function ft(P,K,Te){for(var Ce=P.heap[Te],ne=Te<<1;ne<=P.heap_len&&(ne<P.heap_len&&pt(K,P.heap[ne+1],P.heap[ne],P.depth)&&ne++,!pt(K,Ce,P.heap[ne],P.depth));)P.heap[Te]=P.heap[ne],Te=ne,ne<<=1;P.heap[Te]=Ce}function qt(P,K,Te){var Ce,ne,be,Ne,we=0;if(P.last_lit!==0)for(;Ce=P.pending_buf[P.d_buf+2*we]<<8|P.pending_buf[P.d_buf+2*we+1],ne=P.pending_buf[P.l_buf+we],we++,Ce===0?pe(P,ne,K):(pe(P,(be=w[ne])+S+1,K),(Ne=J[be])!==0&&re(P,ne-=he[be],Ne),pe(P,be=B(--Ce),Te),(Ne=de[be])!==0&&re(P,Ce-=ye[be],Ne)),we<P.last_lit;);pe(P,z,K)}function en(P,K){var Te,Ce,ne,be=K.dyn_tree,Ne=K.stat_desc.static_tree,we=K.stat_desc.has_stree,ze=K.stat_desc.elems,et=-1;for(P.heap_len=0,P.heap_max=b,Te=0;Te<ze;Te++)be[2*Te]!==0?(P.heap[++P.heap_len]=et=Te,P.depth[Te]=0):be[2*Te+1]=0;for(;P.heap_len<2;)be[2*(ne=P.heap[++P.heap_len]=et<2?++et:0)]=1,P.depth[ne]=0,P.opt_len--,we&&(P.static_len-=Ne[2*ne+1]);for(K.max_code=et,Te=P.heap_len>>1;1<=Te;Te--)ft(P,be,Te);for(ne=ze;Te=P.heap[1],P.heap[1]=P.heap[P.heap_len--],ft(P,be,1),Ce=P.heap[1],P.heap[--P.heap_max]=Te,P.heap[--P.heap_max]=Ce,be[2*ne]=be[2*Te]+be[2*Ce],P.depth[ne]=(P.depth[Te]>=P.depth[Ce]?P.depth[Te]:P.depth[Ce])+1,be[2*Te+1]=be[2*Ce+1]=ne,P.heap[1]=ne++,ft(P,be,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],(function(Je,Ht){var dn,rn,Kt,ut,Ut,un,Tt=Ht.dyn_tree,Ho=Ht.max_code,Qi=Ht.stat_desc.static_tree,bs=Ht.stat_desc.has_stree,Qe=Ht.stat_desc.extra_bits,Ti=Ht.stat_desc.extra_base,hn=Ht.stat_desc.max_length,tn=0;for(ut=0;ut<=I;ut++)Je.bl_count[ut]=0;for(Tt[2*Je.heap[Je.heap_max]+1]=0,dn=Je.heap_max+1;dn<b;dn++)hn<(ut=Tt[2*Tt[2*(rn=Je.heap[dn])+1]+1]+1)&&(ut=hn,tn++),Tt[2*rn+1]=ut,Ho<rn||(Je.bl_count[ut]++,Ut=0,Ti<=rn&&(Ut=Qe[rn-Ti]),un=Tt[2*rn],Je.opt_len+=un*(ut+Ut),bs&&(Je.static_len+=un*(Qi[2*rn+1]+Ut)));if(tn!==0){do{for(ut=hn-1;Je.bl_count[ut]===0;)ut--;Je.bl_count[ut]--,Je.bl_count[ut+1]+=2,Je.bl_count[hn]--,tn-=2}while(0<tn);for(ut=hn;ut!==0;ut--)for(rn=Je.bl_count[ut];rn!==0;)Ho<(Kt=Je.heap[--dn])||(Tt[2*Kt+1]!==ut&&(Je.opt_len+=(ut-Tt[2*Kt+1])*Tt[2*Kt],Tt[2*Kt+1]=ut),rn--)}})(P,K),Oe(be,et,P.bl_count)}function E(P,K,Te){var Ce,ne,be=-1,Ne=K[1],we=0,ze=7,et=4;for(Ne===0&&(ze=138,et=3),K[2*(Te+1)+1]=65535,Ce=0;Ce<=Te;Ce++)ne=Ne,Ne=K[2*(Ce+1)+1],++we<ze&&ne===Ne||(we<et?P.bl_tree[2*ne]+=we:ne!==0?(ne!==be&&P.bl_tree[2*ne]++,P.bl_tree[2*H]++):we<=10?P.bl_tree[2*O]++:P.bl_tree[2*W]++,be=ne,et=(we=0)===Ne?(ze=138,3):ne===Ne?(ze=6,3):(ze=7,4))}function ve(P,K,Te){var Ce,ne,be=-1,Ne=K[1],we=0,ze=7,et=4;for(Ne===0&&(ze=138,et=3),Ce=0;Ce<=Te;Ce++)if(ne=Ne,Ne=K[2*(Ce+1)+1],!(++we<ze&&ne===Ne)){if(we<et)for(;pe(P,ne,P.bl_tree),--we!=0;);else ne!==0?(ne!==be&&(pe(P,ne,P.bl_tree),we--),pe(P,H,P.bl_tree),re(P,we-3,2)):we<=10?(pe(P,O,P.bl_tree),re(P,we-3,3)):(pe(P,W,P.bl_tree),re(P,we-11,7));be=ne,et=(we=0)===Ne?(ze=138,3):ne===Ne?(ze=6,3):(ze=7,4)}}y(ye);var le=!1;function G(P,K,Te,Ce){re(P,(m<<1)+(Ce?1:0),3),(function(ne,be,Ne,we){Ve(ne),ce(ne,Ne),ce(ne,~Ne),c.arraySet(ne.pending_buf,ne.window,be,Ne,ne.pending),ne.pending+=Ne})(P,K,Te)}r._tr_init=function(P){le||((function(){var K,Te,Ce,ne,be,Ne=new Array(I+1);for(ne=Ce=0;ne<_-1;ne++)for(he[ne]=Ce,K=0;K<1<<J[ne];K++)w[Ce++]=ne;for(w[Ce-1]=ne,ne=be=0;ne<16;ne++)for(ye[ne]=be,K=0;K<1<<de[ne];K++)se[be++]=ne;for(be>>=7;ne<x;ne++)for(ye[ne]=be<<7,K=0;K<1<<de[ne]-7;K++)se[256+be++]=ne;for(Te=0;Te<=I;Te++)Ne[Te]=0;for(K=0;K<=143;)Me[2*K+1]=8,K++,Ne[8]++;for(;K<=255;)Me[2*K+1]=9,K++,Ne[9]++;for(;K<=279;)Me[2*K+1]=7,K++,Ne[7]++;for(;K<=287;)Me[2*K+1]=8,K++,Ne[8]++;for(Oe(Me,A+1,Ne),K=0;K<x;K++)V[2*K+1]=5,V[2*K]=Ue(K,5);j=new Re(Me,J,S+1,A,I),Q=new Re(V,de,0,x,I),Ee=new Re(new Array(0),Z,0,M,k)})(),le=!0),P.l_desc=new D(P.dyn_ltree,j),P.d_desc=new D(P.dyn_dtree,Q),P.bl_desc=new D(P.bl_tree,Ee),P.bi_buf=0,P.bi_valid=0,He(P)},r._tr_stored_block=G,r._tr_flush_block=function(P,K,Te,Ce){var ne,be,Ne=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(function(we){var ze,et=4093624447;for(ze=0;ze<=31;ze++,et>>>=1)if(1&et&&we.dyn_ltree[2*ze]!==0)return h;if(we.dyn_ltree[18]!==0||we.dyn_ltree[20]!==0||we.dyn_ltree[26]!==0)return p;for(ze=32;ze<S;ze++)if(we.dyn_ltree[2*ze]!==0)return p;return h})(P)),en(P,P.l_desc),en(P,P.d_desc),Ne=(function(we){var ze;for(E(we,we.dyn_ltree,we.l_desc.max_code),E(we,we.dyn_dtree,we.d_desc.max_code),en(we,we.bl_desc),ze=M-1;3<=ze&&we.bl_tree[2*ge[ze]+1]===0;ze--);return we.opt_len+=3*(ze+1)+5+5+4,ze})(P),ne=P.opt_len+3+7>>>3,(be=P.static_len+3+7>>>3)<=ne&&(ne=be)):ne=be=Te+5,Te+4<=ne&&K!==-1?G(P,K,Te,Ce):P.strategy===4||be===ne?(re(P,2+(Ce?1:0),3),qt(P,Me,V)):(re(P,4+(Ce?1:0),3),(function(we,ze,et,Je){var Ht;for(re(we,ze-257,5),re(we,et-1,5),re(we,Je-4,4),Ht=0;Ht<Je;Ht++)re(we,we.bl_tree[2*ge[Ht]+1],3);ve(we,we.dyn_ltree,ze-1),ve(we,we.dyn_dtree,et-1)})(P,P.l_desc.max_code+1,P.d_desc.max_code+1,Ne+1),qt(P,P.dyn_ltree,P.dyn_dtree)),He(P),Ce&&Ve(P)},r._tr_tally=function(P,K,Te){return P.pending_buf[P.d_buf+2*P.last_lit]=K>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&K,P.pending_buf[P.l_buf+P.last_lit]=255&Te,P.last_lit++,K===0?P.dyn_ltree[2*Te]++:(P.matches++,K--,P.dyn_ltree[2*(w[Te]+S+1)]++,P.dyn_dtree[2*B(K)]++),P.last_lit===P.lit_bufsize-1},r._tr_align=function(P){re(P,2,3),pe(P,z,Me),(function(K){K.bi_valid===16?(ce(K,K.bi_buf),K.bi_buf=0,K.bi_valid=0):8<=K.bi_valid&&(K.pending_buf[K.pending++]=255&K.bi_buf,K.bi_buf>>=8,K.bi_valid-=8)})(P)}},{"../utils/common":41}],53:[function(a,l,r){l.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(a,l,r){(function(c){(function(h,p){if(!h.setImmediate){var y,m,_,S,A=1,x={},M=!1,b=h.document,I=Object.getPrototypeOf&&Object.getPrototypeOf(h);I=I&&I.setTimeout?I:h,y={}.toString.call(h.process)==="[object process]"?function(H){process.nextTick(function(){k(H)})}:(function(){if(h.postMessage&&!h.importScripts){var H=!0,O=h.onmessage;return h.onmessage=function(){H=!1},h.postMessage("","*"),h.onmessage=O,H}})()?(S="setImmediate$"+Math.random()+"$",h.addEventListener?h.addEventListener("message",z,!1):h.attachEvent("onmessage",z),function(H){h.postMessage(S+H,"*")}):h.MessageChannel?((_=new MessageChannel).port1.onmessage=function(H){k(H.data)},function(H){_.port2.postMessage(H)}):b&&"onreadystatechange"in b.createElement("script")?(m=b.documentElement,function(H){var O=b.createElement("script");O.onreadystatechange=function(){k(H),O.onreadystatechange=null,m.removeChild(O),O=null},m.appendChild(O)}):function(H){setTimeout(k,0,H)},I.setImmediate=function(H){typeof H!="function"&&(H=new Function(""+H));for(var O=new Array(arguments.length-1),W=0;W<O.length;W++)O[W]=arguments[W+1];var J={callback:H,args:O};return x[A]=J,y(A),A++},I.clearImmediate=R}function R(H){delete x[H]}function k(H){if(M)setTimeout(k,0,H);else{var O=x[H];if(O){M=!0;try{(function(W){var J=W.callback,de=W.args;switch(de.length){case 0:J();break;case 1:J(de[0]);break;case 2:J(de[0],de[1]);break;case 3:J(de[0],de[1],de[2]);break;default:J.apply(p,de)}})(O)}finally{R(H),M=!1}}}}function z(H){H.source===h&&typeof H.data=="string"&&H.data.indexOf(S)===0&&k(+H.data.slice(S.length))}})(typeof self>"u"?c===void 0?this:c:self)}).call(this,typeof cu<"u"?cu:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Af)),Af.exports}var iA=nA();const Ef=zf(iA),cg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),v.jsx("path",{d:"M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"})]}),hu=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"#2ECC71",strokeWidth:"3",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polyline",{points:"20 6 9 17 4 12"})}),Tu=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"}),v.jsx("polyline",{points:"7 10 12 15 17 10"}),v.jsx("line",{x1:"12",y1:"15",x2:"12",y2:"3"})]}),oA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"23 4 23 10 17 10"}),v.jsx("path",{d:"M20.49 15a9 9 0 1 1-2.12-9.36L23 10"})]}),pu=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"8",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"16",x2:"12.01",y2:"16"})]}),fg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),v.jsx("circle",{cx:"8.5",cy:"8.5",r:"1.5"}),v.jsx("polyline",{points:"21 15 16 10 5 21"})]}),dg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"23 7 16 12 23 17 23 7"}),v.jsx("rect",{x:"1",y:"5",width:"15",height:"14",rx:"2",ry:"2"})]}),aA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polygon",{points:"11 5 6 9 2 9 2 15 6 15 11 19 11 5"}),v.jsx("path",{d:"M15.54 8.46a5 5 0 0 1 0 7.07"})]}),Jg=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("polygon",{points:"5 3 19 12 5 21 5 3"})}),sA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("rect",{x:"6",y:"4",width:"4",height:"16"}),v.jsx("rect",{x:"14",y:"4",width:"4",height:"16"})]}),lA=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"currentColor",stroke:"currentColor",strokeWidth:"1",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("rect",{x:"6",y:"6",width:"12",height:"12"})}),rA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("polyline",{points:"3 6 5 6 21 6"}),v.jsx("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"})]}),uA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m12 1-9.5 2.5v11l9.5 5 9.5-5v-11z"}),v.jsx("path",{d:"m12 22 9.5-5"}),v.jsx("path",{d:"m3.5 18.5 9.5-5"}),v.jsx("path",{d:"m3.5 3.5 9.5 5 9.5-5"})]}),hg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"}),v.jsx("path",{d:"m12 8-2 4 4 2 2-4-4-2z"}),v.jsx("path",{d:"M12 12v10"})]}),cA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M16 2H8a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2z"}),v.jsx("line",{x1:"12",x2:"12",y1:"18",y2:"18"}),v.jsx("line",{x1:"12",x2:"12",y1:"14",y2:"14"})]}),fA=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"})}),pg=()=>v.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:v.jsx("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"})}),mg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"m22 2-7 20-4-9-9-4Z"}),v.jsx("path",{d:"m22 2-11 11"})]}),dA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10C3.73 6.66 5.14 6.32 6.9 6.2c1.7-.1 3.1-.2 4.7-.2h.4c1.6 0 3 .1 4.6.2c1.8.13 3.18.47 4.4 1.1c1.26.63 2.1 1.7 2.4 3.2c.3 1.5.4 3.1.4 4.6c0 1.6-.1 3.1-.4 4.6c-.3 1.5-1.14 2.57-2.4 3.2c-1.22.63-2.62.97-4.4 1.1c-1.6.1-3 .2-4.6.2h-.4c-1.6 0-3-.1-4.6.2c-1.8-.12-3.2-.46-4.5-1.1C3.6 19.26 2.8 18.16 2.5 17Z"}),v.jsx("path",{d:"m10 15 5-3-5-3z"})]}),hA=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.72"}),v.jsx("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.72-1.72"})]}),gg=()=>v.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[v.jsx("circle",{cx:"12",cy:"12",r:"10"}),v.jsx("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),v.jsx("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})]});class pA{constructor(){this.db=null,this.DB_NAME="AI-AutomationerDB",this.DB_VERSION=1,this.STORE_NAME="projects",this.init()}init(){return new Promise((n,a)=>{const l=indexedDB.open(this.DB_NAME,this.DB_VERSION);l.onerror=()=>a("IndexedDB initialization error"),l.onsuccess=()=>{this.db=l.result,n()},l.onupgradeneeded=r=>{const c=r.target.result;c.objectStoreNames.contains(this.STORE_NAME)||c.createObjectStore(this.STORE_NAME,{keyPath:"projectName"})}})}async getDb(){return this.db||await this.init(),this.db}async saveProject(n){const a=await this.getDb();return new Promise((l,r)=>{const p=a.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).put(n);p.onerror=()=>r("Error saving project"),p.onsuccess=()=>l()})}async loadProject(n){const a=await this.getDb();return new Promise((l,r)=>{const p=a.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).get(n);p.onerror=()=>r("Error loading project"),p.onsuccess=()=>l(p.result)})}async deleteProject(n){const a=await this.getDb();return new Promise((l,r)=>{const p=a.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).delete(n);p.onerror=()=>r("Error deleting project"),p.onsuccess=()=>l()})}async getAllProjectNames(){const n=await this.getDb();return new Promise((a,l)=>{const h=n.transaction(this.STORE_NAME,"readonly").objectStore(this.STORE_NAME).getAllKeys();h.onerror=()=>l("Error fetching project names"),h.onsuccess=()=>a(h.result)})}async clearAllProjects(){const n=await this.getDb();return new Promise((a,l)=>{const h=n.transaction(this.STORE_NAME,"readwrite").objectStore(this.STORE_NAME).clear();h.onerror=()=>l("Error clearing projects"),h.onsuccess=()=>a()})}}const Il=new pA,mu=["Realistic","Horror","Mystery","History","Documentary","Fitness","Anatomy","Real Footage","CCTV","Found Footage","Fantasy","Sci-Fi","Cinematic","Motivational","Thriller","Comedy","Romance","Vlog","Educational","Animation"],gu=["Photorealistic","Cinematic","Studio Light","Dramatic Lighting","4K","HDR","Surreal","Ethereal","Dreamy","Haze","Fantasy Art","Anime","Gaming","Pencil Drawing","Charcoal Sketch","Pastel Painting","Digital Art","Art Deco","Impressionist","Renaissance Painting","Pop Art","Minimalist","Modern Logo","Motion Blur","Soft Focus","Bokeh","Macro Lens","Wide Angle","Fisheye Lens","VHS Grain","Film Grain","Toon Realism","3D Animation","Vibrant Colors","Monochrome","Low Poly","Isometric"],mA=[{value:"Default",description:"Let the AI decide the best shot for the scene."},{value:"Point of View / First Person",description:"Shows the scene from a character's eyes. Good for immersive or horror content."},{value:"Low Angle Shot",description:"Makes the subject look powerful or imposing. Used in action and drama."},{value:"High Angle Shot",description:"Makes the subject look vulnerable or small. Good for emotional scenes."},{value:"Bird's Eye View",description:"A shot from directly above. Great for establishing a location or showing scale."},{value:"Dutch Angle",description:"A tilted shot that creates a sense of unease or disorientation."},{value:"Over-the-Shoulder Shot",description:"Often used in conversations to show perspective."},{value:"Dynamic",description:"Implies camera movement like panning, tracking, or drone shots. Good for action."},{value:"Cinematic Close-up",description:"Focuses tightly on a character's face to show emotion."},{value:"Wide Shot / Establishing Shot",description:"Shows the entire scene and characters' relationship to it."},{value:"Macro Lens",description:"Extremely close-up shot to show fine details."}],gA=["All Tones","Neutral","Documentary","History","Fact","Odd Story","Crime Story","Horror Story","Sleeping Story","Kids Bedtime Story","Dynamic","Motivational","Taunting","Sad","Islamic History","Ancient","Nature/Geography","Cheerful","Happy","Angry","Excited","Fearful","Whispering","Shouting","Formal","Calm"],vs=[{conceptualName:"Aria (Narrator)",apiName:"zephyr",gender:"Female",category:"Narration",language:"English",tones:["Neutral","Calm","Documentary","History","Fact","Nature/Geography"],color:"#FF69B4",use_case:"A calm, clear female voice for narration or bedtime stories."},{conceptualName:"Serena (Soothing)",apiName:"zephyr",gender:"Female",category:"Narration",language:"English",tones:["Sleeping Story","Calm","Sad"],color:"#FF69B4",use_case:"A soft and soothing voice for meditation, relaxation, or sad stories."},{conceptualName:"Lily (Gentle)",apiName:"zephyr",gender:"Female",category:"Storytelling",language:"English",tones:["Kids Bedtime Story","Calm","Neutral"],color:"#FF69B4",use_case:"A gentle and kind voice, perfect for children's stories."},{conceptualName:"Ivy (Informative)",apiName:"zephyr",gender:"Female",category:"Narration",language:"English",tones:["Documentary","Fact","Nature/Geography","Formal"],color:"#FF69B4",use_case:"A clear and informative voice for educational or factual content."},{conceptualName:"Willow (Whisper)",apiName:"zephyr",gender:"Female",category:"Character",language:"English",tones:["Whispering","Fearful","Odd Story","Horror Story","Sleeping Story"],color:"#FF69B4",use_case:"A soft, whispering voice for mysterious, ASMR, or horror narratives."},{conceptualName:"Luna (Gentle)",apiName:"zephyr",gender:"Female",category:"Storytelling",language:"English",tones:["Sleeping Story","Kids Bedtime Story","Whispering","Calm"],color:"#FF69B4",use_case:"An extremely gentle and soft female voice, perfect for sleep stories and ASMR."},{conceptualName:"Old Grace (Elder)",apiName:"zephyr",gender:"Female",category:"Storytelling",language:"English",tones:["Sleeping Story","Kids Bedtime Story","Ancient","History","Calm"],color:"#FF69B4",use_case:"A calm, elderly female voice, like a wise grandmother telling stories."},{conceptualName:"Elena (Formal)",apiName:"kore",gender:"Female",category:"Formal",language:"English",tones:["Formal","Fact","Documentary"],color:"#FF69B4",use_case:"A firm, professional female voice for formal presentations or e-learning."},{conceptualName:"Nova (Upbeat)",apiName:"kore",gender:"Female",category:"Creative",language:"English",tones:["Cheerful","Happy","Dynamic","Excited","Motivational"],color:"#FF69B4",use_case:"A bright, friendly voice for vlogs, ads, or cheerful content."},{conceptualName:"Zara (Storyteller)",apiName:"kore",gender:"Female",category:"Storytelling",language:"English",tones:["Kids Bedtime Story","Happy","Cheerful","Dynamic"],color:"#FF69B4",use_case:"A warm and engaging female storyteller for kids and families."},{conceptualName:"Chloe (Conversational)",apiName:"kore",gender:"Female",category:"Creative",language:"English",tones:["Neutral","Happy","Dynamic"],color:"#FF69B4",use_case:"A natural, conversational voice for podcasts or friendly explainers."},{conceptualName:"Fiona (Fierce)",apiName:"kore",gender:"Female",category:"Character",language:"English",tones:["Angry","Shouting","Motivational","Taunting"],color:"#FF69B4",use_case:"A strong, assertive voice for powerful characters or motivational speeches."},{conceptualName:"Leo (Storyteller)",apiName:"puck",gender:"Male",category:"Storytelling",language:"English",tones:["Happy","Kids Bedtime Story","Cheerful","Dynamic"],color:"#1E90FF",use_case:"An upbeat, friendly male voice, great for animations and kids' stories."},{conceptualName:"Sam (Casual)",apiName:"puck",gender:"Male",category:"Creative",language:"English",tones:["Neutral","Happy","Cheerful"],color:"#1E90FF",use_case:"A casual, boy-next-door voice for vlogs or informal content."},{conceptualName:"Alex (Announcer)",apiName:"puck",gender:"Male",category:"Creative",language:"English",tones:["Dynamic","Excited","Happy"],color:"#1E90FF",use_case:"A clean, standard announcer voice for commercials or presentations."},{conceptualName:"Max (Dynamic)",apiName:"fenrir",gender:"Male",category:"Dynamic",language:"English",tones:["Excited","Dynamic","Motivational","Shouting","Angry"],color:"#1E90FF",use_case:"A high-energy, excitable voice for dynamic content like trailers or motivational videos."},{conceptualName:"Titan (Powerful)",apiName:"fenrir",gender:"Male",category:"Dynamic",language:"English",tones:["Motivational","Shouting","Angry","History"],color:"#1E90FF",use_case:"A powerful and commanding voice for epic trailers or historical declarations."},{conceptualName:"Spike (Animated)",apiName:"fenrir",gender:"Male",category:"Character",language:"English",tones:["Excited","Dynamic","Happy","Shouting","Fact"],color:"#1E90FF",use_case:"An energetic, slightly exaggerated voice for animated characters or factual narration."},{conceptualName:"David (Documentary)",apiName:"charon",gender:"Male",category:"Narration",language:"English",tones:["Documentary","History","Fact","Nature/Geography","Formal","Ancient","Islamic History"],color:"#1E90FF",use_case:"A deep, informative narrator, perfect for documentaries and historical content."},{conceptualName:"Orion (Calm)",apiName:"charon",gender:"Male",category:"Narration",language:"English",tones:["Calm","Neutral","Sleeping Story","Sad"],color:"#1E90FF",use_case:"A deep, soothing voice ideal for relaxation, meditation, or sad stories."},{conceptualName:"Atlas (Ancient)",apiName:"charon",gender:"Male",category:"Narration",language:"English",tones:["Ancient","History","Islamic History","Documentary"],color:"#1E90FF",use_case:"A wise, deep voice that carries the weight of history."},{conceptualName:"Morgan (Storybook)",apiName:"charon",gender:"Male",category:"Storytelling",language:"English",tones:["Sleeping Story","Kids Bedtime Story","Calm"],color:"#1E90FF",use_case:"A classic, deep storybook narrator voice, like a gentle giant."},{conceptualName:"Silas (Elder)",apiName:"charon",gender:"Male",category:"Narration",language:"English",tones:["Sleeping Story","Calm","Ancient"],color:"#1E90FF",use_case:"A very deep, old, and calm voice for relaxing sleep stories or ancient tales."},{conceptualName:"Grave (Horror)",apiName:"algenib",gender:"Male",category:"Character",language:"English",tones:["Horror Story","Crime Story","Ancient","Fearful","Whispering"],color:"#1E90FF",use_case:"A deep, gravelly voice for villains, horror, or ancient characters."},{conceptualName:"Kane (Taunting)",apiName:"algenib",gender:"Male",category:"Character",language:"English",tones:["Taunting","Angry","Crime Story","Horror Story"],color:"#1E90FF",use_case:"A menacing, deep voice suitable for antagonists or crime stories."},{conceptualName:"Silas (Odd Narrator)",apiName:"algenib",gender:"Male",category:"Character",language:"English",tones:["Odd Story","Crime Story","Mystery"],color:"#1E90FF",use_case:"A gritty, mysterious voice for odd stories or crime documentaries."},{conceptualName:"Rogue (Soldier)",apiName:"algenib",gender:"Male",category:"Character",language:"English",tones:["Angry","Shouting","Taunting"],color:"#1E90FF",use_case:"A rough, commanding voice for a soldier or aggressive character."}],yu=o=>new Promise((n,a)=>{const l=new FileReader;l.readAsDataURL(o),l.onload=()=>n(l.result),l.onerror=r=>a(r)}),yg=(o,n=2)=>{if(o===0)return"0 Bytes";const a=1024,l=n<0?0:n,r=["Bytes","KB","MB","GB"],c=Math.floor(Math.log(o)/Math.log(a));return parseFloat((o/Math.pow(a,c)).toFixed(l))+" "+r[c]},vg=()=>{let o=localStorage.getItem("deviceId");return o||(o=crypto.randomUUID(),localStorage.setItem("deviceId",o)),o};function vu(o){const n=atob(o),a=n.length,l=new Uint8Array(a);for(let r=0;r<a;r++)l[r]=n.charCodeAt(r);return l}async function yA(o,n,a,l){const r=new Int16Array(o.buffer),c=r.length/l,h=n.createBuffer(l,c,a);for(let p=0;p<l;p++){const y=h.getChannelData(p);for(let m=0;m<c;m++)y[m]=r[m*l+p]/32768}return h}const Dl=(o,n,a,l)=>{const r=o.length,c=new ArrayBuffer(44+r),h=new DataView(c),p=(_,S)=>{for(let A=0;A<S.length;A++)h.setUint8(_+A,S.charCodeAt(A))},y=a*(l/8),m=n*y;return p(0,"RIFF"),h.setUint32(4,36+r,!0),p(8,"WAVE"),p(12,"fmt "),h.setUint32(16,16,!0),h.setUint16(20,1,!0),h.setUint16(22,a,!0),h.setUint32(24,n,!0),h.setUint32(28,m,!0),h.setUint16(32,y,!0),h.setUint16(34,l,!0),p(36,"data"),h.setUint32(40,r,!0),new Uint8Array(c,44).set(o),new Blob([h],{type:"audio/wav"})},vA=(o,n=2800)=>{if(!o)return[];const a=o.split(/(\r\n|\n){2,}/).filter(c=>c&&c.trim().length>0);if(a.length===0)return[];const l=[];let r=a[0];for(let c=1;c<a.length;c++){const h=a[c];r.length+h.length+2>n?(l.push(r),r=h):r+=`

`+h}return r.length>0&&l.push(r),l},Ul=o=>{if(isNaN(o)||o<0)return"00:00";const n=Math.floor(o/60),a=Math.floor(o%60);return`${n.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")}`},xf=({src:o,onDownload:n,title:a})=>{const l=fe.useRef(null),[r,c]=fe.useState(!1),[h,p]=fe.useState(0),[y,m]=fe.useState(0),_=()=>{l.current&&(r?l.current.pause():l.current.play(),c(!r))},S=()=>{l.current&&m(l.current.currentTime)},A=()=>{l.current&&p(l.current.duration)},x=M=>{l.current&&(l.current.currentTime=Number(M.target.value),m(Number(M.target.value)))};return v.jsxs("div",{className:"custom-audio-player",children:[v.jsx("audio",{ref:l,src:o,onTimeUpdate:S,onLoadedMetadata:A,onEnded:()=>c(!1)}),v.jsx("button",{onClick:_,className:"player-play-btn",children:r?v.jsx(sA,{}):v.jsx(Jg,{})}),v.jsxs("div",{className:"player-progress-bar-container",children:[a&&v.jsxs("strong",{children:[a,": "]}),v.jsx("input",{type:"range",min:"0",max:h||0,value:y,onChange:x,className:"player-seek-slider"}),v.jsxs("span",{className:"player-time-display",children:[Ul(y)," / ",Ul(h)]})]}),v.jsx("button",{onClick:n,className:"player-download-btn",title:"Download Audio",children:v.jsx(Tu,{})})]})},_A=({onConfirm:o,onCancel:n,imageCount:a,isAutopilot:l})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Confirm Generation"}),v.jsxs("p",{children:["You are about to generate prompts and ",v.jsxs("strong",{children:[a," images"]}),". This may take some time."]}),l&&v.jsxs("p",{className:"autopilot-warning",children:[v.jsx("strong",{children:"Autopilot is ON."})," The app will automatically retry failed images and download the ZIP/prompts when complete."]}),v.jsx("p",{children:"Do you want to proceed?"}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:o,className:"confirm-btn",children:"Confirm & Generate"})]})]})}),SA=({onConfirm:o,onCancel:n,fromModel:a,toModel:l})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Prompt Mismatch Warning"}),v.jsxs("p",{children:['Your video prompts were generated for the "',v.jsx("strong",{children:a}),'" model, but you are about to generate videos with "',v.jsx("strong",{children:l}),'".']}),v.jsx("p",{children:"The prompt style may not be optimal. You can cancel to review and edit the video prompts, or proceed with the generation anyway."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel & Edit"}),v.jsx("button",{onClick:o,className:"confirm-btn",children:"Proceed Anyway"})]})]})}),TA=({projectName:o,onConfirm:n,onCancel:a})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Delete Project"}),v.jsxs("p",{children:['Are you sure you want to permanently delete the project "',v.jsx("strong",{children:o}),'"?']}),v.jsx("p",{children:"This action cannot be undone."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:a,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:n,className:"confirm-btn delete-confirm-btn",children:"Delete"})]})]})}),CA=({onConfirm:o,onCancel:n})=>v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content",children:[v.jsx("h3",{children:"Clear All Projects"}),v.jsxs("p",{children:["Are you sure you want to permanently delete ",v.jsx("strong",{children:"ALL"})," saved projects from your browser?"]}),v.jsx("p",{children:"This action cannot be undone. Your settings and API keys will not be affected."}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:n,className:"cancel-btn",children:"Cancel"}),v.jsx("button",{onClick:o,className:"confirm-btn delete-confirm-btn",children:"Confirm & Delete All"})]})]})}),_g=Sg.forwardRef(({title:o,icon:n,logs:a,onClear:l,type:r},c)=>{if(a.length===0)return null;const h=p=>r==="error";return v.jsxs("div",{ref:c,className:`log-card ${r}-log-card card`,children:[v.jsxs("div",{className:"log-header",children:[v.jsxs("h3",{children:[n," ",o," (",a.length,")"]}),v.jsx("button",{onClick:l,className:"clear-log-btn",children:"Clear Log"})]}),v.jsx("div",{className:"log-list",children:a.map(p=>v.jsxs("details",{className:"log-item",children:[v.jsxs("summary",{children:[v.jsx("span",{className:"log-timestamp",children:p.timestamp}),h()&&v.jsx("strong",{className:"log-operation",children:p.operation}),v.jsx("span",{className:"log-title",children:h()?p.title:p.message})]}),h()&&v.jsxs("div",{className:"log-details",children:[v.jsxs("p",{children:[v.jsx("strong",{children:"Message:"})," ",p.message]}),p.details&&v.jsxs("pre",{children:[v.jsx("strong",{children:"Technical Details:"}),v.jsx("code",{children:p.details})]})]})]},p.id))})]})});function AA(){const[o,n]=fe.useState(!0),[a,l]=fe.useState(""),[r,c]=fe.useState(""),[h,p]=fe.useState(""),[y,m]=fe.useState(""),[_,S]=fe.useState(""),[A,x]=fe.useState("Please enter your details to access the application."),[M,b]=fe.useState(!1),[I,R]=fe.useState(""),[k,z]=fe.useState([]),[H,O]=fe.useState([]),[W,J]=fe.useState([]),[de,Z]=fe.useState(!1),[ge,Me]=fe.useState(!1),[V,se]=fe.useState(!1),[w,he]=fe.useState(1),[j,Q]=fe.useState(0),[Ee,ye]=fe.useState(12),[Re,D]=fe.useState("16:9"),[B,ce]=fe.useState([]),[re,pe]=fe.useState([]),[Ue,Oe]=fe.useState("Default"),[He,Ve]=fe.useState("text"),[pt,ft]=fe.useState(""),[qt,en]=fe.useState(!1),[E,ve]=fe.useState(!1),[le,G]=fe.useState([]),[P,K]=fe.useState(!1),[Te,Ce]=fe.useState(""),ne=fe.useRef(null),be=fe.useRef(null),[Ne,we]=fe.useState("dark"),[ze,et]=fe.useState("dark"),[Je,Ht]=fe.useState([]),[dn,rn]=fe.useState(""),[Kt,ut]=fe.useState([]),[Ut,un]=fe.useState([]),[Tt,Ho]=fe.useState(null),[Qi,bs]=fe.useState("imagen-4.0-generate-001"),Qe=fe.useRef(!1),[Ti,hn]=fe.useState(!1),[tn,ma]=fe.useState(0),[$i,Ll]=fe.useState(null),[Ct,Wi]=fe.useState("My AI Project"),[eo,Pl]=fe.useState([]),[Oo,Bl]=fe.useState(""),[ws,ga]=fe.useState(!1),[Fo,to]=fe.useState(!1),[Ci,Ot]=fe.useState([{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]),[zt,jt]=fe.useState(null),[no,ya]=fe.useState(!1),Gl=fe.useRef({}),[va,Vl]=fe.useState(!1),[si,Ns]=fe.useState(!1),[wn,io]=fe.useState("poorly drawn hands, blurry, watermark, text, signature, deformed, ugly, bad anatomy"),[li,ri]=fe.useState([]),[bt,Rs]=fe.useState(""),[zn,ui]=fe.useState("Veo 3.1"),[Nn,Ms]=fe.useState(null),[Ln,Is]=fe.useState("image-driven"),[_a,Yo]=fe.useState(!1),[Ai,Pn]=fe.useState(!1),[Zt,Ds]=fe.useState(!1),[ql,Sa]=fe.useState(!1),[Ta,Ca]=fe.useState(""),[Hl,cn]=fe.useState(!1),[wt,oo]=fe.useState(""),Jo=fe.useRef(wt);fe.useEffect(()=>{Jo.current=wt},[wt]);const[Bn,Aa]=fe.useState(""),[Xt,Gn]=fe.useState({voice:"Aria (Narrator)",tone:"Neutral",speed:1}),[Ea,xa]=fe.useState(!1),[ks,ba]=fe.useState(null),[Ol,Fl]=fe.useState(null),[Xn,pn]=fe.useState(null),[wa,ao]=fe.useState(null),[Ei,xi]=fe.useState(!1),bi=fe.useRef(!1),Qn=fe.useRef(null),[Na,Ko]=fe.useState(!1),[Vn,Ra]=fe.useState(!1),[so,ci]=fe.useState(!1),[Ma,jo]=fe.useState(!1),[Ia,Zo]=fe.useState(null),nn=fe.useRef(k);fe.useEffect(()=>{nn.current=k},[k]);const Xo=fe.useRef(Kt);fe.useEffect(()=>{Xo.current=Kt},[Kt]);const Ft=fe.useRef(tn);fe.useEffect(()=>{Ft.current=tn},[tn]);const[wi,lo]=fe.useState(!1),[Qo,Us]=fe.useState(null),[$o,zs]=fe.useState({used:"0",percentage:0}),[Ni,Da]=fe.useState("All Tones"),[ka,Nu]=fe.useState({}),[Ru,Ls]=fe.useState(!1),Ua=fe.useRef(null),Yl=fe.useRef(null),[Ri,Jl]=fe.useState(""),[ro,Mu]=fe.useState([]),[mn,Wo]=fe.useState({}),[Iu,Ps]=fe.useState(!1),[Du,ea]=fe.useState(!1),Mi=fe.useRef(!1),[$n,ta]=fe.useState([]),[za,La]=fe.useState(!1),Ii=fe.useRef(!1),uo=fe.useRef($n);fe.useEffect(()=>{uo.current=$n},[$n]);const[Kl,jl]=fe.useState(!1),[ku,Bs]=fe.useState(!1),[Ye,gn]=fe.useState(null),[qn,fi]=fe.useState(!1),[Pa,Zl]=fe.useState(!0),[di,Xl]=fe.useState(!0),[Gs,Ql]=fe.useState(!0),[Wn,Vs]=fe.useState("any"),[Uu,qs]=fe.useState(0),Hn=fe.useRef(null),co=fe.useRef(!1),[Di,Ba]=fe.useState([{id:1,text:"Rephrase Script for Copyright"},{id:2,text:"Analyze Script, Characters & Style"},{id:3,text:"Generate Image Prompts & Images"},{id:4,text:"Generate Video Prompts"},{id:5,text:"Prepare & Download Assets (Images & Prompts)"},{id:6,text:"Generate & Download Voiceover"}]),Yt=()=>{const T=Xo.current;if(T.length===0)throw new Error("No API Key available. Please add and enable a key in 'API Key Management'.");const L=Ft.current%T.length,U=T[L];return new fu({apiKey:U})},$e=(T,L,U)=>{let Y=`Error during ${L}`,$=T.message||"An unknown error occurred.",oe=T.stack||T.toString();T instanceof TypeError&&T.message.includes("fetch")?(Y="Network Error",$="Could not connect to the API. Please check your internet connection and try again."):$.toLowerCase().includes("api key not valid")?(Y="Invalid API Key",$="The current API key is invalid. Please check the key in settings or try a different one."):$.toLowerCase().includes("requested entity was not found")&&(Y="API Key or Project Error",$="The API key or associated project was not found. For Veo, ensure your Google Cloud project is correctly set up and linked to your key.");const Ae={id:Date.now(),timestamp:new Date().toLocaleTimeString(),title:Y,message:$,operation:L,details:oe};O(ke=>[Ae,...ke]),ue(`${Y}: ${$.substring(0,50)}...`,!0)},ue=(T,L=!1)=>{const U=Date.now(),Y=new Date().toLocaleTimeString();un($=>[...$,{id:U,message:T}]),L||J($=>[{id:U,timestamp:Y,message:T},...$]),setTimeout(()=>{un($=>$.filter(oe=>oe.id!==U))},4e3)},Ga=async()=>{try{const T=await Il.getAllProjectNames();Pl(T.sort())}catch(T){$e(T,"loading project list")}},fo=async()=>{if(navigator.storage&&navigator.storage.estimate){const T=await navigator.storage.estimate(),L=(T.usage||0)/1024/1024,U=(T.quota||0)/1024/1024,Y=U>0?Math.min(L/U*100,100):0;zs({used:L.toFixed(2),percentage:Y})}};fe.useEffect(()=>{const T=localStorage.getItem("userEmail"),L=localStorage.getItem("userName");T&&l(T),L&&c(L),(async()=>{const Y=localStorage.getItem("expiryDate"),$=localStorage.getItem("userPhone");if(T&&Y&&L){const oe=new Date(Y);if(new Date<oe){b(!0),x("Verifying your license...");const Ae="https://script.google.com/macros/s/AKfycbw48T5zd0wizhXYRdiHXywc7Id9RsiNeEmLgst83xCzOvexr2DC8ZhWf1klP2RNFcPWxQ/exec",ke=vg();try{const xe=await(await fetch(Ae,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({email:T,username:L,phoneNumber:$||"",deviceId:ke}),redirect:"follow"})).json();xe.success?(localStorage.setItem("expiryDate",xe.expiryDate),n(!1)):(n(!0),x(xe.message||"Your license is no longer valid. Please log in again."),localStorage.removeItem("userEmail"),localStorage.removeItem("expiryDate"),localStorage.removeItem("userName"),localStorage.removeItem("userPhone"))}catch{n(!0),x("Could not connect to the verification server. Please check your internet connection.")}finally{b(!1)}}else n(!0),x("Your license has expired. Please log in again."),localStorage.clear()}else n(!0),x("Please enter your details to access the application.")})()},[]),fe.useEffect(()=>{const T=localStorage.getItem("appTheme")||"dark";we(T);const L=localStorage.getItem("appPalette")||"dark";et(L);const U=JSON.parse(localStorage.getItem("apiKeys")||"[]"),Y=JSON.parse(localStorage.getItem("enabledApiKeys")||"[]");Ht(U),ut(Y);const $=JSON.parse(localStorage.getItem("stylePresets")||"[]");ri($);const oe=localStorage.getItem("veoApiKey");oe&&Jl(oe),Ga(),fo()},[]),fe.useEffect(()=>{document.body.setAttribute("data-theme",Ne),document.body.setAttribute("data-palette",ze),localStorage.setItem("appTheme",Ne),localStorage.setItem("appPalette",ze)},[Ne,ze]),fe.useEffect(()=>{const T=w*60+(j||0);T>0?ye(Math.ceil(T/5)):ye(1)},[w,j]);const Hs=async()=>{m(""),S("");const T=a.trim();if(!T||!/\S+@\S+\.\S+/.test(T)||!r.trim()||!h.trim()){m("Please enter a valid email, your name, and your phone number.");return}b(!0);const L="https://script.google.com/macros/s/AKfycbw48T5zd0wizhXYRdiHXywc7Id9RsiNeEmLgst83xCzOvexr2DC8ZhWf1klP2RNFcPWxQ/exec",U=vg();try{const $=await(await fetch(L,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"text/plain;charset=utf-8"},body:JSON.stringify({email:T,username:r.trim(),phoneNumber:h.trim(),deviceId:U}),redirect:"follow"})).json();if($.success)localStorage.setItem("userEmail",$.email),localStorage.setItem("expiryDate",$.expiryDate),localStorage.setItem("userName",r.trim()),h.trim()&&localStorage.setItem("userPhone",h.trim()),n(!1),ue("Application unlocked successfully!");else{const oe=$.message||"Verification failed. Please try again.";oe.includes("pending")||oe.includes("successful")?S(oe):m(oe)}}catch(Y){console.error("Verification error:",Y),m("Could not connect to the verification server. Check your internet connection.")}finally{b(!1)}},$l=()=>{if(dn&&!Je.includes(dn)){const T=[...Je,dn];Ht(T),localStorage.setItem("apiKeys",JSON.stringify(T)),Os(dn,!0),rn(""),ue("API Key added and enabled.")}},Wl=T=>{const L=Je.filter(Y=>Y!==T),U=Kt.filter(Y=>Y!==T);Ht(L),ut(U),localStorage.setItem("apiKeys",JSON.stringify(L)),localStorage.setItem("enabledApiKeys",JSON.stringify(U)),ue("API Key removed.")},Os=(T,L=!1)=>{ut(U=>{const Y=U.includes(T);let $;return L?$=[...new Set([...U,T])]:$=Y?U.filter(oe=>oe!==T):[...U,T],localStorage.setItem("enabledApiKeys",JSON.stringify($)),$})},zu=T=>{ce(L=>L.includes(T)?L.filter(U=>U!==T):[...L,T])},Lu=T=>{pe(L=>L.includes(T)?L.filter(U=>U!==T):[...L,T])},Pu=T=>{var U;const L=(U=T.target.files)==null?void 0:U[0];if(L){ft(L.name);const Y=new FileReader;Y.onload=$=>{var oe;R((oe=$.target)==null?void 0:oe.result)},Y.readAsText(L)}},Bu=T=>{G(L=>L.filter(U=>U.name!==T))},er=(T,L)=>{navigator.clipboard.writeText(T),ue("Copied to clipboard!"),Ll(L),setTimeout(()=>{Ll(null)},2e3)},Qt=async T=>{const L=[];for(const U of T)if(U.type.startsWith("image/")){const Y=await yu(U);L.push({name:U.name,size:yg(U.size),dataUrl:Y,file:U})}G(U=>[...U,...L]),L.length>0&&ir(L[0].file)},na=T=>{const L=T.target.files;!L||L.length===0||Qt(Array.from(L))},tr=T=>{T.preventDefault(),T.stopPropagation(),lo(!1);const L=T.dataTransfer.files;L&&L.length>0&&Qt(Array.from(L))},nr=async T=>{const L=T.clipboardData.items;for(const U of L)if(U.type.indexOf("image")!==-1){const Y=U.getAsFile();Y&&Qt([Y])}},ir=async T=>{se(!0),ue("Analyzing reference image... Est. time: ~10s");try{const L=Yt(),U=(await yu(T)).split(",")[1],Y={inlineData:{mimeType:T.type,data:U}},$=`Analyze this image to identify its primary themes and artistic modifiers. Your response MUST be a single, comma-separated string of keywords. You MUST ONLY use keywords from these two lists, prioritizing the most dominant visual elements:
- Themes: ${mu.join(", ")}
- Modifiers: ${gu.join(", ")}

Your response should be only the keywords. Example response: Horror, Cinematic, 4K, Film Grain`,Ae=(await L.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[Y,{text:$}]}})).text;if(Ae){const ke=Ae.split(",").map(De=>De.trim());ce(De=>[...new Set([...De,...ke.filter(xe=>mu.includes(xe))])]),pe(De=>[...new Set([...De,...ke.filter(xe=>gu.includes(xe))])]),ue("Styles auto-detected from image!")}}catch(L){$e(L,"image analysis")}finally{se(!1)}},or=async(T,L,U)=>{z(oe=>oe.map((Ae,ke)=>ke===T?{...Ae,imageStatus:"loading",error:void 0}:Ae));const Y=new fu({apiKey:U});let $="";if(Qi==="imagen-4.0-generate-001")$=`data:image/jpeg;base64,${(await Y.models.generateImages({model:"imagen-4.0-generate-001",prompt:L,config:{numberOfImages:1,outputMimeType:"image/jpeg",aspectRatio:Re,negativePrompt:wn.trim()}})).generatedImages[0].image.imageBytes}`;else{const oe=await Y.models.generateContent({model:"gemini-2.5-flash-image",contents:{parts:[{text:L}]},config:{responseModalities:[Zi.IMAGE]}});for(const Ae of oe.candidates[0].content.parts)if(Ae.inlineData){const ke=Ae.inlineData.data;$=`data:${Ae.inlineData.mimeType};base64,${ke}`;break}if(!$)throw new Error("Nano Banana model did not return an image.")}z(oe=>oe.map((Ae,ke)=>ke===T?{...Ae,imageUrl:$,imageStatus:"completed"}:Ae))},Fs=T=>{const L=k[T].image_prompt;qa(T,L),ue(`Regenerating image for Scene ${T+1}...`)},ar=(T,L,U)=>{z(Y=>Y.map(($,oe)=>oe===T?U==="image"?{...$,image_prompt:L}:{...$,video_prompt:L}:$))},ho=()=>{Qe.current=!0,ue("Stopping generation process...")},Va=async(T,L="any",U=!1)=>{if(T.trim()){xi(!0),ue("AI is auto-configuring voiceover settings... Est. time: ~20s");try{const Y=Yt(),Ae=`You are an expert script analyst and voiceover director. Your task is to analyze the following script and automatically generate the optimal configuration for an AI Text-to-Speech (TTS) engine.
    
    **Available TTS Voices:**
    ${vs.filter(qe=>L==="any"||qe.gender.toLowerCase()===L).map(qe=>`${qe.conceptualName} (${qe.gender}, API: ${qe.apiName})`).join("; ")}
    
    **Your instructions are:**
    1.  **Extract Voiceover Text:** Read the script and extract only the dialogue and narration parts suitable for a single voiceover. Omit all scene headings, action descriptions, camera directions (e.g., "EXT. FOREST - DAY"), and character names in parentheses. The result should be a clean, readable script for the TTS engine.
    2.  **Select the Best Voice:** Based on the script's theme, tone, and content, choose the most appropriate voice from the **Available TTS Voices** list. You must return its unique name (e.g., "Aria (Narrator)").
    3.  **Suggest Speaking Speed:** Recommend an ideal speaking speed as a number between 0.7 (very slow) and 1.3 (very fast). The default is 1.0.
    4.  **Create a Custom Prompt:** Write a detailed, descriptive custom prompt for the AI voice. This prompt should guide the emotion, tone, and delivery style. For example: "Spoken with a sense of urgency and fear, as if being chased." or "A calm, reassuring narrator telling a bedtime story."
    5.  **Format the Output:** You MUST return your response as a single, valid JSON object. Do not include any other text, explanations, or markdown formatting. The JSON object must have these exact keys: "voiceoverScript", "selectedVoice", "suggestedSpeed", "customPrompt".
    
    **Here is the script:**
    ---
    ${T}
    ---`,xe=(await Y.models.generateContent({model:"gemini-2.5-pro",contents:Ae})).text.replace(/```json/g,"").replace(/```/g,"").trim(),Ie=JSON.parse(xe);Ie.voiceoverScript&&oo(Ie.voiceoverScript),Ie.customPrompt&&Aa(Ie.customPrompt),!U&&Ie.selectedVoice&&vs.some(qe=>qe.conceptualName===Ie.selectedVoice)&&Gn(qe=>({...qe,voice:Ie.selectedVoice})),typeof Ie.suggestedSpeed=="number"&&Gn(qe=>({...qe,speed:Math.max(.7,Math.min(1.3,Ie.suggestedSpeed))})),ue("Voiceover section has been auto-configured by AI!")}catch(Y){$e(Y,"auto-configure voiceover")}finally{xi(!1)}}},po=async()=>{if(!I.trim()){ue("Please provide a script to rephrase.");return}K(!0),Qe.current=!1,Ce("");try{if(I.length<2e4){if(ue("Script is short, rephrasing in a single pass... Est. time: ~30s"),Qe.current){ue("Rephrasing stopped.");return}const L=Yt(),U=`You are a professional scriptwriter. Rephrase the following script to make it unique and avoid copyright issues, while keeping the original story, meaning, and tone intact. Respond only with the rephrased script.

ORIGINAL SCRIPT:
"${I}"`,Y=await L.models.generateContent({model:"gemini-2.5-pro",contents:U});if(Qe.current){ue("Rephrasing stopped.");return}const $=Y.text;if($)R($),ue("Script rephrased successfully!");else throw new Error("AI failed to return a rephrased script.")}else{ue("Script is long, starting smart parallel rephrasing... Est. time: 2-5 mins");const L=Xo.current;if(L.length===0)throw new Error("No enabled API keys to perform rephrasing.");const U=vA(I),Y=new Array(U.length),$=U.map((Ie,qe)=>qe);let oe=0;const Ae=Math.min(L.length,10),ke=async Ie=>{const qe=L[Ie%L.length],je=new fu({apiKey:qe});for(;$.length>0&&!Qe.current;){const it=$.shift();if(it===void 0)continue;const It=U[it];try{const _t=`You are a professional scriptwriter. Rephrase the following paragraph to make it unique and avoid copyright issues, while keeping the original story, meaning, and tone intact. ${it>0?`For context, the previous *original* paragraph was: "${U[it-1]}". Ensure a smooth transition from that point.`:"This is the beginning of the script."} Respond only with the rephrased paragraph.

ORIGINAL PARAGRAPH:
"${It}"`;if(Qe.current)break;const Li=await je.models.generateContent({model:"gemini-2.5-pro",contents:_t});if(Qe.current)break;const Yn=Li.text;Yn?Y[it]=Yn.trim():(Y[it]=It,console.warn(`AI failed to rephrase paragraph ${it+1}. Keeping original.`))}catch(Gt){console.error(`Error rephrasing chunk ${it+1} with worker ${Ie}`,Gt),Y[it]=It,$e(Gt,`rephrasing chunk ${it+1}`)}oe++,Ce(`Rephrasing paragraph ${oe} of ${U.length}...`)}},De=[];for(let Ie=0;Ie<Ae;Ie++)De.push(ke(Ie));if(await Promise.all(De),Qe.current){ue("Rephrasing stopped.");return}const xe=Y.join(`

`);R(xe),ue("Full script rephrased successfully!")}}catch(T){$e(T,"rephrase script")}finally{K(!1),Ce("")}},Ys=async()=>{if(!I.trim()){ue("Please write or generate a script first.");return}if(B.length===0){ue("Please select at least one primary theme.");return}if(re.length===0){ue("Please select at least one artistic modifier.");return}hn(!0)},qa=async(T,L)=>{let Y=!1,$=0,oe=L;for(;!Y&&$<15&&!Qe.current;){$++;const Ae=Xo.current;if(Ae.length===0){$e({message:"No enabled API keys."},`image generation for Scene ${T+1}`),z(Ie=>Ie.map((qe,je)=>T===je?{...qe,imageStatus:"failed",error:"No enabled API keys."}:qe));return}let ke=null;const De=Date.now();let xe=-1;for(let Ie=0;Ie<Ae.length;Ie++){const qe=(Ft.current+Ie)%Ae.length,je=Ae[qe];if(!ka[je]||De>ka[je]){xe=qe;break}}if(xe!==-1)ke=Ae[xe],ma(xe);else{let Ie=1/0;Object.values(ka).forEach(je=>{je<Ie&&(Ie=je)});const qe=Math.max(0,Ie-De);z(je=>je.map((it,It)=>T===It?{...it,imageStatus:"retrying",error:`All keys on cooldown. Waiting ${Math.round(qe/1e3)}s...`}:it)),await new Promise(je=>setTimeout(je,qe+500));continue}try{await or(T,oe,ke),Y=!0}catch(Ie){const qe=Ie.message?Ie.message.toLowerCase():"";if(qe.includes("safety")||qe.includes("blocked")){z(je=>je.map((it,It)=>T===It?{...it,imageStatus:"retrying",error:"Safety issue. Auto-rephrasing prompt..."}:it));try{const It=(await Yt().models.generateContent({model:"gemini-2.5-flash",contents:`Rephrase this AI image prompt to be safer and avoid policy violations, while keeping the original artistic intent. Respond only with the new prompt.
Original: "${oe}"`})).text;if(It&&It.trim()&&It.trim().toLowerCase()!==oe.toLowerCase()){oe=It.trim(),z(Gt=>Gt.map((_t,Li)=>T===Li?{..._t,image_prompt:oe}:_t)),ue(`Prompt for Scene ${T+1} rephrased due to safety concerns. Retrying immediately...`);continue}}catch(je){console.error("Failed to rephrase prompt",je)}}else if(qe.includes("quota")){const je=ke;Nu(it=>({...it,[je]:Date.now()+61e3})),$e({message:"Retrying with next available key."},`API Quota Exceeded on key ...${je.slice(-4)}`);continue}await new Promise(je=>setTimeout(je,2e3))}}if(!Y&&!Qe.current){const Ae=`Failed to generate image for Scene ${T+1} after 15 attempts.`;z(ke=>ke.map((De,xe)=>T===xe?{...De,imageStatus:"failed",error:Ae}:De)),$e({message:Ae},"image generation")}},hi=async()=>{Z(!0),z([]);try{const T=Yt(),L=Ci.some(xe=>xe.userDescription.trim()||xe.aiDescription.trim())?`

**Character Consistency:** Maintain the appearance of the following characters consistently: ${Ci.map((xe,Ie)=>`
- Character ${Ie+1}: ${xe.userDescription} ${xe.aiDescription}`).join("")}`:"";let U=wn.trim()?`

**Negative Prompt:** The "image_prompt" MUST STRICTLY AVOID any mention or depiction of the following concepts: "${wn.trim()}".`:"";const Y=`You are an expert in visual storytelling and prompt engineering for AI image generation. Your task is to analyze the following script and break it down into exactly ${Ee} distinct, logical scenes. For each scene, you must generate a highly detailed and artistic image generation prompt suitable for AI image models.

The final output MUST be a valid JSON array of objects. Each object must have two keys: "scene_description" and "image_prompt".

**CRITICAL INSTRUCTIONS:**
1.  **Scene Division:** Divide the script into ${Ee} logical scenes. Ensure the entire story is covered.
2.  **Style Integration:** Each "image_prompt" MUST incorporate the following style elements:
    -   **Primary Themes:** ${B.join(", ")}
    -   **Artistic Modifiers:** ${re.join(", ")}
    -   **Camera Angle:** ${Ue!=="Default"?Ue:"As appropriate for the scene"}
    -   **Aspect Ratio:** The final image must be conceptualized for a ${Re} aspect ratio.${L}${U}

Here is the script:
---
${I}
---`;ue(`Generating ${Ee} prompts... Est. time: ~45s`);const $=await T.models.generateContent({model:"gemini-2.5-pro",contents:Y});if(Qe.current)throw new Error("stopped");const oe=$.text;if(!oe)throw new Error("AI did not return valid JSON for scene breakdown. Please check your script or try again.");const Ae=oe.replace(/```json/g,"").replace(/```/g,"").trim();if(!Ae)throw new Error("AI returned an empty response for scene breakdown. Please check your script or try again.");const ke=JSON.parse(Ae).map(xe=>({...xe,imageStatus:"pending",retryCount:0}));z(ke),Z(!1),Me(!0),ue(`Generating ${ke.length} images... Est. time: ${Math.ceil(ke.length*10/60)} min`);for(let xe=0;xe<ke.length;xe++){if(Qe.current){ue("Generation stopped by user.");break}await qa(xe,ke[xe].image_prompt)}return await new Promise(xe=>setTimeout(xe,500)),!nn.current.some(xe=>xe.imageStatus==="failed")}catch(T){throw T.message!=="stopped"&&$e(T,"generate prompts"),T}finally{Z(!1),Me(!1)}},mo=async()=>{hn(!1),Qe.current=!1;try{if(await hi(),Na&&!Qe.current){const L=nn.current.filter(U=>U.imageStatus==="failed").length;L===0?(ue("Autopilot: All images generated! Downloading..."),await Rn(),ja(),ue("Autopilot process completed successfully!")):ue(`Autopilot finished, but ${L} images still failed after all retries.`)}else{const T=nn.current,L=T.filter(U=>U.imageStatus==="failed").length;L>0?ue(`${T.length-L} images generated. ${L} failed. You can retry them.`):Qe.current||ue("All images generated successfully!")}}catch(T){console.error("Generation failed:",T)}finally{Qe.current=!1}},Ha=async()=>{Sa(!0),Me(!0),Qe.current=!1,ue("Retrying failed images...");const T=nn.current.reduce((Y,$,oe)=>($.imageStatus==="failed"&&Y.push(oe),Y),[]);for(const Y of T){if(Qe.current){ue("Retry process stopped by user.");break}const $=nn.current[Y].image_prompt;await qa(Y,$)}await new Promise(Y=>setTimeout(Y,1e3));const U=nn.current.filter(Y=>Y.imageStatus==="failed").length;return U>0?ue(`Retry complete. ${T.length-U} images recovered. ${U} still failed.`):Qe.current||ue("All failed images successfully generated!"),Sa(!1),Me(!1),Qe.current=!1,U===0},sr=async()=>{var T,L;if(!Ta.trim()){ue("Please enter a video URL to deconstruct.");return}cn(!0),ue("Deconstructing video... This may take a moment. Est. time: ~30s");try{const U=Yt(),Y=vs.map(ke=>ke.conceptualName).join(", "),$=`You are an expert video analyst with access to a vast knowledge base of internet content, including transcripts and summaries of many YouTube videos. A user has provided this URL: ${Ta}

Your task is to act as if you have watched this video. Based on your knowledge of the video's content (including its likely transcript, dialogue, and visual elements), you must deconstruct it and provide a detailed analysis. Your goal is to be as faithful to the original video as possible.

You MUST generate a single, valid JSON object with the following structure. Do not include any other text, explanations, or markdown formatting outside of the JSON object.

{
  "reconstructedScript": "Reconstruct the full script or voiceover from the video as accurately as possible based on your training data. Include dialogue and narration. If you cannot find an exact transcript, generate a highly plausible script that captures the original's tone, pacing, and key points.",
  "visualStyleAnalysis": {
    "themes": ["An array of the most relevant themes from this list: ${mu.join(", ")}"],
    "modifiers": ["An array of the most fitting artistic modifiers from this list: ${gu.join(", ")}"],
    "cameraAndEditing": "Describe the camera work (e.g., static shots, handheld, drone footage) and editing style (e.g., fast cuts, slow transitions, jump cuts)."
  },
  "voiceoverAnalysis": {
    "detailedTone": "A professional description of the speaker's voice, tone, emotion, and pacing. Example: 'A male voice, mid-range, with a clear and enthusiastic tone. The pacing is quick, suitable for an engaging tech review.'",
    "suggestedAiVoice": "Based on your analysis, suggest the single best AI voice's conceptualName from this list to replicate the style: ${Y}"
  },
  "overallProductionAnalysis": "Provide a brief analysis of how the original video was likely produced. Mention camera quality, lighting, audio quality, and overall production value (e.g., high-budget documentary, casual vlog-style)."
}`,Ae=(await U.models.generateContent({model:"gemini-2.5-pro",contents:$})).text;if(Ae){const ke=Ae.replace(/```json/g,"").replace(/```/g,"").trim(),De=JSON.parse(ke);De.reconstructedScript&&(R(De.reconstructedScript),oo(De.reconstructedScript)),De.visualStyleAnalysis&&(((T=De.visualStyleAnalysis.themes)==null?void 0:T.length)>0&&ce(xe=>[...new Set([...xe,...De.visualStyleAnalysis.themes])]),((L=De.visualStyleAnalysis.modifiers)==null?void 0:L.length)>0&&pe(xe=>[...new Set([...xe,...De.visualStyleAnalysis.modifiers])])),De.voiceoverAnalysis&&(De.voiceoverAnalysis.detailedTone&&Aa(De.voiceoverAnalysis.detailedTone),De.voiceoverAnalysis.suggestedAiVoice&&vs.some(xe=>xe.conceptualName===De.voiceoverAnalysis.suggestedAiVoice)&&Gn(xe=>({...xe,voice:De.voiceoverAnalysis.suggestedAiVoice}))),ue("Video deconstruction complete! Relevant fields have been populated."),De.overallProductionAnalysis&&setTimeout(()=>ue(`Production Analysis: ${De.overallProductionAnalysis}`),1e3)}else ue("Could not deconstruct the video from URL. The AI may not have information on this video.")}catch(U){$e(U,"video URL deconstruction")}finally{cn(!1)}},ki=T=>T<.8?"spoken very slowly":T<.95?"spoken slowly":T>1.25?"spoken very quickly":T>1.1?"spoken quickly":"spoken at a normal pace",lr=async T=>{var L,U,Y,$,oe,Ae;if(wa&&(wa.stop(),ao(null)),Xn===T.conceptualName){pn(null);return}pn(T.conceptualName);try{Qn.current||(Qn.current=new(window.AudioContext||window.webkitAudioContext)({sampleRate:24e3})),Qn.current.state==="suspended"&&await Qn.current.resume();const ke=`This is a sample of the ${T.conceptualName} voice.`,Ie=(Ae=(oe=($=(Y=(U=(L=(await Yt().models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:ke}]}],config:{responseModalities:[Zi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:T.apiName}}}}})).candidates)==null?void 0:L[0])==null?void 0:U.content)==null?void 0:Y.parts)==null?void 0:$[0])==null?void 0:oe.inlineData)==null?void 0:Ae.data;if(!Ie)throw new Error("API did not return audio data for audition.");const qe=vu(Ie),je=await yA(qe,Qn.current,24e3,1),it=Qn.current.createBufferSource();it.buffer=je,it.connect(Qn.current.destination),it.start(),ao(it),it.onended=()=>{Xn===T.conceptualName&&pn(null),ao(null)}}catch(ke){$e(ke,`auditioning ${T.conceptualName}`),pn(null),ao(null)}},Oa=()=>{const T=vs.find(L=>L.conceptualName===Xt.voice);return T?T.apiName:null},rr=async()=>{var T,L,U,Y,$,oe;if(!wt.trim()){ue("Please provide a script in the Voiceover Script box.");return}xa(!0),bi.current=!1,ba(null),Fl(null),ue("Generating voiceover... Est. time: ~1 min");try{if(bi.current)return;const Ae=Oa();if(!Ae)throw new Error(`Selected voice "${Xt.voice}" configuration not found.`);const ke=Yt();let De="";const xe=Bn.trim()?Bn.trim():`Spoken in a ${Xt.tone.toLowerCase()} tone`,Ie=ki(Xt.speed);so&&Bn.trim()?De=`Generate the following text as speech. The delivery must be ${Ie}. The artistic direction is "${xe}". Text: "${wt}"`:Bn.trim()?De=`TTS the following. ${xe}: ${wt}`:De=`Spoken ${[Xt.tone!=="Neutral"?`in a ${Xt.tone.toLowerCase()} tone`:"",Ie].filter(Boolean).join(" and ")}: ${wt}`;const qe=await ke.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:De}]}],config:{responseModalities:[Zi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:Ae}}}}});if(bi.current){ue("Voiceover generation stopped.");return}const je=(oe=($=(Y=(U=(L=(T=qe.candidates)==null?void 0:T[0])==null?void 0:L.content)==null?void 0:U.parts)==null?void 0:Y[0])==null?void 0:$.inlineData)==null?void 0:oe.data;if(!je)throw new Error("API did not return audio data.");const it=vu(je);ba(it);const It=Dl(it,24e3,1,16);Fl(URL.createObjectURL(It)),ue("Voiceover generated successfully!")}catch(Ae){$e(Ae,"voiceover generation")}finally{xa(!1),bi.current=!1}},Gu=()=>{bi.current=!0,xa(!1),ue("Voiceover generation stopped.")},go=(T,L)=>{const U=T||ks;if(!U){ue("No audio data to download.");return}const Y=Dl(U,24e3,1,16),$=URL.createObjectURL(Y),oe=document.createElement("a");oe.href=$,oe.download=L||`${Ct.replace(/\s+/g,"_")}_voiceover.wav`,document.body.appendChild(oe),oe.click(),document.body.removeChild(oe),URL.revokeObjectURL($),ue("Audio download started.")},Vu=async()=>{const T=w*60+(j||0);if(T===0){ue("Please set a video duration first to use this feature.");return}if(!wt.trim()){ue("Please provide a script to fit.");return}Ra(!0),ue("AI is optimizing your script's length... Est. time: ~30s");try{const U=Math.floor(T/60*(150*Xt.speed)),Y=Yt(),$=`You are a professional script editor. Your task is to rewrite the following script to be approximately ${U} words long. You must preserve the core meaning, narrative, tone, and key information of the original text. Respond ONLY with the revised script text, without any additional comments, introductions, or formatting.

ORIGINAL SCRIPT:
---
${wt}
---`,Ae=(await Y.models.generateContent({model:"gemini-2.5-pro",contents:$})).text;if(Ae)oo(Ae),ue("Script has been optimized for the target duration!");else throw new Error("AI failed to return an optimized script.")}catch(L){$e(L,"fit script to duration")}finally{Ra(!1)}},ur=(T,L=2800)=>{if(!T)return[];const U=[];let Y=T.trim();for(;Y.length>0;){if(Y.length<=L){U.push(Y);break}let $=Y.substring(0,L),oe=-1;const Ae=$.lastIndexOf(`

`);if(Ae>L/2)oe=Ae;else{const ke=/[.!?]/g;let De=-1,xe;for(;(xe=ke.exec($))!==null;)De=xe.index;if(De!==-1)oe=De+1;else{const Ie=$.lastIndexOf(`
`);if(Ie!==-1)oe=Ie;else{const qe=$.lastIndexOf(" ");qe!==-1?oe=qe:oe=L}}}$=Y.substring(0,oe),U.push($.trim()),Y=Y.substring(oe).trim()}return U.filter($=>$.length>0)},Js=async()=>{var Y,$,oe,Ae,ke,De;const T=Jo.current;if(!T.trim()){ue("Please provide a script to generate chunked audio.");return}La(!0),Ii.current=!1,ta([]),ue("Splitting script and starting chunked generation..."),await new Promise(xe=>setTimeout(xe,100));const L=Oa();if(!L){$e({message:`Selected voice "${Xt.voice}" configuration not found.`},"chunked audio generation"),La(!1);return}const U=ur(T);ta(U.map((xe,Ie)=>({id:Ie,text:xe,status:"pending"}))),ue(`Generating ${U.length} audio chunks... Est. time: ${Math.ceil(U.length*10/60)} min`);for(let xe=0;xe<U.length;xe++){if(Ii.current){ue("Chunk generation stopped by user.");break}ta(Ie=>Ie.map(qe=>qe.id===xe?{...qe,status:"generating"}:qe));try{const Ie=Yt(),qe=U[xe],je=xe===0?`Spoken in a natural, flowing manner: ${qe}`:`Continue the narration smoothly and seamlessly. The previous part ended with a natural pause. Begin this part with that same tone. The text to speak is: ${qe}`,it=await Ie.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:je}]}],config:{responseModalities:[Zi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:L}}}}});if(Ii.current)break;const It=(De=(ke=(Ae=(oe=($=(Y=it.candidates)==null?void 0:Y[0])==null?void 0:$.content)==null?void 0:oe.parts)==null?void 0:Ae[0])==null?void 0:ke.inlineData)==null?void 0:De.data;if(!It)throw new Error("API did not return audio data for this chunk.");const Gt=vu(It),_t=Dl(Gt,24e3,1,16),Li=URL.createObjectURL(_t);ta(Yn=>Yn.map(Pi=>Pi.id===xe?{...Pi,status:"complete",audioBytes:Gt,audioUrl:Li}:Pi)),await new Promise(Yn=>setTimeout(Yn,500))}catch(Ie){console.error(`Error generating chunk ${xe}:`,Ie),ta(qe=>qe.map(je=>je.id===xe?{...je,status:"failed",error:Ie.message}:je)),$e(Ie,`audio chunk ${xe+1} generation`)}}La(!1),Ii.current=!1},Ks=()=>{Ii.current=!0,La(!1),ue("Stopping chunk generation...")},yn=async T=>{const L=T.filter(U=>U.status==="complete"&&U.audioBytes).sort((U,Y)=>U.id-Y.id);if(L.length===0)return ue("No completed audio chunks to merge.",!0),null;try{let U=0;for(const oe of L)U+=oe.audioBytes.length;const Y=new Uint8Array(U);let $=0;for(const oe of L)Y.set(oe.audioBytes,$),$+=oe.audioBytes.length;return Y}catch(U){return $e(U,"Audio Merging"),null}},Fa=async()=>{jl(!0),ue("Merging audio chunks...");const T=await yn(uo.current);T&&go(T,`${Ct.replace(/\s+/g,"_")}_merged_voiceover.wav`),jl(!1)},vn=async()=>{const T=uo.current.filter(L=>L.status==="complete"&&L.audioBytes);if(T.length===0){ue("No completed audio chunks to download.");return}ue(`Creating ZIP file with ${T.length} audio chunks...`);try{const L=new Ef;for(const $ of T){const oe=Dl($.audioBytes,24e3,1,16);L.file(`${Ct.replace(/\s+/g,"_")}_chunk_${String($.id+1).padStart(3,"0")}.wav`,oe)}const U=await L.generateAsync({type:"blob"}),Y=document.createElement("a");Y.href=URL.createObjectURL(U),Y.download=`${Ct.replace(/\s+/g,"_")}_voiceover_chunks.zip`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),ue("Audio chunks ZIP download started.")}catch(L){$e(L,"ZIP file creation"),ue("ZIP creation failed. Downloading chunks individually...");for(const U of T)go(U.audioBytes,`${Ct.replace(/\s+/g,"_")}_chunk_${String(U.id+1).padStart(3,"0")}.wav`),await new Promise(Y=>setTimeout(Y,300))}},yo=async T=>{const L=Yt(),U=`You are an expert in visual storytelling. Your task is to analyze the following script and break it down into exactly ${Ee} distinct, logical scenes. For each scene, provide a concise but descriptive summary. The final output MUST be a valid JSON array of objects. Each object must have one key: "scene_description".

Here is the script:
---
${T}
---`,$=(await L.models.generateContent({model:"gemini-2.5-pro",contents:U})).text;if(!$)throw new Error("AI did not return valid JSON for scene breakdown.");const oe=$.replace(/```json/g,"").replace(/```/g,"").trim();if(!oe)throw new Error("AI returned an empty response for scene breakdown.");return JSON.parse(oe).map(ke=>({scene_description:ke.scene_description,image_prompt:"",imageStatus:"pending"}))},js=(T,L)=>{const U=L.some(xe=>xe.userDescription.trim()||xe.aiDescription.trim())?`

**Character Consistency:** You MUST ensure the video's characters strictly adhere to these descriptions: ${L.map((xe,Ie)=>`
- Character ${Ie+1}: ${xe.userDescription} ${xe.aiDescription}`).join("")}`:"",Y=Ln==="image-driven"?"Your primary goal is to animate the static scene described in the image prompt.":"Your goal is to create a video scene directly from the script description.",$=Ln==="image-driven"?`- **Generated Image Prompt (to be animated):** "${T.image_prompt}"`:"",oe=`You are an expert prompt engineer for the **${zn}** AI text-to-video model. ${Y} Your task is to generate a single, concise, and evocative video prompt based on the rules for the selected model. Respond ONLY with the video prompt text, without any introductory phrases.`,Ae=[];_a&&Ae.push("Dialogue"),Ai&&Ae.push("Ambient Noise"),Zt&&Ae.push("Sound Effects (SFX)");const ke=Ae.length>0?`

CRITICAL: You MUST integrate audio cues for ${Ae.join(", ")} naturally within the prompt's narrative. For dialogue, use quotes and indicate who is speaking. For SFX and ambient sounds, describe them as part of the scene.`:"",De=`

**SOURCE MATERIAL TO ADAPT:**
- **Original Script Scene:** "${T.scene_description}"
${$}${U}`;switch(zn){case"Vidu":return`${oe}

**Vidu Prompting Rules:**
1.  **Formula:** Structure your prompt as: **Subject/Scene** + **Detailed Scene Description** + **Environment Description** + **Artistic Style/Medium**.
2.  **Richness:** Use rich, accurate, and associative descriptions to create a vivid picture.
3.  **Style Reinforcement:** Repeat and reinforce key style and atmosphere keywords throughout the prompt.${De}${ke}`;case"Kling":return`${oe}

**Kling Prompting Rules:**
1.  **Formula:** Your prompt must follow this structure: **Subject** (with detailed description) + **Subject Movement** + **Scene** (concise environment) + **(Optional: Camera, Lighting, Atmosphere)**.
2.  **Clarity:** Use simple words and straightforward sentences.${De}${ke}`;case"Hailuo":return`${oe}

**Hailuo Prompting Rules:**
1.  **Formula:** Use the structure: **Main Subject** + **Scene** + **Motion** + **Camera Movement** + **Aesthetic Atmosphere**.
2.  **Precise Camera:** Camera movement MUST be described in detail.
3.  **Precise Aesthetics:** Clearly describe the mood and visual style.${De}${ke}`;case"Sora":return`${oe}

**Sora Prompting Rules:**
1.  **Structure:** Generate a single, concise but highly descriptive sentence.
2.  **Content:** The sentence MUST include: shot type, subject, action, setting, and lighting.${De}${ke}`;case"Veo 3.1":default:const xe=Ae.length>0?`6. **CRITICAL AUDIO INSTRUCTIONS:** The paragraph MUST include descriptions for the following audio elements: ${Ae.join(", ")}. This is not optional. Describe them as part of the scene's action and environment.
   ${_a?`- **Dialogue**: Use quotes and attribute speech (e.g., A woman whispers, "It\\'s can\\'t be.").`:""}
   ${Zt?"- **Sound Effects (SFX)**: Weave sounds into the action (e.g., ...as the floorboards creak ominously underfoot).":""}
   ${Ai?"- **Ambient Noise**: Describe the background sounds (e.g., The sound of distant sirens fills the air.).":""}`.trim():"",Ie=`5. **Camera Work:** The prompt MUST specify camera work, incorporating this instruction: "${Ue}". If 'Default', choose the most fitting shot (e.g., 'A wide shot reveals...', 'A close-up on the character\\'s face shows...').`;return`You are an expert prompt engineer for the Veo 3.1 AI text-to-video model. Your task is to generate a single, descriptive paragraph that acts as a video prompt, following official Veo 3.1 guidelines.

**INPUTS:**
- **Original Script Scene:** "${T.scene_description}"
${$}${U}

**INSTRUCTIONS:**
1.  **Synthesize, Don't List:** Do NOT create a list with bullet points or headers like "Subject:", "Action:", etc.
2.  **Create a Narrative Paragraph:** Weave all key visual elements (Subject, Action, Style, Composition, Focus, Ambiance) into a single, cohesive paragraph.
3.  **Be Descriptive & Concise:** Use strong adjectives and verbs to create a vivid picture. The prompt should be a single, effective paragraph, not an overly long essay.
4.  **Follow Veo Style:** The final prompt should be similar in style and length to official Veo examples (e.g., "A close-up cinematic shot follows a desperate man...").
${Ie}
${xe}
7.  **Response Format:** Respond ONLY with the generated paragraph, without any extra text or introductions.`}},ia=async()=>{to(!0),Qe.current=!1,ue(`Generating video prompts tailored for ${zn}...`);try{let T=nn.current;if(T.length===0&&Ln==="script-driven"){if(!I.trim()){ue("Please provide a script to generate script-driven video prompts."),to(!1);return}ue(`First, breaking script into ${Ee} scenes...`);try{const U=await yo(I);z(U),T=U}catch(U){$e(U,"script breakdown"),to(!1);return}}else if(T.length===0&&Ln==="image-driven"){ue("Please generate images first for image-driven basis."),to(!1);return}const L=[];for(let U=0;U<T.length;U++){if(Qe.current){ue("Video prompt generation stopped.");break}const Y=T[U];if(!Y.scene_description&&Ln==="script-driven"){L.push(Y);continue}if(!Y.image_prompt&&Ln==="image-driven"){L.push(Y);continue}try{const $=js(Y,Ci),Ae=(await Yt().models.generateContent({model:"gemini-2.5-flash",contents:$})).text;L.push({...Y,video_prompt:Ae?Ae.trim():"Error: AI failed to generate a prompt for this scene."})}catch($){console.error(`Failed to generate video prompt for scene ${U+1}:`,$),L.push({...Y,video_prompt:`Error: ${$.message}`})}z([...L,...T.slice(U+1)])}Qe.current||ue("Video prompts generated successfully!")}catch(T){$e(T,"generate video prompts")}finally{to(!1),Qe.current=!1}},Ya=()=>{if(!Ri.trim()){ue("Please enter a key to save.");return}localStorage.setItem("veoApiKey",Ri),ue("Veo API Key saved in browser.")},Zs=()=>{var L;if(!Ri.trim()){ue("Please enter a Veo API Key to generate videos.");return}if(ro.length===0){ue("Please select at least one scene to generate.");return}const T=(L=k[0])!=null&&L.video_prompt?zn:"Unknown";T!=="Veo 3.1"&&T!=="Unknown"?ea(!0):pi()},pi=async()=>{var T,L,U,Y,$;Ps(!0),Mi.current=!1,ea(!1),ue(`Starting video generation for ${ro.length} scenes...`);for(const oe of ro){if(Mi.current){ue("Video generation stopped by user.");break}Wo(Ae=>({...Ae,[oe]:{status:"generating",progressMessage:"Initiating..."}}));try{const Ae=new fu({apiKey:Ri}),ke=(T=k[oe])==null?void 0:T.video_prompt;if(!ke)throw new Error("Video prompt is missing for this scene.");const xe={numberOfVideos:1,resolution:"720p",aspectRatio:Re==="16:9"||Re==="9:16"?Re:"16:9"};wn.trim()&&(xe.negativePrompt=wn.trim());let Ie=await Ae.models.generateVideos({model:"veo-3.1-fast-generate-preview",prompt:ke,config:xe});for(Wo(Gt=>({...Gt,[oe]:{status:"polling",progressMessage:"Generating... This can take several minutes."}}));!Ie.done&&!Mi.current;)await new Promise(Gt=>setTimeout(Gt,1e4)),Ie=await Ae.operations.getVideosOperation({operation:Ie});if(Mi.current)break;const qe=($=(Y=(U=(L=Ie.response)==null?void 0:L.generatedVideos)==null?void 0:U[0])==null?void 0:Y.video)==null?void 0:$.uri;if(!qe)throw new Error("Generation finished, but no video link was returned.");Wo(Gt=>({...Gt,[oe]:{status:"polling",progressMessage:"Finalizing video..."}}));const je=await fetch(`${qe}&key=${Ri}`);if(!je.ok)throw new Error(`Failed to download video file. Status: ${je.status}`);const it=await je.blob(),It=URL.createObjectURL(it);Wo(Gt=>({...Gt,[oe]:{status:"complete",videoUrl:It}})),ue(`Video for Scene ${oe+1} completed!`)}catch(Ae){$e(Ae,`video generation for Scene ${oe+1}`),Wo(ke=>({...ke,[oe]:{status:"failed",error:Ae.message}}))}}Ps(!1),Mi.current=!1},cr=()=>{Mi.current=!0,Ps(!1),ue("Video generation process will stop after the current video finishes.")},Ja=T=>{Mu(L=>L.includes(T)?L.filter(U=>U!==T):[...L,T])},vo=(T,L)=>{const U=document.createElement("a");U.href=T,U.download=`${Ct.replace(/\s+/g,"_")}_scene_${L+1}.mp4`,document.body.appendChild(U),U.click(),document.body.removeChild(U),ue(`Downloading video for Scene ${L+1}...`)},qu=async()=>{const T=Object.entries(mn).filter(U=>{const Y=U[1];return typeof Y=="object"&&Y!==null&&"status"in Y&&Y.status==="complete"&&!!Y.videoUrl});if(T.length===0){ue("No completed videos to download.");return}ue(`Creating ZIP file with ${T.length} videos...`);const L=new Ef;try{for(const[$,oe]of T){const Ae=parseInt($,10),De=await(await fetch(oe.videoUrl)).blob();L.file(`${Ct.replace(/\s+/g,"_")}_scene_${Ae+1}.mp4`,De)}const U=await L.generateAsync({type:"blob"}),Y=document.createElement("a");Y.href=URL.createObjectURL(U),Y.download=`${Ct.replace(/\s+/g,"_")}_videos.zip`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),ue("Video ZIP file download started.")}catch(U){$e(U,"ZIP creation")}},on=(T,L)=>{if(!T)return;const U=document.createElement("a");U.href=T,U.download=`scene_${L+1}.jpeg`,document.body.appendChild(U),U.click(),document.body.removeChild(U),ue(`Downloading Scene ${L+1}...`)},Xs=async()=>{ue("ZIP creation failed. Downloading images individually...");for(let T=0;T<nn.current.length;T++){const L=nn.current[T];L.imageUrl&&L.imageStatus==="completed"&&(on(L.imageUrl,T),await new Promise(U=>setTimeout(U,300)))}},Rn=async()=>{const T=nn.current.filter(L=>L.imageStatus==="completed"&&L.imageUrl);if(T.length===0){ue("No completed images to download.");return}ue("Creating ZIP file...");try{const L=new Ef;T.forEach(($,oe)=>{const Ae=$.imageUrl.split(",")[1];L.file(`scene_${oe+1}.jpeg`,Ae,{base64:!0})});const U=await L.generateAsync({type:"blob"}),Y=document.createElement("a");Y.href=URL.createObjectURL(U),Y.download=`${Ct.replace(/\s+/g,"_")}_scenes.zip`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),ue("ZIP file download started.")}catch(L){$e(L,"ZIP file creation"),await Xs()}},fr=async()=>{if(!Ct.trim()){ue("Please enter a project name.");return}try{const T={projectName:Ct.trim(),script:I,results:k,videoDuration:w,videoDurationSec:j,imageCount:Ee,aspectRatio:Re,selectedThemes:B,selectedModifiers:re,cameraAngle:Ue,scriptType:He,fileName:pt,referenceFiles:le.map(({name:L,size:U})=>({name:L,size:U})),characterProfiles:Ci.map(L=>({id:L.id,userDescription:L.userDescription,aiDescription:L.aiDescription,image:L.image?{name:L.image.name,size:L.image.size}:null})),videoModel:zn,videoPromptBasis:Ln,includeDialogue:_a,includeAmbient:Ai,includeSfx:Zt};await Il.saveProject(T),ue(`Project "${Ct.trim()}" saved successfully!`),await Ga(),await fo()}catch(T){ue(`Error saving project: ${T.message}. The project might be too large.`),$e({message:"Failed to save the project to IndexedDB. It might be too large.",stack:T.stack},"Save Project")}},oa=async T=>{const L=T||Ct.trim();if(!L){ue("Please enter or select a project name to load.");return}try{const U=await Il.loadProject(L);if(U){const Y=(U.referenceFiles||[]).map(oe=>({name:oe.name,size:oe.size,dataUrl:"",file:null})),$=(U.characterProfiles||[{userDescription:"",aiDescription:"",image:null}]).map(oe=>({id:crypto.randomUUID(),userDescription:oe.userDescription,aiDescription:oe.aiDescription,image:oe.image?{name:oe.image.name,size:oe.image.size,dataUrl:"",file:null}:null}));Wi(U.projectName),R(U.script),z(U.results||[]),he(U.videoDuration),Q(U.videoDurationSec||0),ye(U.imageCount),D(U.aspectRatio),ce(U.selectedThemes),pe(U.selectedModifiers),Oe(U.cameraAngle),Ve(U.scriptType),ft(U.fileName),G(Y),Ot($.length>0?$:[{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]),U.videoModel&&ui(U.videoModel),U.videoPromptBasis&&Is(U.videoPromptBasis),Yo(U.includeDialogue||!1),Pn(U.includeAmbient||!1),Ds(U.includeSfx||!1),ue(`Project "${U.projectName}" loaded successfully!`)}else ue(`No project found with the name "${L}".`)}catch(U){ue(`Error loading project: ${U.message}`),$e(U,"load project")}},Ui=async()=>{if(Nn)try{await Il.deleteProject(Nn),ue(`Project "${Nn}" deleted.`),await Ga(),Ct===Nn&&Wi(""),await fo()}catch(T){ue(`Error deleting project: ${T.message}`),$e({message:T.message,stack:T.stack},"Delete Project")}finally{Ms(null)}},Qs=()=>{Ms(null)},dr=T=>{Ms(T)},$s=async()=>{if(!Oo.trim()){$e({message:"Please enter a story idea first."},"Generate Script");return}ga(!0),ue("Generating script from your idea... Est. time: ~45s");try{const T=Yt(),L=`You are a creative scriptwriter. Based on the following idea, write a short story script broken down into approximately ${Ee} logical scenes. The script should be suitable for visual adaptation. Respond ONLY with the script text itself, without any introductions or extra formatting.

IDEA: "${Oo}"`,Y=(await T.models.generateContent({model:"gemini-2.5-pro",contents:L})).text;if(Y)R(Y),ue("Script generated successfully!");else throw new Error("AI failed to return a script.")}catch(T){$e(T,"generate script")}finally{ga(!1)}},hr=async(T,L)=>{jt(L),ue("Analyzing character image... Est. time: ~15s");try{const U=Yt(),Y=(await yu(T)).split(",")[1],$={inlineData:{mimeType:T.type,data:Y}},ke=(await U.models.generateContent({model:"gemini-2.5-flash",contents:{parts:[$,{text:"Analyze this person's appearance in extreme detail for an AI image generator to recreate them consistently. Describe their facial structure, eye color and shape, hair color and style, skin tone, estimated age, body type, and the style and color of their clothing. Be objective and descriptive."}]}})).text;ke?(Ot(De=>De.map(xe=>xe.id===L?{...xe,aiDescription:`

--- AI Analysis from Image ---
${ke}`}:xe)),ue("Character analysis appended to description!")):ue("Character analysis did not return any text.")}catch(U){$e(U,"character image analysis")}finally{jt(null)}},an=async(T,L)=>{const U=T[0];if(U&&U.type.startsWith("image/")){const Y=await yu(U),$={name:U.name,size:yg(U.size),dataUrl:Y,file:U};Ot(oe=>oe.map(Ae=>Ae.id===L?{...Ae,image:$}:Ae)),await hr(U,L)}},_o=(T,L)=>{const U=T.target.files;U&&an(Array.from(U),L)},So=(T,L)=>{T.preventDefault(),T.stopPropagation(),Us(null);const U=T.dataTransfer.files;U&&an(Array.from(U),L)},Ka=async(T,L)=>{const U=T.clipboardData.items;for(const Y of U)if(Y.type.includes("image")){const $=Y.getAsFile();$&&an([$],L)}},To=async(T={configureVoice:!0,genderPreference:"any",keepExistingVoice:!1})=>{if(!I.trim()){ue("Please provide a script to analyze.");return}ya(!0),Qe.current=!1,ue("Analyzing script to extract characters... Est. time: ~30s");try{const L=Yt(),U=`Analyze the following script to identify all key characters. Your response MUST be a valid JSON object. The JSON object should have one key: "characters". The "characters" key should contain an array of objects, one for each distinct character found. Each character object should have two keys: "name" (a string) and "description" (a string summarizing their appearance, personality, or key actions as described in the script). If no characters with names or specific dialogue/actions are present, you MUST return an empty array for "characters". Do not invent characters from vague descriptions (e.g., 'a narrator'). Your response must be strictly {"characters": []} in this case.

Here is the script:
---
${I}
---`,Y=await L.models.generateContent({model:"gemini-2.5-pro",contents:U});if(Qe.current){ue("Analysis stopped.");return}const $=Y.text;if(!$)throw new Error("AI did not return a valid analysis. Please try again.");const oe=$.replace(/```json/g,"").replace(/```/g,"").trim();if(!oe)throw new Error("AI returned an empty response for script analysis. Please check your script or try again.");const Ae=JSON.parse(oe);if(Ae.characters&&Ae.characters.length>0){const ke=`

--- AI Script Analysis ---
`,De=Ae.characters.map(xe=>({id:crypto.randomUUID(),userDescription:`Name: ${xe.name}`,aiDescription:`${ke}Description: ${xe.description}`,image:null}));Ot(De),ue(`Script analyzed! ${De.length} character profiles have been created/updated.`)}else ue("Analysis complete, but no distinct characters were found to add to the profile."),Ot([{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}]);T.configureVoice&&await Va(I,T.genderPreference,T.keepExistingVoice)}catch(L){$e(L,"analyze script")}finally{ya(!1)}},_n=()=>{Ot(T=>[...T,{id:crypto.randomUUID(),userDescription:"",aiDescription:"",image:null}])},Sn=T=>{Ot(L=>L.length>1?L.filter(U=>U.id!==T):L)},mi=(T,L)=>{Ot(U=>U.map(Y=>Y.id===T?{...Y,userDescription:L}:Y))},On=()=>{if(!bt.trim()){ue("Please enter a name for the preset.");return}if(li.some(U=>U.name===bt.trim())){ue("A preset with this name already exists.");return}const T={name:bt.trim(),themes:B,modifiers:re,angle:Ue},L=[...li,T];ri(L),localStorage.setItem("stylePresets",JSON.stringify(L)),Rs(""),ue(`Preset "${T.name}" saved!`)},Fn=T=>{ce(T.themes),pe(T.modifiers),Oe(T.angle),ue(`Preset "${T.name}" loaded!`)},ei=T=>{const L=li.filter(U=>U.name!==T);ri(L),localStorage.setItem("stylePresets",JSON.stringify(L)),ue(`Preset "${T}" deleted.`)},ja=()=>{if(k.length===0){ue("No prompts to export.");return}let T=`Project: ${Ct}

--- PROMPTS ---

`;k.forEach((Y,$)=>{T+=`SCENE ${$+1}
`,T+=`Description: ${Y.scene_description}
`,T+=`Image Prompt: ${Y.image_prompt}
`,Y.video_prompt&&(T+=`Video Prompt (${zn}): ${Y.video_prompt}
`),T+=`--------------------------------------------------

`});const L=new Blob([T],{type:"text/plain;charset=utf-8"}),U=document.createElement("a");U.href=URL.createObjectURL(L),U.download=`${Ct.replace(/\s+/g,"_")}_prompts.txt`,document.body.appendChild(U),U.click(),document.body.removeChild(U),ue("Prompts exported to .txt file.")},Ws=async()=>{try{await Il.clearAllProjects(),Pl([]),Wi("My AI Project"),R(""),z([]),await fo(),ue("All projects have been cleared from the browser.")}catch(T){ue(`Error clearing projects: ${T.message}`),$e({message:T.message,stack:T.stack},"Clear All Projects")}finally{Ls(!1)}},Za=async(T=!1)=>{const L=Jo.current;if(!L.trim()){const Y="Audio Autopilot: Please provide a script first.";throw T||ue(Y,!0),new Error(Y)}if(T||(ue("Audio Autopilot started..."),ue(`Autopilot will perform:
${["1. Analyzing script to extract dialogue.","2. Selecting best voice, tone, and speed.","3. Generating audio (in chunks).","4. Merging and downloading final audio file."].join(`
`)}`),await Va(L,"any")),await Js(),Ii.current)throw new Error("stopped");if(await new Promise(Y=>setTimeout(Y,200)),uo.current.filter(Y=>Y.status==="complete").length>0){if(uo.current.some($=>$.status==="failed"))throw new Error("Audio generation failed for one or more chunks.");T||ue("Audio generation complete. Now merging...");const Y=await yn(uo.current);if(Y)go(Y,`${Ct.replace(/\s+/g,"_")}_voiceover.wav`),T||ue("Audio Autopilot finished successfully!");else{const $="Audio Autopilot: Merging failed.";throw T||ue($,!0),new Error($)}}else{const Y="Audio Autopilot finished, but no audio was generated.";throw T||ue(Y,!0),new Error(Y)}},pr=async()=>{var T,L,U,Y,$,oe;if(!wt.trim()){ue("Please provide a script to sample.");return}jo(!0),Zo(null),ue("Generating 15s audio sample...");try{const Ae=Oa();if(!Ae)throw new Error(`Selected voice "${Xt.voice}" configuration not found.`);const ke=Yt(),De=wt.substring(0,250),Ie=(oe=($=(Y=(U=(L=(T=(await ke.models.generateContent({model:"gemini-2.5-flash-preview-tts",contents:[{parts:[{text:De}]}],config:{responseModalities:[Zi.AUDIO],speechConfig:{voiceConfig:{prebuiltVoiceConfig:{voiceName:Ae}}}}})).candidates)==null?void 0:T[0])==null?void 0:L.content)==null?void 0:U.parts)==null?void 0:Y[0])==null?void 0:$.inlineData)==null?void 0:oe.data;if(!Ie)throw new Error("API did not return audio data for sample.");const qe=vu(Ie),je=Dl(qe,24e3,1,16),it=URL.createObjectURL(je);Zo(it),ue("Audio sample ready!")}catch(Ae){$e(Ae,"audio sample generation")}finally{jo(!1)}},Mt=[{id:1,text:"Rephrasing Script for Copyright...",enabled:()=>Pa,task:po},{id:2,text:"Analyzing Script, Characters & Style...",enabled:()=>!0,task:()=>To({configureVoice:di,genderPreference:Wn,keepExistingVoice:Gs})},{id:3,text:"Generating Image Prompts & Images...",enabled:()=>!0,task:hi},{id:4,text:"Generating Video Prompts...",enabled:()=>!0,task:ia},{id:5,text:"Preparing & Downloading Assets...",enabled:()=>!0,task:async()=>{await Rn(),ja()}},{id:6,text:"Generating & Downloading Voiceover...",enabled:()=>!0,task:()=>Za(!0)}],vt=()=>{if(!I.trim()){ue("Please provide a script before starting the Autopilot.");return}Bs(!0),(!Ye||qn||Ye&&Ye.isError&&Ye.stepId!==3)&&(co.current=!1,gn(null),fi(!1),qs(0))},We=async(T=1)=>{Hn.current&&clearInterval(Hn.current),Hn.current=window.setInterval(()=>qs($=>$+1),1e3);const L=Mt.filter($=>$.enabled()),U=L.length,Y=L.findIndex($=>$.id===T);if(Y===-1)throw new Error(`Could not find starting step ${T} in active steps.`);try{for(let $=Y;$<L.length;$++){const oe=L[$],Ae=L.findIndex(De=>De.id===oe.id);gn({step:Ae+1,totalSteps:U,stepId:oe.id,message:oe.text,isError:!1});const ke=await oe.task();if(co.current)throw new Error("stopped");if(oe.id===3&&ke===!1){gn(De=>({...De,message:"Paused: Image generation failed. Check API keys and retry.",isError:!0})),Hn.current&&clearInterval(Hn.current);return}}gn({step:U,totalSteps:U,stepId:L[L.length-1].id,message:"Autopilot Complete!",isError:!1}),fi(!0),ue("Master Autopilot finished successfully!")}catch($){const oe=Ye?Ye.stepId:1;$.message==="stopped"?(ue("Master Autopilot stopped by user."),gn(Ae=>({...Ae,message:"Process stopped by user.",isError:!0}))):($e($,`Master Autopilot (Step ${oe})`),gn(Ae=>({...Ae,message:`Error: ${$.message}`,isError:!0})))}finally{Hn.current&&(qn||Ye&&Ye.isError)&&clearInterval(Hn.current)}},gi=()=>{fi(!1),gn(null),co.current=!1,qs(0);const T=Mt.find(L=>L.enabled());T?We(T.id):(ue("No autopilot steps are enabled to run.",!0),$e({message:"No active steps for Autopilot."},"Master Autopilot Start"))},Tn=async()=>{if(!Ye||!Ye.isError)return;const T=Ye.stepId;gn(U=>({...U,isError:!1,message:`Retrying Step ${T}: Generating failed images...`}));const L=await Ha();if(co.current){gn(U=>({...U,message:"Retry stopped by user.",isError:!0}));return}if(L){ue("Retry successful! Resuming Autopilot...");const U=Mt.filter(oe=>oe.enabled()),Y=U.findIndex(oe=>oe.id===T),$=U[Y+1];if($)We($.id);else{const oe=U.length;gn({step:oe,totalSteps:oe,stepId:T,message:"Autopilot Complete!",isError:!1}),fi(!0)}}else ue("Some images still failed. Please check keys or regenerate manually.",!0),gn(U=>({...U,message:"Retry failed. Please check API keys.",isError:!0}))},Xa=()=>{co.current=!0,Qe.current=!0,Ii.current=!0,bi.current=!0,Mi.current=!0,K(!1),Hn.current&&clearInterval(Hn.current),ue("Stopping Autopilot...")},ti=150,Qa=wt.trim().split(/\s+/).filter(Boolean).length,mr=Qa>0?Qa/(ti*Xt.speed)*60:0,ni=w*60+(j||0),yi=ni>0?Math.floor(ni/60*(ti*Xt.speed)):0,vi=Ma||Ea||za,zi=Ye?Di.find(T=>T.id===Ye.stepId):null;return o?v.jsx("div",{className:"lock-screen",children:v.jsxs("div",{className:"lock-card",children:[v.jsx("h1",{children:"Application Access"}),v.jsx("p",{children:A}),v.jsxs("div",{className:"form-group",children:[v.jsx("input",{type:"text",value:r,onChange:T=>c(T.target.value),placeholder:"Your Full Name",required:!0}),v.jsx("input",{type:"email",value:a,onChange:T=>l(T.target.value),placeholder:"Your Registered Email",required:!0}),v.jsx("input",{type:"tel",value:h,onChange:T=>p(T.target.value),placeholder:"Your Phone Number (Required)",required:!0})]}),v.jsx("div",{className:"login-actions",children:v.jsx("button",{onClick:Hs,disabled:M,children:M?"Verifying...":"Login / Register"})}),y&&v.jsx("p",{className:"lock-error",children:y}),_&&v.jsx("p",{className:"lock-success",children:_}),v.jsxs("div",{className:"contact-links",children:[v.jsx("p",{children:"Need Help? Contact Developer"}),v.jsxs("div",{className:"social-links-login",children:[v.jsxs("a",{href:"https://t.me/tasints",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(mg,{})," Telegram"]}),v.jsxs("a",{href:"https://wa.me/message/K4UWIP55B2XGP1",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(pg,{})," WhatsApp"]})]})]})]})}):v.jsxs("main",{children:[P&&v.jsx("div",{className:"progress-indicator",children:Te}),v.jsxs("div",{className:"notification-container",children:[" ",Ut.map(T=>v.jsx("div",{className:"notification",children:T.message},T.id))," "]}),Tt&&v.jsxs("div",{className:"image-preview-modal",onClick:()=>Ho(null),children:[" ",v.jsx("span",{className:"close-preview",children:"×"})," ",v.jsx("img",{src:Tt,alt:"Preview"})," "]}),Ti&&v.jsx(_A,{onConfirm:mo,onCancel:()=>{hn(!1),ue("Generation cancelled by user.")},imageCount:Ee,isAutopilot:Na}),Nn&&v.jsx(TA,{projectName:Nn,onConfirm:Ui,onCancel:Qs}),Ru&&v.jsx(CA,{onConfirm:Ws,onCancel:()=>Ls(!1)}),Du&&v.jsx(SA,{onConfirm:pi,onCancel:()=>ea(!1),fromModel:zn,toModel:"Veo 3.1"}),ku&&v.jsx("div",{className:"confirmation-modal-overlay",children:v.jsxs("div",{className:"confirmation-modal-content autopilot-modal-content",children:[v.jsxs("div",{className:"autopilot-header",children:[v.jsxs("h3",{children:[v.jsx(hg,{})," Master Autopilot"]}),v.jsxs("div",{className:"autopilot-timer-display",children:["Elapsed Time: ",v.jsx("strong",{children:Ul(Uu)})]})]}),v.jsxs("div",{className:"autopilot-main-content",children:[v.jsxs("div",{className:"autopilot-progress-status-container",children:[v.jsxs("div",{className:"autopilot-progress-ring",children:[v.jsxs("svg",{width:"120",height:"120",viewBox:"0 0 120 120",children:[v.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"var(--border)",strokeWidth:"8"}),v.jsx("circle",{cx:"60",cy:"60",r:"54",fill:"none",stroke:"var(--primary)",strokeWidth:"8",strokeDasharray:2*Math.PI*54,strokeDashoffset:2*Math.PI*54*(1-(Ye?(Ye.step-1)/Ye.totalSteps:0)),strokeLinecap:"round",style:{transform:"rotate(-90deg)",transformOrigin:"center",transition:"stroke-dashoffset 0.5s ease"}})]}),v.jsx("div",{className:"autopilot-progress-text",children:Ye?`${Math.round((Ye.step-1)/Ye.totalSteps*100)}%`:"0%"})]}),v.jsx("div",{className:"autopilot-workflow",children:v.jsx("ol",{children:Di.map(T=>{if(!((T.id!==1||Pa)&&(T.id!==2||di||!Di.some(Ae=>Ae.id===6)))&&T.id===1&&!Pa)return null;const U=Ye?T.id<Ye.stepId:!1,Y=Ye?T.id===Ye.stepId&&!qn&&!Ye.isError:!1,$=Ye?T.id===Ye.stepId&&Ye.isError:!1;let oe="";return U&&(oe="completed"),Y&&(oe="active"),$&&(oe="error"),v.jsxs("li",{className:oe,children:[U?v.jsx(hu,{}):v.jsx("div",{className:"step-placeholder-icon"}),T.text]},T.id)})})})]}),v.jsxs("div",{className:"autopilot-controls-config-panel",children:[v.jsxs("div",{className:"autopilot-config-box",children:[v.jsxs("div",{className:"config-item-autopilot",children:[v.jsx("input",{type:"checkbox",id:"rephrase-autopilot",checked:Pa,onChange:T=>Zl(T.target.checked),disabled:!!Ye}),v.jsx("label",{htmlFor:"rephrase-autopilot",children:"Rephrase Script for Copyright"})]}),v.jsxs("div",{className:"config-item-autopilot",children:[v.jsx("input",{type:"checkbox",id:"auto-config-voice-autopilot",checked:di,onChange:T=>Xl(T.target.checked),disabled:!!Ye}),v.jsx("label",{htmlFor:"auto-config-voice-autopilot",children:"Use AI to Auto-Configure Voiceover"})]}),v.jsxs("div",{className:"config-item-autopilot sub-option-autopilot",children:[v.jsx("input",{type:"checkbox",id:"use-user-voice-autopilot",checked:Gs,onChange:T=>Ql(T.target.checked),disabled:!!Ye||!di}),v.jsx("label",{htmlFor:"use-user-voice-autopilot",children:"Use User Selected Voice"})]})]}),v.jsxs("div",{className:"autopilot-config-box voice-gender-box",children:[v.jsx("p",{className:"config-title",children:"Voice Gender Preference:"}),v.jsxs("div",{className:"autopilot-voice-pref-radios",children:[v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"any",checked:Wn==="any",onChange:T=>Vs(T.target.value),disabled:!!Ye||!di})," Any"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"male",checked:Wn==="male",onChange:T=>Vs(T.target.value),disabled:!!Ye||!di})," Male"]}),v.jsxs("label",{children:[v.jsx("input",{type:"radio",name:"autopilot-gender",value:"female",checked:Wn==="female",onChange:T=>Vs(T.target.value),disabled:!!Ye||!di})," Female"]})]})]})]})]}),Ye&&v.jsxs("div",{className:`autopilot-current-step-status ${Ye.isError?"error":""} ${qn?"completed":""}`,children:[v.jsx("div",{className:"status-indicator-bar",children:qn?v.jsx(hu,{}):Ye.isError?v.jsx(pu,{}):v.jsx("div",{className:"loader small-loader"})}),v.jsxs("span",{children:[v.jsx("strong",{children:qn?"Master Autopilot Complete!":`Step ${Ye.step}/${Ye.totalSteps}: ${(zi==null?void 0:zi.text)||"..."}`}),v.jsx("br",{}),Ye.message]})]}),v.jsxs("div",{className:"confirmation-modal-actions",children:[v.jsx("button",{onClick:()=>Bs(!1),className:"cancel-btn",children:Ye&&!qn&&!Ye.isError?"Hide":"Close"}),qn?v.jsx("button",{onClick:()=>{Bs(!1),gn(null)},className:"confirm-btn",children:"OK"}):Ye&&Ye.isError?v.jsxs(v.Fragment,{children:[v.jsx("button",{onClick:Xa,className:"stop-button",children:"Cancel Autopilot"}),Ye.stepId===3&&v.jsx("button",{onClick:Tn,className:"confirm-btn",children:"Retry & Resume"})]}):Ye?v.jsx("button",{onClick:Xa,className:"stop-button",children:"Stop Autopilot"}):v.jsx("button",{onClick:gi,className:"confirm-btn",children:"Start Autopilot"})]})]})}),v.jsxs("div",{className:"app-header",children:[v.jsx("h1",{children:"ULTIMATE AI AUTOMATIONER"}),v.jsxs("p",{className:"developed-by",children:["Developed by ",v.jsxs("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",children:[v.jsx("span",{className:"tech",children:"TECH"})," ",v.jsx("span",{className:"seeker",children:"SEEKER"})," ",v.jsx("span",{className:"academy",children:"ACADEMY"})]})]})]}),v.jsxs("div",{className:"top-bar",children:[v.jsxs("button",{className:"master-autopilot-btn",onClick:vt,disabled:!I.trim()||Kt.length===0,children:[v.jsx(hg,{})," Master Autopilot"]}),v.jsxs("div",{className:"top-bar-controls",children:[v.jsxs("div",{className:"log-shortcuts",children:[v.jsxs("button",{onClick:()=>{var T;return(T=Ua.current)==null?void 0:T.scrollIntoView({behavior:"smooth"})},title:"Go to Notification Log",children:[v.jsx(cA,{})," Notifications"]}),v.jsxs("button",{onClick:()=>{var T;return(T=Yl.current)==null?void 0:T.scrollIntoView({behavior:"smooth"})},title:"Go to Error Log",children:[v.jsx(pu,{})," Errors"]})]}),v.jsxs("div",{className:"theme-selector",children:[v.jsxs("div",{className:"palette-switcher",children:[v.jsx("span",{children:"Palette:"}),v.jsx("button",{onClick:()=>et("black-purple"),className:ze==="black-purple"?"active":"",children:"B&P"}),v.jsx("button",{onClick:()=>et("cyan"),className:ze==="cyan"?"active":"",children:"Cyan"}),v.jsx("button",{onClick:()=>et("green"),className:ze==="green"?"active":"",children:"Green"}),v.jsx("button",{onClick:()=>et("purple"),className:ze==="purple"?"active":"",children:"Purple"}),v.jsx("button",{onClick:()=>et("orange"),className:ze==="orange"?"active":"",children:"Orange"}),v.jsx("button",{onClick:()=>et("dark"),className:ze==="dark"?"active":"",children:"Dark"})]}),v.jsxs("div",{className:"theme-toggle",children:[v.jsx("span",{children:Ne==="dark"?"Dark Mode":"Light Mode"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:Ne==="light",onChange:()=>we(T=>T==="dark"?"light":"dark")}),v.jsx("span",{className:"slider"})]})]})]})]})]}),v.jsxs("div",{className:"global-settings",children:[v.jsxs("div",{className:"card project-card",children:[v.jsx("h2",{children:"Project Management"}),v.jsx("div",{className:"project-actions-top",children:v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:Ct,onChange:T=>Wi(T.target.value),placeholder:"Enter Project Name"}),v.jsx("button",{onClick:fr,disabled:!Ct.trim(),children:"Save"}),v.jsx("button",{onClick:()=>oa(),disabled:!Ct.trim(),children:"Load"})]})}),v.jsxs("div",{className:"storage-info",children:[v.jsx("div",{className:"storage-bar",children:v.jsx("div",{className:"storage-bar-fill",style:{width:`${$o.percentage}%`}})}),v.jsxs("p",{className:"storage-text",children:[$o.used," MB Used / ",(100-$o.percentage).toFixed(0),"% Free"]})]}),v.jsxs("button",{onClick:()=>Ls(!0),className:"clear-storage-btn",title:"Clear all saved projects from browser",children:[v.jsx(rA,{})," Clear All Projects"]}),eo.length>0&&v.jsxs("div",{className:"saved-projects-list",children:[v.jsx("h3",{children:"Saved Projects"}),v.jsx("ul",{children:eo.map(T=>v.jsxs("li",{children:[v.jsx("span",{className:"project-name",children:T}),v.jsxs("div",{className:"project-item-actions",children:[v.jsx("button",{onClick:()=>oa(T),className:"load-btn-small",children:"Load"}),v.jsx("button",{onClick:()=>dr(T),className:"remove-btn",title:"Delete project",children:"×"})]})]},T))})]})]}),v.jsxs("div",{className:"card api-key-section",children:[v.jsx("h2",{children:"API Key Management"}),v.jsx("p",{className:"description",children:Kt.length===0?v.jsx("span",{className:"api-key-warning",children:"You must add and enable at least one API key to unlock the app."}):"Add your Gemini API keys below and enable one to start using the app."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"password",value:dn,onChange:T=>rn(T.target.value),placeholder:"Add new API Key"}),v.jsx("button",{onClick:$l,children:"Add"})]}),v.jsx("div",{className:"api-key-list",children:v.jsx("ul",{children:Je.map(T=>v.jsxs("li",{className:Kt.includes(T)?"enabled":"",children:[v.jsxs("span",{className:"key-text",children:[T.substring(0,4),"...",T.substring(T.length-4)]}),v.jsxs("div",{className:"api-key-actions",children:[v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",checked:Kt.includes(T),onChange:()=>Os(T)}),v.jsx("span",{className:"slider"})]}),v.jsx("button",{onClick:L=>{L.stopPropagation(),Wl(T)},className:"remove-btn",children:"×"})]})]},T))})})]})]}),v.jsxs("div",{className:"workspace",children:[v.jsxs("fieldset",{disabled:Kt.length===0,className:"control-panel",children:[v.jsxs("div",{className:"card config-section",children:[v.jsx("h2",{children:"Configuration"}),v.jsxs("div",{className:"config-grid",children:[v.jsxs("div",{className:"config-item duration-group",children:[v.jsx("label",{htmlFor:"durationMin",children:"Video Duration"}),v.jsxs("div",{className:"duration-inputs",children:[v.jsxs("div",{className:"duration-input-wrapper",children:[v.jsx("label",{htmlFor:"durationMin",children:"Min"}),v.jsx("input",{type:"number",id:"durationMin",min:"0",value:w,onChange:T=>he(parseInt(T.target.value,10)||0)})]}),v.jsx("span",{className:"duration-separator",children:":"}),v.jsxs("div",{className:"duration-input-wrapper",children:[v.jsx("label",{htmlFor:"durationSec",children:"Sec"}),v.jsx("input",{type:"number",id:"durationSec",min:"0",max:"59",value:j,onChange:T=>Q(parseInt(T.target.value,10)||0)})]})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"imageCount",children:"Number of Images"}),v.jsx("input",{type:"number",id:"imageCount",min:"1",value:Ee,onChange:T=>ye(parseInt(T.target.value,10)||1),title:"Manually editable. Auto-calculated from duration."})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"imageModel",children:"Image Model"}),v.jsxs("select",{id:"imageModel",value:Qi,onChange:T=>bs(T.target.value),children:[v.jsx("option",{value:"imagen-4.0-generate-001",children:"Imagen 4 (High Quality)"}),v.jsx("option",{value:"gemini-2.5-flash-image",children:"Nano Banana (Fast)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"aspectRatio",children:"Aspect Ratio"}),v.jsxs("select",{id:"aspectRatio",value:Re,onChange:T=>D(T.target.value),disabled:Qi==="gemini-2.5-flash-image",title:Qi==="gemini-2.5-flash-image"?"Aspect ratio is not supported by Nano Banana model":"",children:[v.jsx("option",{value:"16:9",children:"16:9 (Widescreen)"}),v.jsx("option",{value:"9:16",children:"9:16 (Portrait)"}),v.jsx("option",{value:"1:1",children:"1:1 (Square)"}),v.jsx("option",{value:"4:3",children:"4:3 (Classic TV)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"cameraAngle",children:"Camera Angle"}),v.jsx("select",{id:"cameraAngle",value:Ue,onChange:T=>Oe(T.target.value),children:mA.map(T=>v.jsx("option",{value:T.value,title:T.description,children:T.value},T.value))})]})]})]}),v.jsxs("div",{className:"card video-analyzer-card",children:[v.jsx("h2",{children:"AI Video Deconstructor"}),v.jsx("p",{className:"description",children:"Paste a video link. AI will use its knowledge to reconstruct the video's script, voice, and style, then auto-fill the relevant sections."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"url",value:Ta,onChange:T=>Ca(T.target.value),placeholder:"https://www.youtube.com/watch?v=..."}),v.jsx("button",{onClick:sr,disabled:Hl,children:Hl?"Deconstructing...":"Deconstruct Video"})]})]}),v.jsxs("div",{className:"card script-assistant-card",children:[v.jsx("h2",{children:"AI Script Assistant"}),v.jsx("p",{className:"description",children:"Don't have a script? Just write a simple idea and let AI generate a script for you."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:Oo,onChange:T=>Bl(T.target.value),placeholder:"e.g., A sci-fi story about a robot who discovers music."}),ws?v.jsx("button",{onClick:()=>Qe.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:$s,disabled:!Oo.trim(),children:"Generate Script"})]})]}),v.jsxs("div",{className:"card script-section",children:[v.jsx("h2",{children:"Script Input"}),He==="text"?v.jsx("textarea",{rows:10,value:I,onChange:T=>R(T.target.value),placeholder:"Once upon a time..."}):v.jsxs("div",{children:[v.jsx("input",{type:"file",ref:ne,onChange:Pu,accept:".srt,.txt",style:{display:"none"}}),v.jsx("button",{onClick:()=>{var T;return(T=ne.current)==null?void 0:T.click()},children:"Upload .SRT / .TXT File"}),pt&&v.jsxs("p",{style:{marginTop:"10px",fontSize:"0.9rem"},children:["Selected file: ",pt]})]}),v.jsxs("div",{className:"script-actions",children:[P?v.jsx("button",{onClick:()=>{Qe.current=!0,K(!1)},className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:po,disabled:!I.trim(),children:"Rephrase for Copyright"}),no?v.jsx("button",{onClick:()=>Qe.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:()=>To(),disabled:!I.trim(),children:"Analyze & Prepare"})]})]}),v.jsxs("div",{className:"card ref-image-section",children:[v.jsx("h2",{children:"Style Reference (Manual)"}),v.jsxs("div",{className:`drop-zone ${wi?"drag-over":""}`,onDragOver:T=>{T.preventDefault(),T.stopPropagation(),lo(!0)},onDragLeave:T=>{T.preventDefault(),T.stopPropagation(),lo(!1)},onDrop:tr,onPaste:nr,children:[v.jsx("p",{children:"Drag & Drop images here, or click button to upload. You can also paste images from clipboard."}),v.jsx("input",{type:"file",ref:be,onChange:na,accept:"image/*",multiple:!0,style:{display:"none"}}),v.jsx("button",{onClick:()=>{var T;return(T=be.current)==null?void 0:T.click()},disabled:!!V,style:{marginTop:"1rem"},children:V?"Analyzing Image...":"Upload Images"}),v.jsx("div",{className:"reference-files-grid",children:le.map(T=>v.jsxs("div",{className:"ref-file-item",children:[" ",T.dataUrl?v.jsx("img",{src:T.dataUrl,alt:T.name,className:"ref-file-preview"}):v.jsxs("div",{className:"ref-file-placeholder",title:T.name,children:[v.jsx(fg,{}),v.jsxs("span",{children:[T.name.substring(0,10),"..."]})]}),v.jsx("button",{onClick:()=>Bu(T.name),className:"ref-delete-btn",children:"×"})]},T.name))})]})]}),v.jsxs("div",{className:"card character-profile-card",children:[v.jsxs("div",{className:"card-header",children:[v.jsx("h2",{children:"Character Profile (for Consistency)"}),v.jsx("button",{onClick:_n,className:"add-character-btn",children:"+"})]}),v.jsx("p",{className:"description",children:"Describe your characters. Upload images, and AI will add detailed analysis to reinforce consistency."}),v.jsx("div",{className:"character-profiles-container",children:Ci.map((T,L)=>v.jsxs("div",{className:"character-profile-item",children:[v.jsxs("div",{className:"character-header",children:[v.jsxs("h3",{children:["Character ",L+1]}),Ci.length>1&&v.jsx("button",{onClick:()=>Sn(T.id),className:"remove-btn",children:"×"})]}),v.jsx("textarea",{rows:4,value:T.userDescription,onChange:U=>mi(T.id,U.target.value),placeholder:"e.g., A young detective named Kai..."}),T.aiDescription&&v.jsx("pre",{className:"ai-description",children:T.aiDescription}),v.jsxs("div",{className:`drop-zone ${Qo===T.id?"drag-over":""}`,onDragOver:U=>{U.preventDefault(),U.stopPropagation(),Us(T.id)},onDragLeave:U=>{U.preventDefault(),U.stopPropagation(),Us(null)},onDrop:U=>So(U,T.id),onPaste:U=>Ka(U,T.id),children:[v.jsx("input",{type:"file",ref:U=>{Gl.current[T.id]=U},onChange:U=>_o(U,T.id),accept:"image/*",style:{display:"none"}}),v.jsx("button",{onClick:()=>{var U;return(U=Gl.current[T.id])==null?void 0:U.click()},disabled:zt===T.id,children:zt===T.id?"Analyzing...":"Upload Image"}),T.image?v.jsxs("div",{className:"ref-file-item",children:[v.jsx("img",{src:T.image.dataUrl,alt:"Character Reference",className:"ref-file-preview"}),v.jsx("button",{onClick:()=>Ot(U=>U.map(Y=>Y.id===T.id?{...Y,image:null}:Y)),className:"ref-delete-btn",children:"×"})]}):v.jsx("p",{children:"Drop or Paste Image"})]})]},T.id))})]}),v.jsxs("div",{className:"card style-section",children:[v.jsx("h2",{children:"Choose Theme & Styles"}),v.jsxs("div",{className:"collapsible",children:[v.jsxs("button",{className:"collapsible-header",onClick:()=>en(!qt),children:["Primary Themes (Select multiple) ",qt?"[-]":"[+]"]}),qt&&v.jsx("div",{className:"style-grid collapsible-content",children:mu.map(T=>v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:T,checked:B.includes(T),onChange:()=>zu(T)}),v.jsx("label",{htmlFor:T,children:T})]},T))})]}),v.jsxs("div",{className:"collapsible",children:[v.jsxs("button",{className:"collapsible-header",onClick:()=>ve(!E),children:["Artistic Modifiers ",E?"[-]":"[+]"]}),E&&v.jsx("div",{className:"style-grid collapsible-content",children:gu.map(T=>v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:T,checked:re.includes(T),onChange:()=>Lu(T)}),v.jsx("label",{htmlFor:T,children:T})]},T))})]})]}),v.jsxs("div",{className:"card",children:[v.jsx("h2",{children:"Advanced Styling"}),v.jsx("label",{htmlFor:"negativePrompt",children:"Negative Prompt (optional)"}),v.jsx("textarea",{id:"negativePrompt",rows:3,value:wn,onChange:T=>io(T.target.value),placeholder:"e.g., poorly drawn hands, blurry, watermark, text"}),v.jsx("p",{className:"description",children:"Describe elements to exclude from your images."})]}),v.jsxs("div",{className:"card",children:[v.jsx("h2",{children:"Style Presets"}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"text",value:bt,onChange:T=>Rs(T.target.value),placeholder:"New Preset Name"}),v.jsx("button",{onClick:On,children:"Save Style"})]}),v.jsx("div",{className:"preset-list",children:li.map(T=>v.jsxs("div",{className:"preset-item",children:[v.jsx("span",{children:T.name}),v.jsxs("div",{className:"preset-actions",children:[v.jsx("button",{onClick:()=>Fn(T),children:"Load"}),v.jsx("button",{onClick:()=>ei(T.name),className:"remove-btn",children:"×"})]})]},T.name))})]}),v.jsxs("div",{className:"card main-actions-card",children:[v.jsxs("div",{className:"autopilot-toggle",children:[v.jsx("label",{htmlFor:"autopilot",children:"Autopilot Mode"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",id:"autopilot",checked:Na,onChange:()=>Ko(T=>!T)}),v.jsx("span",{className:"slider"})]})]}),de||ge?v.jsxs(v.Fragment,{children:[v.jsx("button",{className:"stop-button",onClick:ho,children:"Stop Generation"}),v.jsx("span",{children:"Generating... Please wait."})]}):v.jsx("button",{className:"generate-button",onClick:Ys,disabled:de||P||ws||!!V,children:"Generate Prompts & Images"}),k.some(T=>T.imageStatus==="failed")&&!ge&&v.jsx("button",{onClick:Ha,disabled:ql,className:"retry-button",children:ql?"Retrying...":`Retry ${k.filter(T=>T.imageStatus==="failed").length} Failed Images`})]})]}),v.jsx("div",{className:"output-panel",children:v.jsxs("div",{className:"card results-section",children:[v.jsx("div",{className:"results-header",children:v.jsxs("h2",{children:["Generated Prompts & Images (",k.filter(T=>T.imageStatus==="completed").length,"/",k.length||Ee," ready)"]})}),k.length>0?k.map((T,L)=>v.jsxs("div",{className:"result-item",children:[v.jsxs("div",{className:"result-content",children:[v.jsxs("h3",{children:["Scene ",L+1]}),v.jsx("p",{children:T.scene_description}),v.jsxs("div",{className:"prompt-box",children:[v.jsxs("div",{className:"prompt-header",children:[v.jsx(fg,{}),v.jsx("span",{children:"Image Prompt"}),v.jsx("button",{className:"copy-btn",title:"Copy image prompt",onClick:()=>er(T.image_prompt,`image-${L}`),children:$i===`image-${L}`?v.jsx(hu,{}):v.jsx(cg,{})})]}),v.jsx("textarea",{className:"prompt-text-area",value:T.image_prompt,onChange:U=>ar(L,U.target.value,"image")})]}),T.video_prompt&&v.jsxs("div",{className:"prompt-box",children:[v.jsxs("div",{className:"prompt-header",children:[v.jsx(dg,{}),v.jsxs("span",{children:["Video Prompt (",zn,")"]}),v.jsx("button",{className:"copy-btn",title:"Copy video prompt",onClick:()=>er(T.video_prompt||"",`video-${L}`),children:$i===`video-${L}`?v.jsx(hu,{}):v.jsx(cg,{})})]}),v.jsx("textarea",{className:"prompt-text-area video-prompt-area",value:T.video_prompt,onChange:U=>ar(L,U.target.value,"video")})]})]}),v.jsxs("div",{className:"image-preview-container",onClick:()=>T.imageUrl&&Ho(T.imageUrl),children:[T.imageStatus==="loading"&&v.jsx("div",{className:"loader"}),T.imageStatus==="completed"&&T.imageUrl&&v.jsx("img",{src:T.imageUrl,alt:`Generated Scene ${L+1}`}),T.imageStatus==="retrying"&&v.jsx("div",{className:"error-placeholder",title:T.error,children:"Retrying..."}),T.imageStatus==="failed"&&v.jsx("div",{className:"error-placeholder",title:T.error,children:T.error?T.error.substring(0,50)+"...":"Failed"})]}),v.jsxs("div",{className:"result-actions",children:[v.jsx("button",{title:"Download Image",onClick:()=>on(T.imageUrl,L),disabled:!T.imageUrl,children:v.jsx(Tu,{})}),v.jsx("button",{title:"Regenerate Image",onClick:()=>Fs(L),disabled:ge,children:v.jsx(oA,{})})]})]},L)):v.jsxs("div",{className:"placeholder-text",children:[v.jsx("p",{children:"Your generated images and prompts will appear here."}),v.jsx("p",{children:'Complete the steps in the control panel on the left and click "Generate" to begin.'})]})]})})]}),v.jsxs("div",{className:"post-production-wrapper",children:[v.jsxs("div",{className:"card",children:[v.jsxs("div",{className:"video-prompt-card",style:{padding:0,border:"none",background:"transparent"},children:[v.jsx("h2",{children:"Video Prompt Options"}),v.jsxs("div",{className:"config-grid",children:[v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"videoModel",children:"Target Video Model"}),v.jsxs("select",{id:"videoModel",value:zn,onChange:T=>ui(T.target.value),children:[v.jsx("option",{value:"Veo 3.1",children:"Veo 3.1 (Google)"}),v.jsx("option",{value:"Sora",children:"Sora (OpenAI)"}),v.jsx("option",{value:"Kling",children:"Kling (Kuaishou)"}),v.jsx("option",{value:"Vidu",children:"Vidu (ShengShu)"}),v.jsx("option",{value:"Hailuo",children:"Hailuo (Alibaba)"})]})]}),v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"videoPromptBasis",children:"Prompt Generation Basis"}),v.jsxs("select",{id:"videoPromptBasis",value:Ln,onChange:T=>Is(T.target.value),children:[v.jsx("option",{value:"image-driven",children:"Image-Driven (Animate Scene)"}),v.jsx("option",{value:"script-driven",children:"Script-Driven (New Interpretation)"})]})]}),v.jsxs("div",{className:"config-item audio-cues-group",children:[v.jsx("label",{children:"Include Audio Cues"}),v.jsxs("div",{className:"audio-cues-options",children:[v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"dialogue",checked:_a,onChange:T=>Yo(T.target.checked)}),v.jsx("label",{htmlFor:"dialogue",children:"Dialogue"})]}),v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"ambient",checked:Ai,onChange:T=>Pn(T.target.checked)}),v.jsx("label",{htmlFor:"ambient",children:"Ambient Sound"})]}),v.jsxs("div",{className:"style-item",children:[v.jsx("input",{type:"checkbox",id:"sfx",checked:Zt,onChange:T=>Ds(T.target.checked)}),v.jsx("label",{htmlFor:"sfx",children:"Sound FX"})]})]})]})]})]}),v.jsxs("div",{className:"button-group",children:[Fo?v.jsx("button",{onClick:()=>Qe.current=!0,className:"stop-button",children:"Stop"}):v.jsx("button",{onClick:ia,disabled:Fo||k.length===0&&Ln==="image-driven"||!I.trim(),children:Fo?"Generating...":"Generate Video Prompts"}),v.jsx("button",{onClick:Rn,disabled:k.filter(T=>T.imageStatus==="completed").length===0,children:"Download All as ZIP"}),v.jsx("button",{onClick:ja,disabled:k.length===0,children:"Export All Prompts"})]})]}),v.jsxs("div",{className:`card tts-card ${Ei?"configuring":""}`,children:[Ei&&v.jsxs("div",{className:"configuring-overlay",children:[v.jsx("div",{className:"loader"}),v.jsx("p",{children:"AI is auto-configuring voiceover settings..."})]}),v.jsxs("div",{className:"card-header tts-main-header",children:[v.jsxs("h2",{children:[v.jsx(aA,{})," AI Voiceover Generation"]}),v.jsxs("button",{onClick:()=>Za().catch(T=>{T.message!=="stopped"&&console.error("Audio Autopilot failed:",T)}),className:"autopilot-audio-btn",disabled:vi||!wt.trim(),children:[v.jsx(uA,{})," Audio Autopilot"]})]}),v.jsxs("div",{className:"voiceover-script-header",children:[v.jsx("h3",{children:"Voiceover Script"}),v.jsx("button",{onClick:()=>oo(I),children:"Copy from Main Script"})]}),v.jsx("textarea",{rows:8,value:wt,onChange:T=>oo(T.target.value),placeholder:"Enter the text to be converted to speech here..."}),v.jsxs("div",{className:"audio-estimator-info",children:[v.jsxs("div",{children:[v.jsx("span",{children:"Word Count:"})," ",v.jsxs("strong",{children:[Qa," ",yi>0?`/ ~${yi}`:""]})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Est. Duration:"})," ",v.jsx("strong",{children:Ul(mr)})]}),v.jsxs("div",{children:[v.jsx("span",{children:"Target Duration:"})," ",v.jsx("strong",{children:Ul(ni)})]})]}),v.jsx("button",{onClick:Vu,disabled:Vn||ni===0||!wt.trim(),children:Vn?"Optimizing...":"Fit Script to Duration"}),v.jsxs("div",{className:"voice-library",children:[v.jsx("div",{className:"voice-library-header",children:v.jsxs("div",{className:"config-item",children:[v.jsx("label",{htmlFor:"ttsTone",children:"Tone / Emotion"}),v.jsx("select",{id:"ttsTone",value:Ni,onChange:T=>Da(T.target.value),children:gA.map(T=>v.jsx("option",{value:T,children:T},T))})]})}),v.jsx("h4",{className:"voice-list-heading",children:"Select a Voice"}),v.jsx("div",{className:"voice-selector-list",children:vs.filter(T=>T.language==="English"&&(Ni==="All Tones"||T.tones.includes(Ni))).map(T=>v.jsxs("div",{title:T.use_case,className:`voice-selector-item gender-${T.gender.toLowerCase()} ${Xt.voice===T.conceptualName?"selected":""} ${Xn===T.conceptualName?"auditioning":""}`,onClick:()=>Gn(L=>({...L,voice:T.conceptualName})),children:[v.jsxs("div",{className:"voice-info",children:[v.jsxs("div",{children:[v.jsx("strong",{children:T.conceptualName}),v.jsx("span",{className:`gender-tag gender-${T.gender.toLowerCase()}-bg`,children:T.gender}),v.jsx("span",{className:"language-tag",children:T.language})]}),v.jsx("small",{children:v.jsxs("em",{children:["Use Case: ",T.use_case," (API: ",T.apiName,")"]})})]}),v.jsx("button",{className:"audition-btn",onClick:L=>{L.stopPropagation(),lr(T)},disabled:Xn!=null&&Xn!==T.conceptualName,children:Xn===T.conceptualName?v.jsx(lA,{}):v.jsx(Jg,{})})]},T.conceptualName))})]}),v.jsxs("div",{className:"tts-advanced-controls",children:[v.jsxs("div",{className:"speed-control",children:[v.jsx("span",{children:"Slow"}),v.jsx("input",{type:"range",min:"0.7",max:"1.3",step:"0.01",value:Xt.speed,onChange:T=>Gn(L=>({...L,speed:parseFloat(T.target.value)}))}),v.jsx("span",{children:"Fast"}),v.jsxs("span",{className:"speed-value",children:[Xt.speed.toFixed(2),"x"]})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"customTtsPrompt",children:"Custom Voice Prompt (Overrides Tone)"}),v.jsx("textarea",{id:"customTtsPrompt",rows:2,value:Bn,onChange:T=>Aa(T.target.value),placeholder:"e.g., spoken by an old, wise narrator with a sense of wonder."})]}),v.jsxs("div",{className:"force-speed-toggle",children:[v.jsx("label",{htmlFor:"forceSpeed",children:"Force Speed Slider Setting"}),v.jsxs("label",{className:"switch",children:[v.jsx("input",{type:"checkbox",id:"forceSpeed",checked:so,onChange:T=>ci(T.target.checked)}),v.jsx("span",{className:"slider"})]})]})]}),v.jsxs("div",{className:"tts-actions",children:[(Ea||za)&&v.jsx("button",{onClick:Ea?Gu:Ks,className:"stop-button main-stop-button",children:"Stop Generation"}),v.jsx("div",{className:"tts-action-group wide-button",children:v.jsx("button",{onClick:pr,disabled:vi||!wt.trim(),children:Ma?"Generating...":"Generate Sample (15s)"})}),Ia&&v.jsx("div",{className:"generation-result-item",children:v.jsx(xf,{src:Ia,title:"Sample",onDownload:()=>{const T=document.createElement("a");T.href=Ia,T.download=`${Ct.replace(/\s+/g,"_")}_sample.wav`,document.body.appendChild(T),T.click(),document.body.removeChild(T)}})}),v.jsxs("div",{className:"tts-action-pair",children:[v.jsxs("div",{className:"tts-action-group generate-group",children:[v.jsx("button",{className:"generate-full-btn",onClick:rr,disabled:vi||!wt.trim(),children:Ea?"Generating...":"Generate Full Audio (Single File)"}),Ol&&v.jsx("div",{className:"generation-result-item",children:v.jsx(xf,{src:Ol,title:"Full Audio",onDownload:()=>go()})})]}),v.jsxs("button",{onClick:()=>go(),disabled:!ks,className:"download-button paired-download-btn",children:[v.jsx(Tu,{})," Download"]})]}),v.jsxs("div",{className:"tts-action-group",children:[v.jsx("button",{className:"generate-full-btn",onClick:Js,disabled:vi||!wt.trim(),children:za?"Generating...":"Generate Full Audio (In Chunks)"}),$n.length>0&&v.jsxs("div",{className:"generation-result-item full-width",children:[v.jsxs("h4",{children:["Audio Chunks (",$n.filter(T=>T.status==="complete").length,"/",$n.length,")"]}),v.jsx("div",{className:"audio-chunk-list",children:$n.map(T=>v.jsx("div",{className:`audio-chunk-item ${T.status}`,children:v.jsxs("div",{className:"audio-chunk-controls",children:[T.status==="pending"&&v.jsxs("span",{children:["Chunk ",T.id+1,": Pending..."]}),T.status==="generating"&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"loader small"}),v.jsxs("span",{children:["Chunk ",T.id+1,": Generating..."]})]}),T.status==="failed"&&v.jsxs("span",{className:"error-placeholder",title:T.error,children:["Chunk ",T.id+1,": Failed"]}),T.status==="complete"&&T.audioUrl&&v.jsx(xf,{src:T.audioUrl,title:`Chunk ${T.id+1}`,onDownload:()=>go(T.audioBytes,`${Ct}_chunk_${T.id+1}.wav`)})]})},T.id))}),v.jsxs("div",{className:"chunk-download-actions",children:[v.jsx("button",{onClick:Fa,disabled:vi||Kl||$n.filter(T=>T.status==="complete").length===0,children:Kl?"Merging...":"Merge & Download"}),v.jsx("button",{onClick:vn,disabled:vi||$n.filter(T=>T.status==="complete").length===0,children:"Download as ZIP"})]})]})]})]})]}),v.jsxs("div",{className:"card video-generation-card",children:[v.jsxs("h2",{children:[v.jsx(dg,{})," Video Generation (Veo)"]}),v.jsx("p",{className:"description",children:"Select scenes with generated video prompts and use your own Veo-enabled API key to generate video clips."}),v.jsxs("div",{className:"input-group",children:[v.jsx("input",{type:"password",value:Ri,onChange:T=>Jl(T.target.value),placeholder:"Enter Veo API Key (requires linked Cloud project)"}),v.jsx("button",{onClick:Ya,children:"Save Key"})]}),v.jsxs("div",{className:"button-group main-actions",children:[Iu?v.jsx("button",{className:"stop-button",onClick:cr,children:"Stop Generation"}):v.jsxs("button",{onClick:Zs,disabled:!Ri.trim()||ro.length===0,children:["Generate ",ro.length," Selected Videos"]}),v.jsx("button",{onClick:qu,disabled:Object.values(mn).filter(T=>T.status==="complete").length===0,children:"Download All as ZIP"})]}),k.length>0&&v.jsx("div",{className:"video-generation-list",children:k.map((T,L)=>{var U,Y,$,oe,Ae,ke,De,xe;return T.video_prompt?v.jsxs("div",{className:"video-gen-scene-item",children:[v.jsxs("div",{className:"video-gen-selector",children:[v.jsx("input",{type:"checkbox",id:`scene-select-${L}`,checked:ro.includes(L),onChange:()=>Ja(L)}),v.jsx("label",{htmlFor:`scene-select-${L}`,children:v.jsxs("h3",{children:["Scene ",L+1]})})]}),v.jsx("div",{className:"video-gen-content",children:v.jsx("textarea",{readOnly:!0,value:T.video_prompt,rows:4})}),v.jsx("div",{className:"video-gen-status",children:((U=mn[L])==null?void 0:U.status)==="generating"||((Y=mn[L])==null?void 0:Y.status)==="polling"?v.jsxs("div",{className:"status-indicator generating",children:[v.jsx("div",{className:"loader small"}),v.jsx("span",{children:($=mn[L])==null?void 0:$.progressMessage})]}):((oe=mn[L])==null?void 0:oe.status)==="complete"&&((Ae=mn[L])!=null&&Ae.videoUrl)?v.jsxs("div",{className:"video-complete-container",children:[v.jsx("video",{src:(ke=mn[L])==null?void 0:ke.videoUrl,loop:!0,muted:!0,playsInline:!0}),v.jsx("button",{className:"video-download-btn",onClick:()=>vo(mn[L].videoUrl,L),children:v.jsx(Tu,{})})]}):((De=mn[L])==null?void 0:De.status)==="failed"?v.jsxs("div",{className:"status-indicator failed",title:(xe=mn[L])==null?void 0:xe.error,children:[v.jsx(pu,{}),v.jsx("span",{children:"Failed"})]}):v.jsx("div",{className:"status-indicator",children:"Idle"})})]},L):null})})]})]}),v.jsxs("div",{className:"logs-and-info-wrapper",children:[v.jsx(_g,{ref:Ua,title:"Notification Log",icon:v.jsx(gg,{}),logs:W,onClear:()=>J([]),type:"notification"}),v.jsx(_g,{ref:Yl,title:"Error Log",icon:v.jsx(pu,{}),logs:H,onClear:()=>O([]),type:"error"}),v.jsxs("div",{className:`card usage-guide-card collapsible ${si?"open":""}`,children:[v.jsxs("h2",{onClick:()=>Ns(!si),children:[v.jsxs("span",{className:"collapsible-title",children:[v.jsx(gg,{})," API Usage & Limits Guide"]})," ",v.jsx("span",{children:si?"[-]":"[+]"})]}),si&&v.jsxs("div",{className:"collapsible-content",children:[v.jsx("p",{children:"This app uses the Google Gemini API. Your usage is subject to certain limits, especially on the free tier provided by Google AI Studio."}),v.jsxs("table",{className:"usage-table",children:[v.jsx("thead",{children:v.jsxs("tr",{children:[v.jsx("th",{children:"Feature"}),v.jsx("th",{children:"Model Used"}),v.jsx("th",{children:"Free Tier Limit (per minute)"}),v.jsx("th",{children:"Notes / Cost Factor"})]})}),v.jsxs("tbody",{children:[v.jsxs("tr",{children:[v.jsx("td",{children:"Image Generation (High Quality)"}),v.jsx("td",{children:"Imagen 4"}),v.jsx("td",{children:"~5 Requests"}),v.jsx("td",{children:"Paid plans are charged per image. Cost depends on resolution."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Image Generation (Fast)"}),v.jsx("td",{children:"Nano Banana"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Cheaper than Imagen. Good for quick previews."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Script/Text Analysis & Gen"}),v.jsx("td",{children:"Gemini 2.5 Pro"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Paid plans are charged per 1,000 characters (input + output)."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"AI Voiceover (TTS)"}),v.jsx("td",{children:"TTS Model"}),v.jsx("td",{children:"~15 Requests"}),v.jsx("td",{children:"Paid plans are charged per 1,000 characters."})]}),v.jsxs("tr",{children:[v.jsx("td",{children:"Video Generation"}),v.jsx("td",{children:"Veo 3.1"}),v.jsx("td",{children:"N/A (Requires Paid Plan)"}),v.jsx("td",{children:"Requires a Veo-enabled API key with a billing account. Charged per second of video generated."})]})]})]}),v.jsxs("p",{className:"important-note",children:[v.jsx("strong",{children:"Important:"}),' The limits above are estimates and can change. The "per minute" quota resets every 60 seconds. For large-scale projects, it is highly recommended to set up a ',v.jsx("a",{href:"https://console.cloud.google.com/billing",target:"_blank",rel:"noopener noreferrer",children:"Google Cloud Billing Account"})," to avoid interruptions. This app is designed to cycle through multiple API keys to help manage free tier limits."]})]})]}),v.jsxs("div",{className:`card about-card collapsible ${va?"open":""}`,children:[v.jsxs("h2",{onClick:()=>Vl(!va),children:[v.jsx("span",{className:"collapsible-title",children:"About This App & Developer"})," ",v.jsx("span",{children:va?"[-]":"[+]"})]}),va&&v.jsxs("div",{className:"collapsible-content",children:[v.jsx("h3",{children:"About This Application"}),v.jsx("p",{children:"This Ultimate AI Automationer was created to empower creators, filmmakers, and storytellers by simplifying the complex process of turning a script into a visual and auditory experience. By leveraging the power of powerful AI, this tool automates everything from scene breakdown, prompt generation, to image creation and voiceover synthesis. The goal is to save you countless hours of manual work, allowing you to focus on what truly matters: your creativity."}),v.jsx("h3",{children:"About Me"}),v.jsxs("p",{children:["Hello! I'm ",v.jsx("strong",{children:"Tasin"}),", a creative strategist and tech enthusiast passionate about the intersection of technology and creativity."]}),v.jsxs("p",{children:["As a YouTuber, AI-Driven Content Creator, and Prompt Engineer, I explore the cutting edge of digital innovation. The ",v.jsx("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",children:v.jsxs("strong",{children:[v.jsx("span",{className:"tech",children:"Tech"})," ",v.jsx("span",{className:"seeker",children:"Seeker"})," ",v.jsx("span",{className:"academy",children:"Academy"})]})})," and YouTube channel ",v.jsx("a",{href:"https://www.youtube.com/@TechSeekerTasin",target:"_blank",rel:"noopener noreferrer",children:v.jsxs("strong",{children:[v.jsx("span",{className:"tech",children:"Tech"})," ",v.jsx("span",{className:"seeker",children:"Seeker"})]})})," is your guide to the future, offering in-depth tech reviews, tutorials on AI and automation, and strategies to enhance your creative workflow."]}),v.jsx("p",{children:"My goal is to educate and empower fellow creators and enthusiasts by making complex technologies accessible and practical. Join me as we explore the tools and ideas shaping our world."}),v.jsxs("div",{className:"social-links",children:[v.jsxs("a",{href:"https://shorturl.at/RqzYI",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(fA,{})," Facebook"]}),v.jsxs("a",{href:"https://www.youtube.com/@techseeker-tasin",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(dA,{})," YouTube"]}),v.jsxs("a",{href:"https://techseekeracademy.com/",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(hA,{})," Website"]}),v.jsxs("a",{href:"https://t.me/techseekertasin",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(mg,{})," Telegram"]}),v.jsxs("a",{href:"https://wa.me/message/K4UWIP55B2XGP1",target:"_blank",rel:"noopener noreferrer",className:"social-link",children:[v.jsx(pg,{})," WhatsApp"]})]})]})]})]})]})}gv.createRoot(document.getElementById("root")).render(v.jsx(Sg.StrictMode,{children:v.jsx(AA,{})}));
